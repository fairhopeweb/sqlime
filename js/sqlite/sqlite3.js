(()=>{var Al=Object.defineProperty;var kl=(ye,le,t)=>le in ye?Al(ye,le,{enumerable:!0,configurable:!0,writable:!0,value:t}):ye[le]=t;var Il=(ye,le)=>()=>(le||ye((le={exports:{}}).exports,le),le.exports);var Ue=(ye,le,t)=>(kl(ye,typeof le!="symbol"?le+"":le,t),t);var Tl=Il((Pe,Qe)=>{var Ne=(()=>{var ye=typeof document<"u"&&document.currentScript?document.currentScript.src:void 0;return function(le={}){var t=typeof le<"u"?le:{},Fe,ve;t.ready=new Promise(function(n,e){Fe=n,ve=e});let Se=globalThis.sqlite3InitModuleState||Object.assign(Object.create(null),{debugModule:()=>{}});delete globalThis.sqlite3InitModuleState,Se.debugModule("globalThis.location =",globalThis.location),t.locateFile=function(n,e){"use strict";let s,o=this.urlParams;return o.has(n)?s=o.get(n):this.sqlite3Dir?s=this.sqlite3Dir+n:this.scriptDir?s=this.scriptDir+n:s=e+n,Se.debugModule("locateFile(",arguments[0],",",arguments[1],")","sqlite3InitModuleState.scriptDir =",this.scriptDir,"up.entries() =",Array.from(o.entries()),"result =",s),s}.bind(Se);let He="emscripten-bug-17951";t[He]=function n(e,s){e.env.foo=function(){};let o=t.locateFile(n.uri,typeof we>"u"?"":we);Se.debugModule("instantiateWasm() uri =",o);let r=()=>fetch(o,{credentials:"same-origin"});return(WebAssembly.instantiateStreaming?async()=>WebAssembly.instantiateStreaming(r(),e).then(m=>s(m.instance,m.module)):async()=>r().then(m=>m.arrayBuffer()).then(m=>WebAssembly.instantiate(m,e)).then(m=>s(m.instance,m.module)))(),{}},t[He].uri="sqlite3.wasm";var pt=Object.assign({},t),Nt=[],dt="./this.program",jt=(n,e)=>{throw e},tt=typeof window=="object",Le=typeof importScripts=="function",zt=typeof process=="object"&&typeof process.versions=="object"&&typeof process.versions.node=="string",Fl=!tt&&!zt&&!Le,we="";function Bt(n){return t.locateFile?t.locateFile(n,we):we+n}var nt,mt,rt,Wt;(tt||Le)&&(Le?we=self.location.href:typeof document<"u"&&document.currentScript&&(we=document.currentScript.src),ye&&(we=ye),we.indexOf("blob:")!==0?we=we.substr(0,we.replace(/[?#].*/,"").lastIndexOf("/")+1):we="",nt=n=>{var e=new XMLHttpRequest;return e.open("GET",n,!1),e.send(null),e.responseText},Le&&(rt=n=>{var e=new XMLHttpRequest;return e.open("GET",n,!1),e.responseType="arraybuffer",e.send(null),new Uint8Array(e.response)}),mt=(n,e,s)=>{var o=new XMLHttpRequest;o.open("GET",n,!0),o.responseType="arraybuffer",o.onload=()=>{if(o.status==200||o.status==0&&o.response){e(o.response);return}s()},o.onerror=s,o.send(null)},Wt=n=>document.title=n);var Ve=t.print||console.log.bind(console),ke=t.printErr||console.warn.bind(console);Object.assign(t,pt),pt=null,t.arguments&&(Nt=t.arguments),t.thisProgram&&(dt=t.thisProgram),t.quit&&(jt=t.quit);var je;t.wasmBinary&&(je=t.wasmBinary);var Ut=t.noExitRuntime||!0;typeof WebAssembly!="object"&&Ee("no native wasm support detected");var Ie,gt=!1,Qt;function ht(n,e){n||Ee(e)}var qt=typeof TextDecoder<"u"?new TextDecoder("utf8"):void 0;function De(n,e,s){for(var o=e+s,r=e;n[r]&&!(r>=o);)++r;if(r-e>16&&n.buffer&&qt)return qt.decode(n.subarray(e,r));for(var i="";e<r;){var m=n[e++];if(!(m&128)){i+=String.fromCharCode(m);continue}var y=n[e++]&63;if((m&224)==192){i+=String.fromCharCode((m&31)<<6|y);continue}var A=n[e++]&63;if((m&240)==224?m=(m&15)<<12|y<<6|A:m=(m&7)<<18|y<<12|A<<6|n[e++]&63,m<65536)i+=String.fromCharCode(m);else{var C=m-65536;i+=String.fromCharCode(55296|C>>10,56320|C&1023)}}return i}function Ge(n,e){return n?De(Ce,n,e):""}function Ke(n,e,s,o){if(!(o>0))return 0;for(var r=s,i=s+o-1,m=0;m<n.length;++m){var y=n.charCodeAt(m);if(y>=55296&&y<=57343){var A=n.charCodeAt(++m);y=65536+((y&1023)<<10)|A&1023}if(y<=127){if(s>=i)break;e[s++]=y}else if(y<=2047){if(s+1>=i)break;e[s++]=192|y>>6,e[s++]=128|y&63}else if(y<=65535){if(s+2>=i)break;e[s++]=224|y>>12,e[s++]=128|y>>6&63,e[s++]=128|y&63}else{if(s+3>=i)break;e[s++]=240|y>>18,e[s++]=128|y>>12&63,e[s++]=128|y>>6&63,e[s++]=128|y&63}}return e[s]=0,s-r}function yt(n,e,s){return Ke(n,Ce,e,s)}function ze(n){for(var e=0,s=0;s<n.length;++s){var o=n.charCodeAt(s);o<=127?e++:o<=2047?e+=2:o>=55296&&o<=57343?(e+=4,++s):e+=3}return e}var Ol,me,Ce,Je,Ht,X,_e,st,bt,Vt,it;function vt(){var n=Ie.buffer;t.HEAP8=me=new Int8Array(n),t.HEAP16=Je=new Int16Array(n),t.HEAP32=X=new Int32Array(n),t.HEAPU8=Ce=new Uint8Array(n),t.HEAPU16=Ht=new Uint16Array(n),t.HEAPU32=_e=new Uint32Array(n),t.HEAPF32=st=new Float32Array(n),t.HEAPF64=it=new Float64Array(n),t.HEAP64=bt=new BigInt64Array(n),t.HEAPU64=Vt=new BigUint64Array(n)}var $e=t.INITIAL_MEMORY||16777216;ht($e>=524288,"INITIAL_MEMORY should be larger than STACK_SIZE, was "+$e+"! (STACK_SIZE=524288)"),t.wasmMemory?Ie=t.wasmMemory:Ie=new WebAssembly.Memory({initial:$e/65536,maximum:32768}),vt(),$e=Ie.buffer.byteLength;var Gt,wt=[],Et=[],Pl=[],xt=[],Kt=!1;function Ll(){return Ut}function Jt(){if(t.preRun)for(typeof t.preRun=="function"&&(t.preRun=[t.preRun]);t.preRun.length;)Yt(t.preRun.shift());at(wt)}function $t(){Kt=!0,!t.noFSInit&&!l.init.initialized&&l.init(),l.ignorePermissions=!1,Te.init(),at(Et)}function Xt(){if(t.postRun)for(typeof t.postRun=="function"&&(t.postRun=[t.postRun]);t.postRun.length;)en(t.postRun.shift());at(xt)}function Yt(n){wt.unshift(n)}function Zt(n){Et.unshift(n)}function Dl(n){}function en(n){xt.unshift(n)}var Oe=0,ot=null,Be=null;function Cl(n){return n}function lt(n){Oe++,t.monitorRunDependencies&&t.monitorRunDependencies(Oe)}function Xe(n){if(Oe--,t.monitorRunDependencies&&t.monitorRunDependencies(Oe),Oe==0&&(ot!==null&&(clearInterval(ot),ot=null),Be)){var e=Be;Be=null,e()}}function Ee(n){t.onAbort&&t.onAbort(n),n="Aborted("+n+")",ke(n),gt=!0,Qt=1,n+=". Build with -sASSERTIONS for more info.";var e=new WebAssembly.RuntimeError(n);throw ve(e),e}var tn="data:application/octet-stream;base64,";function St(n){return n.startsWith(tn)}function Rl(n){return n.startsWith("file://")}var Re;Re="sqlite3.wasm",St(Re)||(Re=Bt(Re));function At(n){try{if(n==Re&&je)return new Uint8Array(je);if(rt)return rt(n);throw"both async and sync fetching of the wasm failed"}catch(e){Ee(e)}}function nn(n){return!je&&(tt||Le)&&typeof fetch=="function"?fetch(n,{credentials:"same-origin"}).then(function(e){if(!e.ok)throw"failed to load wasm binary file at '"+n+"'";return e.arrayBuffer()}).catch(function(){return At(n)}):Promise.resolve().then(function(){return At(n)})}function kt(n,e,s){return nn(n).then(function(o){return WebAssembly.instantiate(o,e)}).then(function(o){return o}).then(s,function(o){ke("failed to asynchronously prepare wasm: "+o),Ee(o)})}function rn(n,e,s,o){return!n&&typeof WebAssembly.instantiateStreaming=="function"&&!St(e)&&typeof fetch=="function"?fetch(e,{credentials:"same-origin"}).then(function(r){var i=WebAssembly.instantiateStreaming(r,s);return i.then(o,function(m){return ke("wasm streaming compile failed: "+m),ke("falling back to ArrayBuffer instantiation"),kt(e,s,o)})}):kt(e,s,o)}function sn(){var n={env:Lt,wasi_snapshot_preview1:Lt};function e(o,r){var i=o.exports;return t.asm=i,Gt=t.asm.__indirect_function_table,Zt(t.asm.__wasm_call_ctors),Xe("wasm-instantiate"),i}lt("wasm-instantiate");function s(o){e(o.instance)}if(t.instantiateWasm)try{return t.instantiateWasm(n,e)}catch(o){ke("Module.instantiateWasm callback failed with error: "+o),ve(o)}return rn(je,Re,n,s).catch(ve),{}}var Y,fe;function Ml(n){this.name="ExitStatus",this.message="Program terminated with exit("+n+")",this.status=n}function at(n){for(;n.length>0;)n.shift()(t)}function Nl(n,e="i8"){switch(e.endsWith("*")&&(e="*"),e){case"i1":return me[n>>0];case"i8":return me[n>>0];case"i16":return Je[n>>1];case"i32":return X[n>>2];case"i64":return bt[n>>3];case"float":return st[n>>2];case"double":return it[n>>3];case"*":return _e[n>>2];default:Ee("invalid type for getValue: "+e)}}function jl(n,e,s="i8"){switch(s.endsWith("*")&&(s="*"),s){case"i1":me[n>>0]=e;break;case"i8":me[n>>0]=e;break;case"i16":Je[n>>1]=e;break;case"i32":X[n>>2]=e;break;case"i64":fe=[e>>>0,(Y=e,+Math.abs(Y)>=1?Y>0?(Math.min(+Math.floor(Y/4294967296),4294967295)|0)>>>0:~~+Math.ceil((Y-+(~~Y>>>0))/4294967296)>>>0:0)],X[n>>2]=fe[0],X[n+4>>2]=fe[1];break;case"float":st[n>>2]=e;break;case"double":it[n>>3]=e;break;case"*":_e[n>>2]=e;break;default:Ee("invalid type for setValue: "+s)}}function on(n,e,s,o){Ee("Assertion failed: "+Ge(n)+", at: "+[e?Ge(e):"unknown filename",s,o?Ge(o):"unknown function"])}var se={isAbs:n=>n.charAt(0)==="/",splitPath:n=>{var e=/^(\/?|)([\s\S]*?)((?:\.{1,2}|[^\/]+?|)(\.[^.\/]*|))(?:[\/]*)$/;return e.exec(n).slice(1)},normalizeArray:(n,e)=>{for(var s=0,o=n.length-1;o>=0;o--){var r=n[o];r==="."?n.splice(o,1):r===".."?(n.splice(o,1),s++):s&&(n.splice(o,1),s--)}if(e)for(;s;s--)n.unshift("..");return n},normalize:n=>{var e=se.isAbs(n),s=n.substr(-1)==="/";return n=se.normalizeArray(n.split("/").filter(o=>!!o),!e).join("/"),!n&&!e&&(n="."),n&&s&&(n+="/"),(e?"/":"")+n},dirname:n=>{var e=se.splitPath(n),s=e[0],o=e[1];return!s&&!o?".":(o&&(o=o.substr(0,o.length-1)),s+o)},basename:n=>{if(n==="/")return"/";n=se.normalize(n),n=n.replace(/\/$/,"");var e=n.lastIndexOf("/");return e===-1?n:n.substr(e+1)},join:function(){var n=Array.prototype.slice.call(arguments);return se.normalize(n.join("/"))},join2:(n,e)=>se.normalize(n+"/"+e)};function ln(){if(typeof crypto=="object"&&typeof crypto.getRandomValues=="function"){var n=new Uint8Array(1);return()=>(crypto.getRandomValues(n),n[0])}else return()=>Ee("randomDevice")}var Ae={resolve:function(){for(var n="",e=!1,s=arguments.length-1;s>=-1&&!e;s--){var o=s>=0?arguments[s]:l.cwd();if(typeof o!="string")throw new TypeError("Arguments to path.resolve must be strings");if(!o)return"";n=o+"/"+n,e=se.isAbs(o)}return n=se.normalizeArray(n.split("/").filter(r=>!!r),!e).join("/"),(e?"/":"")+n||"."},relative:(n,e)=>{n=Ae.resolve(n).substr(1),e=Ae.resolve(e).substr(1);function s(C){for(var j=0;j<C.length&&C[j]==="";j++);for(var W=C.length-1;W>=0&&C[W]==="";W--);return j>W?[]:C.slice(j,W-j+1)}for(var o=s(n.split("/")),r=s(e.split("/")),i=Math.min(o.length,r.length),m=i,y=0;y<i;y++)if(o[y]!==r[y]){m=y;break}for(var A=[],y=m;y<o.length;y++)A.push("..");return A=A.concat(r.slice(m)),A.join("/")}};function ct(n,e,s){var o=s>0?s:ze(n)+1,r=new Array(o),i=Ke(n,r,0,r.length);return e&&(r.length=i),r}var Te={ttys:[],init:function(){},shutdown:function(){},register:function(n,e){Te.ttys[n]={input:[],output:[],ops:e},l.registerDevice(n,Te.stream_ops)},stream_ops:{open:function(n){var e=Te.ttys[n.node.rdev];if(!e)throw new l.ErrnoError(43);n.tty=e,n.seekable=!1},close:function(n){n.tty.ops.fsync(n.tty)},fsync:function(n){n.tty.ops.fsync(n.tty)},read:function(n,e,s,o,r){if(!n.tty||!n.tty.ops.get_char)throw new l.ErrnoError(60);for(var i=0,m=0;m<o;m++){var y;try{y=n.tty.ops.get_char(n.tty)}catch{throw new l.ErrnoError(29)}if(y===void 0&&i===0)throw new l.ErrnoError(6);if(y==null)break;i++,e[s+m]=y}return i&&(n.node.timestamp=Date.now()),i},write:function(n,e,s,o,r){if(!n.tty||!n.tty.ops.put_char)throw new l.ErrnoError(60);try{for(var i=0;i<o;i++)n.tty.ops.put_char(n.tty,e[s+i])}catch{throw new l.ErrnoError(29)}return o&&(n.node.timestamp=Date.now()),i}},default_tty_ops:{get_char:function(n){if(!n.input.length){var e=null;if(typeof window<"u"&&typeof window.prompt=="function"?(e=window.prompt("Input: "),e!==null&&(e+=`
`)):typeof readline=="function"&&(e=readline(),e!==null&&(e+=`
`)),!e)return null;n.input=ct(e,!0)}return n.input.shift()},put_char:function(n,e){e===null||e===10?(Ve(De(n.output,0)),n.output=[]):e!=0&&n.output.push(e)},fsync:function(n){n.output&&n.output.length>0&&(Ve(De(n.output,0)),n.output=[])}},default_tty1_ops:{put_char:function(n,e){e===null||e===10?(ke(De(n.output,0)),n.output=[]):e!=0&&n.output.push(e)},fsync:function(n){n.output&&n.output.length>0&&(ke(De(n.output,0)),n.output=[])}}};function zl(n,e){return Ce.fill(0,n,n+e),n}function Bl(n,e){return Math.ceil(n/e)*e}function It(n){Ee()}var Z={ops_table:null,mount:function(n){return Z.createNode(null,"/",16895,0)},createNode:function(n,e,s,o){if(l.isBlkdev(s)||l.isFIFO(s))throw new l.ErrnoError(63);Z.ops_table||(Z.ops_table={dir:{node:{getattr:Z.node_ops.getattr,setattr:Z.node_ops.setattr,lookup:Z.node_ops.lookup,mknod:Z.node_ops.mknod,rename:Z.node_ops.rename,unlink:Z.node_ops.unlink,rmdir:Z.node_ops.rmdir,readdir:Z.node_ops.readdir,symlink:Z.node_ops.symlink},stream:{llseek:Z.stream_ops.llseek}},file:{node:{getattr:Z.node_ops.getattr,setattr:Z.node_ops.setattr},stream:{llseek:Z.stream_ops.llseek,read:Z.stream_ops.read,write:Z.stream_ops.write,allocate:Z.stream_ops.allocate,mmap:Z.stream_ops.mmap,msync:Z.stream_ops.msync}},link:{node:{getattr:Z.node_ops.getattr,setattr:Z.node_ops.setattr,readlink:Z.node_ops.readlink},stream:{}},chrdev:{node:{getattr:Z.node_ops.getattr,setattr:Z.node_ops.setattr},stream:l.chrdev_stream_ops}});var r=l.createNode(n,e,s,o);return l.isDir(r.mode)?(r.node_ops=Z.ops_table.dir.node,r.stream_ops=Z.ops_table.dir.stream,r.contents={}):l.isFile(r.mode)?(r.node_ops=Z.ops_table.file.node,r.stream_ops=Z.ops_table.file.stream,r.usedBytes=0,r.contents=null):l.isLink(r.mode)?(r.node_ops=Z.ops_table.link.node,r.stream_ops=Z.ops_table.link.stream):l.isChrdev(r.mode)&&(r.node_ops=Z.ops_table.chrdev.node,r.stream_ops=Z.ops_table.chrdev.stream),r.timestamp=Date.now(),n&&(n.contents[e]=r,n.timestamp=r.timestamp),r},getFileDataAsTypedArray:function(n){return n.contents?n.contents.subarray?n.contents.subarray(0,n.usedBytes):new Uint8Array(n.contents):new Uint8Array(0)},expandFileStorage:function(n,e){var s=n.contents?n.contents.length:0;if(!(s>=e)){var o=1024*1024;e=Math.max(e,s*(s<o?2:1.125)>>>0),s!=0&&(e=Math.max(e,256));var r=n.contents;n.contents=new Uint8Array(e),n.usedBytes>0&&n.contents.set(r.subarray(0,n.usedBytes),0)}},resizeFileStorage:function(n,e){if(n.usedBytes!=e)if(e==0)n.contents=null,n.usedBytes=0;else{var s=n.contents;n.contents=new Uint8Array(e),s&&n.contents.set(s.subarray(0,Math.min(e,n.usedBytes))),n.usedBytes=e}},node_ops:{getattr:function(n){var e={};return e.dev=l.isChrdev(n.mode)?n.id:1,e.ino=n.id,e.mode=n.mode,e.nlink=1,e.uid=0,e.gid=0,e.rdev=n.rdev,l.isDir(n.mode)?e.size=4096:l.isFile(n.mode)?e.size=n.usedBytes:l.isLink(n.mode)?e.size=n.link.length:e.size=0,e.atime=new Date(n.timestamp),e.mtime=new Date(n.timestamp),e.ctime=new Date(n.timestamp),e.blksize=4096,e.blocks=Math.ceil(e.size/e.blksize),e},setattr:function(n,e){e.mode!==void 0&&(n.mode=e.mode),e.timestamp!==void 0&&(n.timestamp=e.timestamp),e.size!==void 0&&Z.resizeFileStorage(n,e.size)},lookup:function(n,e){throw l.genericErrors[44]},mknod:function(n,e,s,o){return Z.createNode(n,e,s,o)},rename:function(n,e,s){if(l.isDir(n.mode)){var o;try{o=l.lookupNode(e,s)}catch{}if(o)for(var r in o.contents)throw new l.ErrnoError(55)}delete n.parent.contents[n.name],n.parent.timestamp=Date.now(),n.name=s,e.contents[s]=n,e.timestamp=n.parent.timestamp,n.parent=e},unlink:function(n,e){delete n.contents[e],n.timestamp=Date.now()},rmdir:function(n,e){var s=l.lookupNode(n,e);for(var o in s.contents)throw new l.ErrnoError(55);delete n.contents[e],n.timestamp=Date.now()},readdir:function(n){var e=[".",".."];for(var s in n.contents)n.contents.hasOwnProperty(s)&&e.push(s);return e},symlink:function(n,e,s){var o=Z.createNode(n,e,41471,0);return o.link=s,o},readlink:function(n){if(!l.isLink(n.mode))throw new l.ErrnoError(28);return n.link}},stream_ops:{read:function(n,e,s,o,r){var i=n.node.contents;if(r>=n.node.usedBytes)return 0;var m=Math.min(n.node.usedBytes-r,o);if(m>8&&i.subarray)e.set(i.subarray(r,r+m),s);else for(var y=0;y<m;y++)e[s+y]=i[r+y];return m},write:function(n,e,s,o,r,i){if(e.buffer===me.buffer&&(i=!1),!o)return 0;var m=n.node;if(m.timestamp=Date.now(),e.subarray&&(!m.contents||m.contents.subarray)){if(i)return m.contents=e.subarray(s,s+o),m.usedBytes=o,o;if(m.usedBytes===0&&r===0)return m.contents=e.slice(s,s+o),m.usedBytes=o,o;if(r+o<=m.usedBytes)return m.contents.set(e.subarray(s,s+o),r),o}if(Z.expandFileStorage(m,r+o),m.contents.subarray&&e.subarray)m.contents.set(e.subarray(s,s+o),r);else for(var y=0;y<o;y++)m.contents[r+y]=e[s+y];return m.usedBytes=Math.max(m.usedBytes,r+o),o},llseek:function(n,e,s){var o=e;if(s===1?o+=n.position:s===2&&l.isFile(n.node.mode)&&(o+=n.node.usedBytes),o<0)throw new l.ErrnoError(28);return o},allocate:function(n,e,s){Z.expandFileStorage(n.node,e+s),n.node.usedBytes=Math.max(n.node.usedBytes,e+s)},mmap:function(n,e,s,o,r){if(!l.isFile(n.node.mode))throw new l.ErrnoError(43);var i,m,y=n.node.contents;if(!(r&2)&&y.buffer===me.buffer)m=!1,i=y.byteOffset;else{if((s>0||s+e<y.length)&&(y.subarray?y=y.subarray(s,s+e):y=Array.prototype.slice.call(y,s,s+e)),m=!0,i=It(e),!i)throw new l.ErrnoError(48);me.set(y,i)}return{ptr:i,allocated:m}},msync:function(n,e,s,o,r){return Z.stream_ops.write(n,e,0,o,s,!1),0}}};function an(n,e,s,o){var r=o?"":"al "+n;mt(n,i=>{ht(i,'Loading data file "'+n+'" failed (no arrayBuffer).'),e(new Uint8Array(i)),r&&Xe(r)},i=>{if(s)s();else throw'Loading data file "'+n+'" failed.'}),r&&lt(r)}var l={root:null,mounts:[],devices:{},streams:[],nextInode:1,nameTable:null,currentPath:"/",initialized:!1,ignorePermissions:!0,ErrnoError:null,genericErrors:{},filesystems:null,syncFSRequests:0,lookupPath:(n,e={})=>{if(n=Ae.resolve(n),!n)return{path:"",node:null};var s={follow_mount:!0,recurse_count:0};if(e=Object.assign(s,e),e.recurse_count>8)throw new l.ErrnoError(32);for(var o=n.split("/").filter(W=>!!W),r=l.root,i="/",m=0;m<o.length;m++){var y=m===o.length-1;if(y&&e.parent)break;if(r=l.lookupNode(r,o[m]),i=se.join2(i,o[m]),l.isMountpoint(r)&&(!y||y&&e.follow_mount)&&(r=r.mounted.root),!y||e.follow)for(var A=0;l.isLink(r.mode);){var C=l.readlink(i);i=Ae.resolve(se.dirname(i),C);var j=l.lookupPath(i,{recurse_count:e.recurse_count+1});if(r=j.node,A++>40)throw new l.ErrnoError(32)}}return{path:i,node:r}},getPath:n=>{for(var e;;){if(l.isRoot(n)){var s=n.mount.mountpoint;return e?s[s.length-1]!=="/"?s+"/"+e:s+e:s}e=e?n.name+"/"+e:n.name,n=n.parent}},hashName:(n,e)=>{for(var s=0,o=0;o<e.length;o++)s=(s<<5)-s+e.charCodeAt(o)|0;return(n+s>>>0)%l.nameTable.length},hashAddNode:n=>{var e=l.hashName(n.parent.id,n.name);n.name_next=l.nameTable[e],l.nameTable[e]=n},hashRemoveNode:n=>{var e=l.hashName(n.parent.id,n.name);if(l.nameTable[e]===n)l.nameTable[e]=n.name_next;else for(var s=l.nameTable[e];s;){if(s.name_next===n){s.name_next=n.name_next;break}s=s.name_next}},lookupNode:(n,e)=>{var s=l.mayLookup(n);if(s)throw new l.ErrnoError(s,n);for(var o=l.hashName(n.id,e),r=l.nameTable[o];r;r=r.name_next){var i=r.name;if(r.parent.id===n.id&&i===e)return r}return l.lookup(n,e)},createNode:(n,e,s,o)=>{var r=new l.FSNode(n,e,s,o);return l.hashAddNode(r),r},destroyNode:n=>{l.hashRemoveNode(n)},isRoot:n=>n===n.parent,isMountpoint:n=>!!n.mounted,isFile:n=>(n&61440)===32768,isDir:n=>(n&61440)===16384,isLink:n=>(n&61440)===40960,isChrdev:n=>(n&61440)===8192,isBlkdev:n=>(n&61440)===24576,isFIFO:n=>(n&61440)===4096,isSocket:n=>(n&49152)===49152,flagModes:{r:0,"r+":2,w:577,"w+":578,a:1089,"a+":1090},modeStringToFlags:n=>{var e=l.flagModes[n];if(typeof e>"u")throw new Error("Unknown file open mode: "+n);return e},flagsToPermissionString:n=>{var e=["r","w","rw"][n&3];return n&512&&(e+="w"),e},nodePermissions:(n,e)=>l.ignorePermissions?0:e.includes("r")&&!(n.mode&292)||e.includes("w")&&!(n.mode&146)||e.includes("x")&&!(n.mode&73)?2:0,mayLookup:n=>{var e=l.nodePermissions(n,"x");return e||(n.node_ops.lookup?0:2)},mayCreate:(n,e)=>{try{var s=l.lookupNode(n,e);return 20}catch{}return l.nodePermissions(n,"wx")},mayDelete:(n,e,s)=>{var o;try{o=l.lookupNode(n,e)}catch(i){return i.errno}var r=l.nodePermissions(n,"wx");if(r)return r;if(s){if(!l.isDir(o.mode))return 54;if(l.isRoot(o)||l.getPath(o)===l.cwd())return 10}else if(l.isDir(o.mode))return 31;return 0},mayOpen:(n,e)=>n?l.isLink(n.mode)?32:l.isDir(n.mode)&&(l.flagsToPermissionString(e)!=="r"||e&512)?31:l.nodePermissions(n,l.flagsToPermissionString(e)):44,MAX_OPEN_FDS:4096,nextfd:(n=0,e=l.MAX_OPEN_FDS)=>{for(var s=n;s<=e;s++)if(!l.streams[s])return s;throw new l.ErrnoError(33)},getStream:n=>l.streams[n],createStream:(n,e,s)=>{l.FSStream||(l.FSStream=function(){this.shared={}},l.FSStream.prototype={},Object.defineProperties(l.FSStream.prototype,{object:{get:function(){return this.node},set:function(r){this.node=r}},isRead:{get:function(){return(this.flags&2097155)!==1}},isWrite:{get:function(){return(this.flags&2097155)!==0}},isAppend:{get:function(){return this.flags&1024}},flags:{get:function(){return this.shared.flags},set:function(r){this.shared.flags=r}},position:{get:function(){return this.shared.position},set:function(r){this.shared.position=r}}})),n=Object.assign(new l.FSStream,n);var o=l.nextfd(e,s);return n.fd=o,l.streams[o]=n,n},closeStream:n=>{l.streams[n]=null},chrdev_stream_ops:{open:n=>{var e=l.getDevice(n.node.rdev);n.stream_ops=e.stream_ops,n.stream_ops.open&&n.stream_ops.open(n)},llseek:()=>{throw new l.ErrnoError(70)}},major:n=>n>>8,minor:n=>n&255,makedev:(n,e)=>n<<8|e,registerDevice:(n,e)=>{l.devices[n]={stream_ops:e}},getDevice:n=>l.devices[n],getMounts:n=>{for(var e=[],s=[n];s.length;){var o=s.pop();e.push(o),s.push.apply(s,o.mounts)}return e},syncfs:(n,e)=>{typeof n=="function"&&(e=n,n=!1),l.syncFSRequests++,l.syncFSRequests>1&&ke("warning: "+l.syncFSRequests+" FS.syncfs operations in flight at once, probably just doing extra work");var s=l.getMounts(l.root.mount),o=0;function r(m){return l.syncFSRequests--,e(m)}function i(m){if(m)return i.errored?void 0:(i.errored=!0,r(m));++o>=s.length&&r(null)}s.forEach(m=>{if(!m.type.syncfs)return i(null);m.type.syncfs(m,n,i)})},mount:(n,e,s)=>{var o=s==="/",r=!s,i;if(o&&l.root)throw new l.ErrnoError(10);if(!o&&!r){var m=l.lookupPath(s,{follow_mount:!1});if(s=m.path,i=m.node,l.isMountpoint(i))throw new l.ErrnoError(10);if(!l.isDir(i.mode))throw new l.ErrnoError(54)}var y={type:n,opts:e,mountpoint:s,mounts:[]},A=n.mount(y);return A.mount=y,y.root=A,o?l.root=A:i&&(i.mounted=y,i.mount&&i.mount.mounts.push(y)),A},unmount:n=>{var e=l.lookupPath(n,{follow_mount:!1});if(!l.isMountpoint(e.node))throw new l.ErrnoError(28);var s=e.node,o=s.mounted,r=l.getMounts(o);Object.keys(l.nameTable).forEach(m=>{for(var y=l.nameTable[m];y;){var A=y.name_next;r.includes(y.mount)&&l.destroyNode(y),y=A}}),s.mounted=null;var i=s.mount.mounts.indexOf(o);s.mount.mounts.splice(i,1)},lookup:(n,e)=>n.node_ops.lookup(n,e),mknod:(n,e,s)=>{var o=l.lookupPath(n,{parent:!0}),r=o.node,i=se.basename(n);if(!i||i==="."||i==="..")throw new l.ErrnoError(28);var m=l.mayCreate(r,i);if(m)throw new l.ErrnoError(m);if(!r.node_ops.mknod)throw new l.ErrnoError(63);return r.node_ops.mknod(r,i,e,s)},create:(n,e)=>(e=e!==void 0?e:438,e&=4095,e|=32768,l.mknod(n,e,0)),mkdir:(n,e)=>(e=e!==void 0?e:511,e&=1023,e|=16384,l.mknod(n,e,0)),mkdirTree:(n,e)=>{for(var s=n.split("/"),o="",r=0;r<s.length;++r)if(s[r]){o+="/"+s[r];try{l.mkdir(o,e)}catch(i){if(i.errno!=20)throw i}}},mkdev:(n,e,s)=>(typeof s>"u"&&(s=e,e=438),e|=8192,l.mknod(n,e,s)),symlink:(n,e)=>{if(!Ae.resolve(n))throw new l.ErrnoError(44);var s=l.lookupPath(e,{parent:!0}),o=s.node;if(!o)throw new l.ErrnoError(44);var r=se.basename(e),i=l.mayCreate(o,r);if(i)throw new l.ErrnoError(i);if(!o.node_ops.symlink)throw new l.ErrnoError(63);return o.node_ops.symlink(o,r,n)},rename:(n,e)=>{var s=se.dirname(n),o=se.dirname(e),r=se.basename(n),i=se.basename(e),m,y,A;if(m=l.lookupPath(n,{parent:!0}),y=m.node,m=l.lookupPath(e,{parent:!0}),A=m.node,!y||!A)throw new l.ErrnoError(44);if(y.mount!==A.mount)throw new l.ErrnoError(75);var C=l.lookupNode(y,r),j=Ae.relative(n,o);if(j.charAt(0)!==".")throw new l.ErrnoError(28);if(j=Ae.relative(e,s),j.charAt(0)!==".")throw new l.ErrnoError(55);var W;try{W=l.lookupNode(A,i)}catch{}if(C!==W){var U=l.isDir(C.mode),g=l.mayDelete(y,r,U);if(g)throw new l.ErrnoError(g);if(g=W?l.mayDelete(A,i,U):l.mayCreate(A,i),g)throw new l.ErrnoError(g);if(!y.node_ops.rename)throw new l.ErrnoError(63);if(l.isMountpoint(C)||W&&l.isMountpoint(W))throw new l.ErrnoError(10);if(A!==y&&(g=l.nodePermissions(y,"w"),g))throw new l.ErrnoError(g);l.hashRemoveNode(C);try{y.node_ops.rename(C,A,i)}catch(p){throw p}finally{l.hashAddNode(C)}}},rmdir:n=>{var e=l.lookupPath(n,{parent:!0}),s=e.node,o=se.basename(n),r=l.lookupNode(s,o),i=l.mayDelete(s,o,!0);if(i)throw new l.ErrnoError(i);if(!s.node_ops.rmdir)throw new l.ErrnoError(63);if(l.isMountpoint(r))throw new l.ErrnoError(10);s.node_ops.rmdir(s,o),l.destroyNode(r)},readdir:n=>{var e=l.lookupPath(n,{follow:!0}),s=e.node;if(!s.node_ops.readdir)throw new l.ErrnoError(54);return s.node_ops.readdir(s)},unlink:n=>{var e=l.lookupPath(n,{parent:!0}),s=e.node;if(!s)throw new l.ErrnoError(44);var o=se.basename(n),r=l.lookupNode(s,o),i=l.mayDelete(s,o,!1);if(i)throw new l.ErrnoError(i);if(!s.node_ops.unlink)throw new l.ErrnoError(63);if(l.isMountpoint(r))throw new l.ErrnoError(10);s.node_ops.unlink(s,o),l.destroyNode(r)},readlink:n=>{var e=l.lookupPath(n),s=e.node;if(!s)throw new l.ErrnoError(44);if(!s.node_ops.readlink)throw new l.ErrnoError(28);return Ae.resolve(l.getPath(s.parent),s.node_ops.readlink(s))},stat:(n,e)=>{var s=l.lookupPath(n,{follow:!e}),o=s.node;if(!o)throw new l.ErrnoError(44);if(!o.node_ops.getattr)throw new l.ErrnoError(63);return o.node_ops.getattr(o)},lstat:n=>l.stat(n,!0),chmod:(n,e,s)=>{var o;if(typeof n=="string"){var r=l.lookupPath(n,{follow:!s});o=r.node}else o=n;if(!o.node_ops.setattr)throw new l.ErrnoError(63);o.node_ops.setattr(o,{mode:e&4095|o.mode&-4096,timestamp:Date.now()})},lchmod:(n,e)=>{l.chmod(n,e,!0)},fchmod:(n,e)=>{var s=l.getStream(n);if(!s)throw new l.ErrnoError(8);l.chmod(s.node,e)},chown:(n,e,s,o)=>{var r;if(typeof n=="string"){var i=l.lookupPath(n,{follow:!o});r=i.node}else r=n;if(!r.node_ops.setattr)throw new l.ErrnoError(63);r.node_ops.setattr(r,{timestamp:Date.now()})},lchown:(n,e,s)=>{l.chown(n,e,s,!0)},fchown:(n,e,s)=>{var o=l.getStream(n);if(!o)throw new l.ErrnoError(8);l.chown(o.node,e,s)},truncate:(n,e)=>{if(e<0)throw new l.ErrnoError(28);var s;if(typeof n=="string"){var o=l.lookupPath(n,{follow:!0});s=o.node}else s=n;if(!s.node_ops.setattr)throw new l.ErrnoError(63);if(l.isDir(s.mode))throw new l.ErrnoError(31);if(!l.isFile(s.mode))throw new l.ErrnoError(28);var r=l.nodePermissions(s,"w");if(r)throw new l.ErrnoError(r);s.node_ops.setattr(s,{size:e,timestamp:Date.now()})},ftruncate:(n,e)=>{var s=l.getStream(n);if(!s)throw new l.ErrnoError(8);if(!(s.flags&2097155))throw new l.ErrnoError(28);l.truncate(s.node,e)},utime:(n,e,s)=>{var o=l.lookupPath(n,{follow:!0}),r=o.node;r.node_ops.setattr(r,{timestamp:Math.max(e,s)})},open:(n,e,s)=>{if(n==="")throw new l.ErrnoError(44);e=typeof e=="string"?l.modeStringToFlags(e):e,s=typeof s>"u"?438:s,e&64?s=s&4095|32768:s=0;var o;if(typeof n=="object")o=n;else{n=se.normalize(n);try{var r=l.lookupPath(n,{follow:!(e&131072)});o=r.node}catch{}}var i=!1;if(e&64)if(o){if(e&128)throw new l.ErrnoError(20)}else o=l.mknod(n,s,0),i=!0;if(!o)throw new l.ErrnoError(44);if(l.isChrdev(o.mode)&&(e&=-513),e&65536&&!l.isDir(o.mode))throw new l.ErrnoError(54);if(!i){var m=l.mayOpen(o,e);if(m)throw new l.ErrnoError(m)}e&512&&!i&&l.truncate(o,0),e&=-131713;var y=l.createStream({node:o,path:l.getPath(o),flags:e,seekable:!0,position:0,stream_ops:o.stream_ops,ungotten:[],error:!1});return y.stream_ops.open&&y.stream_ops.open(y),t.logReadFiles&&!(e&1)&&(l.readFiles||(l.readFiles={}),n in l.readFiles||(l.readFiles[n]=1)),y},close:n=>{if(l.isClosed(n))throw new l.ErrnoError(8);n.getdents&&(n.getdents=null);try{n.stream_ops.close&&n.stream_ops.close(n)}catch(e){throw e}finally{l.closeStream(n.fd)}n.fd=null},isClosed:n=>n.fd===null,llseek:(n,e,s)=>{if(l.isClosed(n))throw new l.ErrnoError(8);if(!n.seekable||!n.stream_ops.llseek)throw new l.ErrnoError(70);if(s!=0&&s!=1&&s!=2)throw new l.ErrnoError(28);return n.position=n.stream_ops.llseek(n,e,s),n.ungotten=[],n.position},read:(n,e,s,o,r)=>{if(o<0||r<0)throw new l.ErrnoError(28);if(l.isClosed(n))throw new l.ErrnoError(8);if((n.flags&2097155)===1)throw new l.ErrnoError(8);if(l.isDir(n.node.mode))throw new l.ErrnoError(31);if(!n.stream_ops.read)throw new l.ErrnoError(28);var i=typeof r<"u";if(!i)r=n.position;else if(!n.seekable)throw new l.ErrnoError(70);var m=n.stream_ops.read(n,e,s,o,r);return i||(n.position+=m),m},write:(n,e,s,o,r,i)=>{if(o<0||r<0)throw new l.ErrnoError(28);if(l.isClosed(n))throw new l.ErrnoError(8);if(!(n.flags&2097155))throw new l.ErrnoError(8);if(l.isDir(n.node.mode))throw new l.ErrnoError(31);if(!n.stream_ops.write)throw new l.ErrnoError(28);n.seekable&&n.flags&1024&&l.llseek(n,0,2);var m=typeof r<"u";if(!m)r=n.position;else if(!n.seekable)throw new l.ErrnoError(70);var y=n.stream_ops.write(n,e,s,o,r,i);return m||(n.position+=y),y},allocate:(n,e,s)=>{if(l.isClosed(n))throw new l.ErrnoError(8);if(e<0||s<=0)throw new l.ErrnoError(28);if(!(n.flags&2097155))throw new l.ErrnoError(8);if(!l.isFile(n.node.mode)&&!l.isDir(n.node.mode))throw new l.ErrnoError(43);if(!n.stream_ops.allocate)throw new l.ErrnoError(138);n.stream_ops.allocate(n,e,s)},mmap:(n,e,s,o,r)=>{if(o&2&&!(r&2)&&(n.flags&2097155)!==2)throw new l.ErrnoError(2);if((n.flags&2097155)===1)throw new l.ErrnoError(2);if(!n.stream_ops.mmap)throw new l.ErrnoError(43);return n.stream_ops.mmap(n,e,s,o,r)},msync:(n,e,s,o,r)=>n.stream_ops.msync?n.stream_ops.msync(n,e,s,o,r):0,munmap:n=>0,ioctl:(n,e,s)=>{if(!n.stream_ops.ioctl)throw new l.ErrnoError(59);return n.stream_ops.ioctl(n,e,s)},readFile:(n,e={})=>{if(e.flags=e.flags||0,e.encoding=e.encoding||"binary",e.encoding!=="utf8"&&e.encoding!=="binary")throw new Error('Invalid encoding type "'+e.encoding+'"');var s,o=l.open(n,e.flags),r=l.stat(n),i=r.size,m=new Uint8Array(i);return l.read(o,m,0,i,0),e.encoding==="utf8"?s=De(m,0):e.encoding==="binary"&&(s=m),l.close(o),s},writeFile:(n,e,s={})=>{s.flags=s.flags||577;var o=l.open(n,s.flags,s.mode);if(typeof e=="string"){var r=new Uint8Array(ze(e)+1),i=Ke(e,r,0,r.length);l.write(o,r,0,i,void 0,s.canOwn)}else if(ArrayBuffer.isView(e))l.write(o,e,0,e.byteLength,void 0,s.canOwn);else throw new Error("Unsupported data type");l.close(o)},cwd:()=>l.currentPath,chdir:n=>{var e=l.lookupPath(n,{follow:!0});if(e.node===null)throw new l.ErrnoError(44);if(!l.isDir(e.node.mode))throw new l.ErrnoError(54);var s=l.nodePermissions(e.node,"x");if(s)throw new l.ErrnoError(s);l.currentPath=e.path},createDefaultDirectories:()=>{l.mkdir("/tmp"),l.mkdir("/home"),l.mkdir("/home/web_user")},createDefaultDevices:()=>{l.mkdir("/dev"),l.registerDevice(l.makedev(1,3),{read:()=>0,write:(e,s,o,r,i)=>r}),l.mkdev("/dev/null",l.makedev(1,3)),Te.register(l.makedev(5,0),Te.default_tty_ops),Te.register(l.makedev(6,0),Te.default_tty1_ops),l.mkdev("/dev/tty",l.makedev(5,0)),l.mkdev("/dev/tty1",l.makedev(6,0));var n=ln();l.createDevice("/dev","random",n),l.createDevice("/dev","urandom",n),l.mkdir("/dev/shm"),l.mkdir("/dev/shm/tmp")},createSpecialDirectories:()=>{l.mkdir("/proc");var n=l.mkdir("/proc/self");l.mkdir("/proc/self/fd"),l.mount({mount:()=>{var e=l.createNode(n,"fd",16895,73);return e.node_ops={lookup:(s,o)=>{var r=+o,i=l.getStream(r);if(!i)throw new l.ErrnoError(8);var m={parent:null,mount:{mountpoint:"fake"},node_ops:{readlink:()=>i.path}};return m.parent=m,m}},e}},{},"/proc/self/fd")},createStandardStreams:()=>{t.stdin?l.createDevice("/dev","stdin",t.stdin):l.symlink("/dev/tty","/dev/stdin"),t.stdout?l.createDevice("/dev","stdout",null,t.stdout):l.symlink("/dev/tty","/dev/stdout"),t.stderr?l.createDevice("/dev","stderr",null,t.stderr):l.symlink("/dev/tty1","/dev/stderr");var n=l.open("/dev/stdin",0),e=l.open("/dev/stdout",1),s=l.open("/dev/stderr",1)},ensureErrnoError:()=>{l.ErrnoError||(l.ErrnoError=function(e,s){this.name="ErrnoError",this.node=s,this.setErrno=function(o){this.errno=o},this.setErrno(e),this.message="FS error"},l.ErrnoError.prototype=new Error,l.ErrnoError.prototype.constructor=l.ErrnoError,[44].forEach(n=>{l.genericErrors[n]=new l.ErrnoError(n),l.genericErrors[n].stack="<generic error, no stack>"}))},staticInit:()=>{l.ensureErrnoError(),l.nameTable=new Array(4096),l.mount(Z,{},"/"),l.createDefaultDirectories(),l.createDefaultDevices(),l.createSpecialDirectories(),l.filesystems={MEMFS:Z}},init:(n,e,s)=>{l.init.initialized=!0,l.ensureErrnoError(),t.stdin=n||t.stdin,t.stdout=e||t.stdout,t.stderr=s||t.stderr,l.createStandardStreams()},quit:()=>{l.init.initialized=!1;for(var n=0;n<l.streams.length;n++){var e=l.streams[n];e&&l.close(e)}},getMode:(n,e)=>{var s=0;return n&&(s|=365),e&&(s|=146),s},findObject:(n,e)=>{var s=l.analyzePath(n,e);return s.exists?s.object:null},analyzePath:(n,e)=>{try{var s=l.lookupPath(n,{follow:!e});n=s.path}catch{}var o={isRoot:!1,exists:!1,error:0,name:null,path:null,object:null,parentExists:!1,parentPath:null,parentObject:null};try{var s=l.lookupPath(n,{parent:!0});o.parentExists=!0,o.parentPath=s.path,o.parentObject=s.node,o.name=se.basename(n),s=l.lookupPath(n,{follow:!e}),o.exists=!0,o.path=s.path,o.object=s.node,o.name=s.node.name,o.isRoot=s.path==="/"}catch(r){o.error=r.errno}return o},createPath:(n,e,s,o)=>{n=typeof n=="string"?n:l.getPath(n);for(var r=e.split("/").reverse();r.length;){var i=r.pop();if(i){var m=se.join2(n,i);try{l.mkdir(m)}catch{}n=m}}return m},createFile:(n,e,s,o,r)=>{var i=se.join2(typeof n=="string"?n:l.getPath(n),e),m=l.getMode(o,r);return l.create(i,m)},createDataFile:(n,e,s,o,r,i)=>{var m=e;n&&(n=typeof n=="string"?n:l.getPath(n),m=e?se.join2(n,e):n);var y=l.getMode(o,r),A=l.create(m,y);if(s){if(typeof s=="string"){for(var C=new Array(s.length),j=0,W=s.length;j<W;++j)C[j]=s.charCodeAt(j);s=C}l.chmod(A,y|146);var U=l.open(A,577);l.write(U,s,0,s.length,0,i),l.close(U),l.chmod(A,y)}return A},createDevice:(n,e,s,o)=>{var r=se.join2(typeof n=="string"?n:l.getPath(n),e),i=l.getMode(!!s,!!o);l.createDevice.major||(l.createDevice.major=64);var m=l.makedev(l.createDevice.major++,0);return l.registerDevice(m,{open:y=>{y.seekable=!1},close:y=>{o&&o.buffer&&o.buffer.length&&o(10)},read:(y,A,C,j,W)=>{for(var U=0,g=0;g<j;g++){var p;try{p=s()}catch{throw new l.ErrnoError(29)}if(p===void 0&&U===0)throw new l.ErrnoError(6);if(p==null)break;U++,A[C+g]=p}return U&&(y.node.timestamp=Date.now()),U},write:(y,A,C,j,W)=>{for(var U=0;U<j;U++)try{o(A[C+U])}catch{throw new l.ErrnoError(29)}return j&&(y.node.timestamp=Date.now()),U}}),l.mkdev(r,i,m)},forceLoadFile:n=>{if(n.isDevice||n.isFolder||n.link||n.contents)return!0;if(typeof XMLHttpRequest<"u")throw new Error("Lazy loading should have been performed (contents set) in createLazyFile, but it was not. Lazy loading only works in web workers. Use --embed-file or --preload-file in emcc on the main thread.");if(nt)try{n.contents=ct(nt(n.url),!0),n.usedBytes=n.contents.length}catch{throw new l.ErrnoError(29)}else throw new Error("Cannot load without read() or XMLHttpRequest.")},createLazyFile:(n,e,s,o,r)=>{function i(){this.lengthKnown=!1,this.chunks=[]}if(i.prototype.get=function(g){if(!(g>this.length-1||g<0)){var p=g%this.chunkSize,u=g/this.chunkSize|0;return this.getter(u)[p]}},i.prototype.setDataGetter=function(g){this.getter=g},i.prototype.cacheLength=function(){var g=new XMLHttpRequest;if(g.open("HEAD",s,!1),g.send(null),!(g.status>=200&&g.status<300||g.status===304))throw new Error("Couldn't load "+s+". Status: "+g.status);var p=Number(g.getResponseHeader("Content-length")),u,q=(u=g.getResponseHeader("Accept-Ranges"))&&u==="bytes",w=(u=g.getResponseHeader("Content-Encoding"))&&u==="gzip",b=1024*1024;q||(b=p);var T=(F,O)=>{if(F>O)throw new Error("invalid range ("+F+", "+O+") or no bytes requested!");if(O>p-1)throw new Error("only "+p+" bytes available! programmer error!");var z=new XMLHttpRequest;if(z.open("GET",s,!1),p!==b&&z.setRequestHeader("Range","bytes="+F+"-"+O),z.responseType="arraybuffer",z.overrideMimeType&&z.overrideMimeType("text/plain; charset=x-user-defined"),z.send(null),!(z.status>=200&&z.status<300||z.status===304))throw new Error("Couldn't load "+s+". Status: "+z.status);return z.response!==void 0?new Uint8Array(z.response||[]):ct(z.responseText||"",!0)},I=this;I.setDataGetter(F=>{var O=F*b,z=(F+1)*b-1;if(z=Math.min(z,p-1),typeof I.chunks[F]>"u"&&(I.chunks[F]=T(O,z)),typeof I.chunks[F]>"u")throw new Error("doXHR failed!");return I.chunks[F]}),(w||!p)&&(b=p=1,p=this.getter(0).length,b=p,Ve("LazyFiles on gzip forces download of the whole file when length is accessed")),this._length=p,this._chunkSize=b,this.lengthKnown=!0},typeof XMLHttpRequest<"u"){if(!Le)throw"Cannot do synchronous binary XHRs outside webworkers in modern browsers. Use --embed-file or --preload-file in emcc";var m=new i;Object.defineProperties(m,{length:{get:function(){return this.lengthKnown||this.cacheLength(),this._length}},chunkSize:{get:function(){return this.lengthKnown||this.cacheLength(),this._chunkSize}}});var y={isDevice:!1,contents:m}}else var y={isDevice:!1,url:s};var A=l.createFile(n,e,y,o,r);y.contents?A.contents=y.contents:y.url&&(A.contents=null,A.url=y.url),Object.defineProperties(A,{usedBytes:{get:function(){return this.contents.length}}});var C={},j=Object.keys(A.stream_ops);j.forEach(U=>{var g=A.stream_ops[U];C[U]=function(){return l.forceLoadFile(A),g.apply(null,arguments)}});function W(U,g,p,u,q){var w=U.node.contents;if(q>=w.length)return 0;var b=Math.min(w.length-q,u);if(w.slice)for(var T=0;T<b;T++)g[p+T]=w[q+T];else for(var T=0;T<b;T++)g[p+T]=w.get(q+T);return b}return C.read=(U,g,p,u,q)=>(l.forceLoadFile(A),W(U,g,p,u,q)),C.mmap=(U,g,p,u,q)=>{l.forceLoadFile(A);var w=It(g);if(!w)throw new l.ErrnoError(48);return W(U,me,w,g,p),{ptr:w,allocated:!0}},A.stream_ops=C,A},createPreloadedFile:(n,e,s,o,r,i,m,y,A,C)=>{var j=e?Ae.resolve(se.join2(n,e)):n,W="cp "+j;function U(g){function p(u){C&&C(),y||l.createDataFile(n,e,u,o,r,A),i&&i(),Xe(W)}Browser.handledByPreloadPlugin(g,j,p,()=>{m&&m(),Xe(W)})||p(g)}lt(W),typeof s=="string"?an(s,g=>U(g),m):U(s)},indexedDB:()=>window.indexedDB||window.mozIndexedDB||window.webkitIndexedDB||window.msIndexedDB,DB_NAME:()=>"EM_FS_"+window.location.pathname,DB_VERSION:20,DB_STORE_NAME:"FILE_DATA",saveFilesToDB:(n,e=()=>{},s=()=>{})=>{var o=l.indexedDB();try{var r=o.open(l.DB_NAME(),l.DB_VERSION)}catch(i){return s(i)}r.onupgradeneeded=()=>{Ve("creating db");var i=r.result;i.createObjectStore(l.DB_STORE_NAME)},r.onsuccess=()=>{var i=r.result,m=i.transaction([l.DB_STORE_NAME],"readwrite"),y=m.objectStore(l.DB_STORE_NAME),A=0,C=0,j=n.length;function W(){C==0?e():s()}n.forEach(U=>{var g=y.put(l.analyzePath(U).object.contents,U);g.onsuccess=()=>{A++,A+C==j&&W()},g.onerror=()=>{C++,A+C==j&&W()}}),m.onerror=s},r.onerror=s},loadFilesFromDB:(n,e=()=>{},s=()=>{})=>{var o=l.indexedDB();try{var r=o.open(l.DB_NAME(),l.DB_VERSION)}catch(i){return s(i)}r.onupgradeneeded=s,r.onsuccess=()=>{var i=r.result;try{var m=i.transaction([l.DB_STORE_NAME],"readonly")}catch(U){s(U);return}var y=m.objectStore(l.DB_STORE_NAME),A=0,C=0,j=n.length;function W(){C==0?e():s()}n.forEach(U=>{var g=y.get(U);g.onsuccess=()=>{l.analyzePath(U).exists&&l.unlink(U),l.createDataFile(se.dirname(U),se.basename(U),g.result,!0,!0,!0),A++,A+C==j&&W()},g.onerror=()=>{C++,A+C==j&&W()}}),m.onerror=s},r.onerror=s}},$={DEFAULT_POLLMASK:5,calculateAt:function(n,e,s){if(se.isAbs(e))return e;var o;if(n===-100)o=l.cwd();else{var r=$.getStreamFromFD(n);o=r.path}if(e.length==0){if(!s)throw new l.ErrnoError(44);return o}return se.join2(o,e)},doStat:function(n,e,s){try{var o=n(e)}catch(y){if(y&&y.node&&se.normalize(e)!==se.normalize(l.getPath(y.node)))return-54;throw y}X[s>>2]=o.dev,X[s+8>>2]=o.ino,X[s+12>>2]=o.mode,_e[s+16>>2]=o.nlink,X[s+20>>2]=o.uid,X[s+24>>2]=o.gid,X[s+28>>2]=o.rdev,fe=[o.size>>>0,(Y=o.size,+Math.abs(Y)>=1?Y>0?(Math.min(+Math.floor(Y/4294967296),4294967295)|0)>>>0:~~+Math.ceil((Y-+(~~Y>>>0))/4294967296)>>>0:0)],X[s+40>>2]=fe[0],X[s+44>>2]=fe[1],X[s+48>>2]=4096,X[s+52>>2]=o.blocks;var r=o.atime.getTime(),i=o.mtime.getTime(),m=o.ctime.getTime();return fe=[Math.floor(r/1e3)>>>0,(Y=Math.floor(r/1e3),+Math.abs(Y)>=1?Y>0?(Math.min(+Math.floor(Y/4294967296),4294967295)|0)>>>0:~~+Math.ceil((Y-+(~~Y>>>0))/4294967296)>>>0:0)],X[s+56>>2]=fe[0],X[s+60>>2]=fe[1],_e[s+64>>2]=r%1e3*1e3,fe=[Math.floor(i/1e3)>>>0,(Y=Math.floor(i/1e3),+Math.abs(Y)>=1?Y>0?(Math.min(+Math.floor(Y/4294967296),4294967295)|0)>>>0:~~+Math.ceil((Y-+(~~Y>>>0))/4294967296)>>>0:0)],X[s+72>>2]=fe[0],X[s+76>>2]=fe[1],_e[s+80>>2]=i%1e3*1e3,fe=[Math.floor(m/1e3)>>>0,(Y=Math.floor(m/1e3),+Math.abs(Y)>=1?Y>0?(Math.min(+Math.floor(Y/4294967296),4294967295)|0)>>>0:~~+Math.ceil((Y-+(~~Y>>>0))/4294967296)>>>0:0)],X[s+88>>2]=fe[0],X[s+92>>2]=fe[1],_e[s+96>>2]=m%1e3*1e3,fe=[o.ino>>>0,(Y=o.ino,+Math.abs(Y)>=1?Y>0?(Math.min(+Math.floor(Y/4294967296),4294967295)|0)>>>0:~~+Math.ceil((Y-+(~~Y>>>0))/4294967296)>>>0:0)],X[s+104>>2]=fe[0],X[s+108>>2]=fe[1],0},doMsync:function(n,e,s,o,r){if(!l.isFile(e.node.mode))throw new l.ErrnoError(43);if(o&2)return 0;var i=Ce.slice(n,n+s);l.msync(e,i,r,s,o)},varargs:void 0,get:function(){$.varargs+=4;var n=X[$.varargs-4>>2];return n},getStr:function(n){var e=Ge(n);return e},getStreamFromFD:function(n){var e=l.getStream(n);if(!e)throw new l.ErrnoError(8);return e}};function cn(n,e){try{return n=$.getStr(n),l.chmod(n,e),0}catch(s){if(typeof l>"u"||s.name!=="ErrnoError")throw s;return-s.errno}}function _n(n,e,s,o){try{if(e=$.getStr(e),e=$.calculateAt(n,e),s&-8)return-28;var r=l.lookupPath(e,{follow:!0}),i=r.node;if(!i)return-44;var m="";return s&4&&(m+="r"),s&2&&(m+="w"),s&1&&(m+="x"),m&&l.nodePermissions(i,m)?-2:0}catch(y){if(typeof l>"u"||y.name!=="ErrnoError")throw y;return-y.errno}}function un(n,e){try{return l.fchmod(n,e),0}catch(s){if(typeof l>"u"||s.name!=="ErrnoError")throw s;return-s.errno}}function fn(n,e,s){try{return l.fchown(n,e,s),0}catch(o){if(typeof l>"u"||o.name!=="ErrnoError")throw o;return-o.errno}}function pn(n){return X[Dt()>>2]=n,n}function dn(n,e,s){$.varargs=s;try{var o=$.getStreamFromFD(n);switch(e){case 0:{var r=$.get();if(r<0)return-28;var i;return i=l.createStream(o,r),i.fd}case 1:case 2:return 0;case 3:return o.flags;case 4:{var r=$.get();return o.flags|=r,0}case 5:{var r=$.get(),m=0;return Je[r+m>>1]=2,0}case 6:case 7:return 0;case 16:case 8:return-28;case 9:return pn(28),-1;default:return-28}}catch(y){if(typeof l>"u"||y.name!=="ErrnoError")throw y;return-y.errno}}function mn(n,e){try{var s=$.getStreamFromFD(n);return $.doStat(l.stat,s.path,e)}catch(o){if(typeof l>"u"||o.name!=="ErrnoError")throw o;return-o.errno}}var gn=9007199254740992,hn=-9007199254740992;function Tt(n){return n<hn||n>gn?NaN:Number(n)}function qn(n,e){try{return e=Tt(e),isNaN(e)?-61:(l.ftruncate(n,e),0)}catch(s){if(typeof l>"u"||s.name!=="ErrnoError")throw s;return-s.errno}}function yn(n,e){try{if(e===0)return-28;var s=l.cwd(),o=ze(s)+1;return e<o?-68:(yt(s,n,e),o)}catch(r){if(typeof l>"u"||r.name!=="ErrnoError")throw r;return-r.errno}}function bn(n,e,s){$.varargs=s;try{var o=$.getStreamFromFD(n);switch(e){case 21509:case 21505:return o.tty?0:-59;case 21510:case 21511:case 21512:case 21506:case 21507:case 21508:return o.tty?0:-59;case 21519:{if(!o.tty)return-59;var r=$.get();return X[r>>2]=0,0}case 21520:return o.tty?-28:-59;case 21531:{var r=$.get();return l.ioctl(o,e,r)}case 21523:return o.tty?0:-59;case 21524:return o.tty?0:-59;default:return-28}}catch(i){if(typeof l>"u"||i.name!=="ErrnoError")throw i;return-i.errno}}function vn(n,e){try{return n=$.getStr(n),$.doStat(l.lstat,n,e)}catch(s){if(typeof l>"u"||s.name!=="ErrnoError")throw s;return-s.errno}}function wn(n,e,s){try{return e=$.getStr(e),e=$.calculateAt(n,e),e=se.normalize(e),e[e.length-1]==="/"&&(e=e.substr(0,e.length-1)),l.mkdir(e,s,0),0}catch(o){if(typeof l>"u"||o.name!=="ErrnoError")throw o;return-o.errno}}function En(n,e,s,o){try{e=$.getStr(e);var r=o&256,i=o&4096;return o=o&-6401,e=$.calculateAt(n,e,i),$.doStat(r?l.lstat:l.stat,e,s)}catch(m){if(typeof l>"u"||m.name!=="ErrnoError")throw m;return-m.errno}}function xn(n,e,s,o){$.varargs=o;try{e=$.getStr(e),e=$.calculateAt(n,e);var r=o?$.get():0;return l.open(e,s,r).fd}catch(i){if(typeof l>"u"||i.name!=="ErrnoError")throw i;return-i.errno}}function Sn(n,e,s,o){try{if(e=$.getStr(e),e=$.calculateAt(n,e),o<=0)return-28;var r=l.readlink(e),i=Math.min(o,ze(r)),m=me[s+i];return yt(r,s,o+1),me[s+i]=m,i}catch(y){if(typeof l>"u"||y.name!=="ErrnoError")throw y;return-y.errno}}function An(n){try{return n=$.getStr(n),l.rmdir(n),0}catch(e){if(typeof l>"u"||e.name!=="ErrnoError")throw e;return-e.errno}}function kn(n,e){try{return n=$.getStr(n),$.doStat(l.stat,n,e)}catch(s){if(typeof l>"u"||s.name!=="ErrnoError")throw s;return-s.errno}}function In(n,e,s){try{return e=$.getStr(e),e=$.calculateAt(n,e),s===0?l.unlink(e):s===512?l.rmdir(e):Ee("Invalid flags passed to unlinkat"),0}catch(o){if(typeof l>"u"||o.name!=="ErrnoError")throw o;return-o.errno}}function _t(n){return _e[n>>2]+X[n+4>>2]*4294967296}function Tn(n,e,s,o){try{if(e=$.getStr(e),e=$.calculateAt(n,e,!0),s){var m=_t(s),y=X[s+8>>2];r=m*1e3+y/1e6,s+=16,m=_t(s),y=X[s+8>>2],i=m*1e3+y/1e6}else var r=Date.now(),i=r;return l.utime(e,r,i),0}catch(A){if(typeof l>"u"||A.name!=="ErrnoError")throw A;return-A.errno}}var Fn=!0;function On(){return Fn}function Pn(n){return n%4===0&&(n%100!==0||n%400===0)}var Ln=[0,31,60,91,121,152,182,213,244,274,305,335],Dn=[0,31,59,90,120,151,181,212,243,273,304,334];function Cn(n){var e=Pn(n.getFullYear()),s=e?Ln:Dn,o=s[n.getMonth()]+n.getDate()-1;return o}function Rn(n,e){var s=new Date(_t(n)*1e3);X[e>>2]=s.getSeconds(),X[e+4>>2]=s.getMinutes(),X[e+8>>2]=s.getHours(),X[e+12>>2]=s.getDate(),X[e+16>>2]=s.getMonth(),X[e+20>>2]=s.getFullYear()-1900,X[e+24>>2]=s.getDay();var o=Cn(s)|0;X[e+28>>2]=o,X[e+36>>2]=-(s.getTimezoneOffset()*60);var r=new Date(s.getFullYear(),0,1),i=new Date(s.getFullYear(),6,1).getTimezoneOffset(),m=r.getTimezoneOffset(),y=(i!=m&&s.getTimezoneOffset()==Math.min(m,i))|0;X[e+32>>2]=y}function Ft(n){var e=ze(n)+1,s=Ct(e);return s&&Ke(n,me,s,e),s}function Mn(n,e,s){var o=new Date().getFullYear(),r=new Date(o,0,1),i=new Date(o,6,1),m=r.getTimezoneOffset(),y=i.getTimezoneOffset(),A=Math.max(m,y);_e[n>>2]=A*60,X[e>>2]=Number(m!=y);function C(p){var u=p.toTimeString().match(/\(([A-Za-z ]+)\)$/);return u?u[1]:"GMT"}var j=C(r),W=C(i),U=Ft(j),g=Ft(W);y<m?(_e[s>>2]=U,_e[s+4>>2]=g):(_e[s>>2]=g,_e[s+4>>2]=U)}function Nn(){return Date.now()}var Ot;Ot=()=>performance.now();function jn(){return 2147483648}function zn(n){var e=Ie.buffer;try{return Ie.grow(n-e.byteLength+65535>>>16),vt(),1}catch{}}function Bn(n){var e=Ce.length;n=n>>>0;var s=jn();if(n>s)return!1;let o=(A,C)=>A+(C-A%C)%C;for(var r=1;r<=4;r*=2){var i=e*(1+.2/r);i=Math.min(i,n+100663296);var m=Math.min(s,o(Math.max(n,i),65536)),y=zn(m);if(y)return!0}return!1}var ut={};function Wn(){return dt||"./this.program"}function We(){if(!We.strings){var n=(typeof navigator=="object"&&navigator.languages&&navigator.languages[0]||"C").replace("-","_")+".UTF-8",e={USER:"web_user",LOGNAME:"web_user",PATH:"/",PWD:"/",HOME:"/home/web_user",LANG:n,_:Wn()};for(var s in ut)ut[s]===void 0?delete e[s]:e[s]=ut[s];var o=[];for(var s in e)o.push(s+"="+e[s]);We.strings=o}return We.strings}function Un(n,e,s){for(var o=0;o<n.length;++o)me[e++>>0]=n.charCodeAt(o);s||(me[e>>0]=0)}function Qn(n,e){var s=0;return We().forEach(function(o,r){var i=e+s;_e[n+r*4>>2]=i,Un(o,i),s+=o.length+1}),0}function Hn(n,e){var s=We();_e[n>>2]=s.length;var o=0;return s.forEach(function(r){o+=r.length+1}),_e[e>>2]=o,0}function Vn(n){try{var e=$.getStreamFromFD(n);return l.close(e),0}catch(s){if(typeof l>"u"||s.name!=="ErrnoError")throw s;return s.errno}}function Gn(n,e){try{var s=$.getStreamFromFD(n),o=s.tty?2:l.isDir(s.mode)?3:l.isLink(s.mode)?7:4;return me[e>>0]=o,0}catch(r){if(typeof l>"u"||r.name!=="ErrnoError")throw r;return r.errno}}function Kn(n,e,s,o){for(var r=0,i=0;i<s;i++){var m=_e[e>>2],y=_e[e+4>>2];e+=8;var A=l.read(n,me,m,y,o);if(A<0)return-1;if(r+=A,A<y)break;typeof o<"u"&&(o+=A)}return r}function Jn(n,e,s,o){try{var r=$.getStreamFromFD(n),i=Kn(r,e,s);return _e[o>>2]=i,0}catch(m){if(typeof l>"u"||m.name!=="ErrnoError")throw m;return m.errno}}function $n(n,e,s,o){try{if(e=Tt(e),isNaN(e))return 61;var r=$.getStreamFromFD(n);return l.llseek(r,e,s),fe=[r.position>>>0,(Y=r.position,+Math.abs(Y)>=1?Y>0?(Math.min(+Math.floor(Y/4294967296),4294967295)|0)>>>0:~~+Math.ceil((Y-+(~~Y>>>0))/4294967296)>>>0:0)],X[o>>2]=fe[0],X[o+4>>2]=fe[1],r.getdents&&e===0&&s===0&&(r.getdents=null),0}catch(i){if(typeof l>"u"||i.name!=="ErrnoError")throw i;return i.errno}}function Xn(n){try{var e=$.getStreamFromFD(n);return e.stream_ops&&e.stream_ops.fsync?e.stream_ops.fsync(e):0}catch(s){if(typeof l>"u"||s.name!=="ErrnoError")throw s;return s.errno}}function Yn(n,e,s,o){for(var r=0,i=0;i<s;i++){var m=_e[e>>2],y=_e[e+4>>2];e+=8;var A=l.write(n,me,m,y,o);if(A<0)return-1;r+=A,typeof o<"u"&&(o+=A)}return r}function Zn(n,e,s,o){try{var r=$.getStreamFromFD(n),i=Yn(r,e,s);return _e[o>>2]=i,0}catch(m){if(typeof l>"u"||m.name!=="ErrnoError")throw m;return m.errno}}var Pt=function(n,e,s,o){n||(n=this),this.parent=n,this.mount=n.mount,this.mounted=null,this.id=l.nextInode++,this.name=e,this.mode=s,this.node_ops={},this.stream_ops={},this.rdev=o},Ye=365,Ze=146;Object.defineProperties(Pt.prototype,{read:{get:function(){return(this.mode&Ye)===Ye},set:function(n){n?this.mode|=Ye:this.mode&=~Ye}},write:{get:function(){return(this.mode&Ze)===Ze},set:function(n){n?this.mode|=Ze:this.mode&=~Ze}},isFolder:{get:function(){return l.isDir(this.mode)}},isDevice:{get:function(){return l.isChrdev(this.mode)}}}),l.FSNode=Pt,l.staticInit();var Lt={__assert_fail:on,__syscall_chmod:cn,__syscall_faccessat:_n,__syscall_fchmod:un,__syscall_fchown32:fn,__syscall_fcntl64:dn,__syscall_fstat64:mn,__syscall_ftruncate64:qn,__syscall_getcwd:yn,__syscall_ioctl:bn,__syscall_lstat64:vn,__syscall_mkdirat:wn,__syscall_newfstatat:En,__syscall_openat:xn,__syscall_readlinkat:Sn,__syscall_rmdir:An,__syscall_stat64:kn,__syscall_unlinkat:In,__syscall_utimensat:Tn,_emscripten_get_now_is_monotonic:On,_localtime_js:Rn,_tzset_js:Mn,emscripten_date_now:Nn,emscripten_get_now:Ot,emscripten_resize_heap:Bn,environ_get:Qn,environ_sizes_get:Hn,fd_close:Vn,fd_fdstat_get:Gn,fd_read:Jn,fd_seek:$n,fd_sync:Xn,fd_write:Zn,memory:Ie},Wl=sn(),er=function(){return(er=t.asm.__wasm_call_ctors).apply(null,arguments)},tr=t._sqlite3_status64=function(){return(tr=t._sqlite3_status64=t.asm.sqlite3_status64).apply(null,arguments)},nr=t._sqlite3_status=function(){return(nr=t._sqlite3_status=t.asm.sqlite3_status).apply(null,arguments)},rr=t._sqlite3_db_status=function(){return(rr=t._sqlite3_db_status=t.asm.sqlite3_db_status).apply(null,arguments)},sr=t._sqlite3_msize=function(){return(sr=t._sqlite3_msize=t.asm.sqlite3_msize).apply(null,arguments)},ir=t._sqlite3_vfs_find=function(){return(ir=t._sqlite3_vfs_find=t.asm.sqlite3_vfs_find).apply(null,arguments)},or=t._sqlite3_initialize=function(){return(or=t._sqlite3_initialize=t.asm.sqlite3_initialize).apply(null,arguments)},lr=t._sqlite3_malloc=function(){return(lr=t._sqlite3_malloc=t.asm.sqlite3_malloc).apply(null,arguments)},ar=t._sqlite3_free=function(){return(ar=t._sqlite3_free=t.asm.sqlite3_free).apply(null,arguments)},cr=t._sqlite3_vfs_register=function(){return(cr=t._sqlite3_vfs_register=t.asm.sqlite3_vfs_register).apply(null,arguments)},_r=t._sqlite3_vfs_unregister=function(){return(_r=t._sqlite3_vfs_unregister=t.asm.sqlite3_vfs_unregister).apply(null,arguments)},ur=t._sqlite3_malloc64=function(){return(ur=t._sqlite3_malloc64=t.asm.sqlite3_malloc64).apply(null,arguments)},fr=t._sqlite3_realloc=function(){return(fr=t._sqlite3_realloc=t.asm.sqlite3_realloc).apply(null,arguments)},pr=t._sqlite3_realloc64=function(){return(pr=t._sqlite3_realloc64=t.asm.sqlite3_realloc64).apply(null,arguments)},dr=t._sqlite3_value_text=function(){return(dr=t._sqlite3_value_text=t.asm.sqlite3_value_text).apply(null,arguments)},mr=t._sqlite3_randomness=function(){return(mr=t._sqlite3_randomness=t.asm.sqlite3_randomness).apply(null,arguments)},gr=t._sqlite3_stricmp=function(){return(gr=t._sqlite3_stricmp=t.asm.sqlite3_stricmp).apply(null,arguments)},hr=t._sqlite3_strnicmp=function(){return(hr=t._sqlite3_strnicmp=t.asm.sqlite3_strnicmp).apply(null,arguments)},qr=t._sqlite3_uri_parameter=function(){return(qr=t._sqlite3_uri_parameter=t.asm.sqlite3_uri_parameter).apply(null,arguments)},Dt=function(){return(Dt=t.asm.__errno_location).apply(null,arguments)},yr=t._sqlite3_uri_boolean=function(){return(yr=t._sqlite3_uri_boolean=t.asm.sqlite3_uri_boolean).apply(null,arguments)},br=t._sqlite3_serialize=function(){return(br=t._sqlite3_serialize=t.asm.sqlite3_serialize).apply(null,arguments)},vr=t._sqlite3_prepare_v2=function(){return(vr=t._sqlite3_prepare_v2=t.asm.sqlite3_prepare_v2).apply(null,arguments)},wr=t._sqlite3_step=function(){return(wr=t._sqlite3_step=t.asm.sqlite3_step).apply(null,arguments)},Er=t._sqlite3_column_int64=function(){return(Er=t._sqlite3_column_int64=t.asm.sqlite3_column_int64).apply(null,arguments)},xr=t._sqlite3_column_int=function(){return(xr=t._sqlite3_column_int=t.asm.sqlite3_column_int).apply(null,arguments)},Sr=t._sqlite3_finalize=function(){return(Sr=t._sqlite3_finalize=t.asm.sqlite3_finalize).apply(null,arguments)},Ar=t._sqlite3_file_control=function(){return(Ar=t._sqlite3_file_control=t.asm.sqlite3_file_control).apply(null,arguments)},kr=t._sqlite3_reset=function(){return(kr=t._sqlite3_reset=t.asm.sqlite3_reset).apply(null,arguments)},Ir=t._sqlite3_deserialize=function(){return(Ir=t._sqlite3_deserialize=t.asm.sqlite3_deserialize).apply(null,arguments)},Tr=t._sqlite3_clear_bindings=function(){return(Tr=t._sqlite3_clear_bindings=t.asm.sqlite3_clear_bindings).apply(null,arguments)},Fr=t._sqlite3_value_blob=function(){return(Fr=t._sqlite3_value_blob=t.asm.sqlite3_value_blob).apply(null,arguments)},Or=t._sqlite3_value_bytes=function(){return(Or=t._sqlite3_value_bytes=t.asm.sqlite3_value_bytes).apply(null,arguments)},Pr=t._sqlite3_value_double=function(){return(Pr=t._sqlite3_value_double=t.asm.sqlite3_value_double).apply(null,arguments)},Lr=t._sqlite3_value_int=function(){return(Lr=t._sqlite3_value_int=t.asm.sqlite3_value_int).apply(null,arguments)},Dr=t._sqlite3_value_int64=function(){return(Dr=t._sqlite3_value_int64=t.asm.sqlite3_value_int64).apply(null,arguments)},Cr=t._sqlite3_value_subtype=function(){return(Cr=t._sqlite3_value_subtype=t.asm.sqlite3_value_subtype).apply(null,arguments)},Rr=t._sqlite3_value_pointer=function(){return(Rr=t._sqlite3_value_pointer=t.asm.sqlite3_value_pointer).apply(null,arguments)},Mr=t._sqlite3_value_type=function(){return(Mr=t._sqlite3_value_type=t.asm.sqlite3_value_type).apply(null,arguments)},Nr=t._sqlite3_value_nochange=function(){return(Nr=t._sqlite3_value_nochange=t.asm.sqlite3_value_nochange).apply(null,arguments)},jr=t._sqlite3_value_frombind=function(){return(jr=t._sqlite3_value_frombind=t.asm.sqlite3_value_frombind).apply(null,arguments)},zr=t._sqlite3_value_dup=function(){return(zr=t._sqlite3_value_dup=t.asm.sqlite3_value_dup).apply(null,arguments)},Br=t._sqlite3_value_free=function(){return(Br=t._sqlite3_value_free=t.asm.sqlite3_value_free).apply(null,arguments)},Wr=t._sqlite3_result_blob=function(){return(Wr=t._sqlite3_result_blob=t.asm.sqlite3_result_blob).apply(null,arguments)},Ur=t._sqlite3_result_error_nomem=function(){return(Ur=t._sqlite3_result_error_nomem=t.asm.sqlite3_result_error_nomem).apply(null,arguments)},Qr=t._sqlite3_result_error_toobig=function(){return(Qr=t._sqlite3_result_error_toobig=t.asm.sqlite3_result_error_toobig).apply(null,arguments)},Hr=t._sqlite3_result_double=function(){return(Hr=t._sqlite3_result_double=t.asm.sqlite3_result_double).apply(null,arguments)},Vr=t._sqlite3_result_error=function(){return(Vr=t._sqlite3_result_error=t.asm.sqlite3_result_error).apply(null,arguments)},Gr=t._sqlite3_result_int=function(){return(Gr=t._sqlite3_result_int=t.asm.sqlite3_result_int).apply(null,arguments)},Kr=t._sqlite3_result_int64=function(){return(Kr=t._sqlite3_result_int64=t.asm.sqlite3_result_int64).apply(null,arguments)},Jr=t._sqlite3_result_null=function(){return(Jr=t._sqlite3_result_null=t.asm.sqlite3_result_null).apply(null,arguments)},$r=t._sqlite3_result_pointer=function(){return($r=t._sqlite3_result_pointer=t.asm.sqlite3_result_pointer).apply(null,arguments)},Xr=t._sqlite3_result_subtype=function(){return(Xr=t._sqlite3_result_subtype=t.asm.sqlite3_result_subtype).apply(null,arguments)},Yr=t._sqlite3_result_text=function(){return(Yr=t._sqlite3_result_text=t.asm.sqlite3_result_text).apply(null,arguments)},Zr=t._sqlite3_result_zeroblob=function(){return(Zr=t._sqlite3_result_zeroblob=t.asm.sqlite3_result_zeroblob).apply(null,arguments)},es=t._sqlite3_result_zeroblob64=function(){return(es=t._sqlite3_result_zeroblob64=t.asm.sqlite3_result_zeroblob64).apply(null,arguments)},ts=t._sqlite3_result_error_code=function(){return(ts=t._sqlite3_result_error_code=t.asm.sqlite3_result_error_code).apply(null,arguments)},ns=t._sqlite3_user_data=function(){return(ns=t._sqlite3_user_data=t.asm.sqlite3_user_data).apply(null,arguments)},rs=t._sqlite3_context_db_handle=function(){return(rs=t._sqlite3_context_db_handle=t.asm.sqlite3_context_db_handle).apply(null,arguments)},ss=t._sqlite3_vtab_nochange=function(){return(ss=t._sqlite3_vtab_nochange=t.asm.sqlite3_vtab_nochange).apply(null,arguments)},is=t._sqlite3_vtab_in_first=function(){return(is=t._sqlite3_vtab_in_first=t.asm.sqlite3_vtab_in_first).apply(null,arguments)},os=t._sqlite3_vtab_in_next=function(){return(os=t._sqlite3_vtab_in_next=t.asm.sqlite3_vtab_in_next).apply(null,arguments)},ls=t._sqlite3_aggregate_context=function(){return(ls=t._sqlite3_aggregate_context=t.asm.sqlite3_aggregate_context).apply(null,arguments)},as=t._sqlite3_get_auxdata=function(){return(as=t._sqlite3_get_auxdata=t.asm.sqlite3_get_auxdata).apply(null,arguments)},cs=t._sqlite3_set_auxdata=function(){return(cs=t._sqlite3_set_auxdata=t.asm.sqlite3_set_auxdata).apply(null,arguments)},_s=t._sqlite3_column_count=function(){return(_s=t._sqlite3_column_count=t.asm.sqlite3_column_count).apply(null,arguments)},us=t._sqlite3_data_count=function(){return(us=t._sqlite3_data_count=t.asm.sqlite3_data_count).apply(null,arguments)},fs=t._sqlite3_column_blob=function(){return(fs=t._sqlite3_column_blob=t.asm.sqlite3_column_blob).apply(null,arguments)},ps=t._sqlite3_column_bytes=function(){return(ps=t._sqlite3_column_bytes=t.asm.sqlite3_column_bytes).apply(null,arguments)},ds=t._sqlite3_column_double=function(){return(ds=t._sqlite3_column_double=t.asm.sqlite3_column_double).apply(null,arguments)},ms=t._sqlite3_column_text=function(){return(ms=t._sqlite3_column_text=t.asm.sqlite3_column_text).apply(null,arguments)},gs=t._sqlite3_column_value=function(){return(gs=t._sqlite3_column_value=t.asm.sqlite3_column_value).apply(null,arguments)},hs=t._sqlite3_column_type=function(){return(hs=t._sqlite3_column_type=t.asm.sqlite3_column_type).apply(null,arguments)},qs=t._sqlite3_column_name=function(){return(qs=t._sqlite3_column_name=t.asm.sqlite3_column_name).apply(null,arguments)},ys=t._sqlite3_bind_blob=function(){return(ys=t._sqlite3_bind_blob=t.asm.sqlite3_bind_blob).apply(null,arguments)},bs=t._sqlite3_bind_double=function(){return(bs=t._sqlite3_bind_double=t.asm.sqlite3_bind_double).apply(null,arguments)},vs=t._sqlite3_bind_int=function(){return(vs=t._sqlite3_bind_int=t.asm.sqlite3_bind_int).apply(null,arguments)},ws=t._sqlite3_bind_int64=function(){return(ws=t._sqlite3_bind_int64=t.asm.sqlite3_bind_int64).apply(null,arguments)},Es=t._sqlite3_bind_null=function(){return(Es=t._sqlite3_bind_null=t.asm.sqlite3_bind_null).apply(null,arguments)},xs=t._sqlite3_bind_pointer=function(){return(xs=t._sqlite3_bind_pointer=t.asm.sqlite3_bind_pointer).apply(null,arguments)},Ss=t._sqlite3_bind_text=function(){return(Ss=t._sqlite3_bind_text=t.asm.sqlite3_bind_text).apply(null,arguments)},As=t._sqlite3_bind_parameter_count=function(){return(As=t._sqlite3_bind_parameter_count=t.asm.sqlite3_bind_parameter_count).apply(null,arguments)},ks=t._sqlite3_bind_parameter_index=function(){return(ks=t._sqlite3_bind_parameter_index=t.asm.sqlite3_bind_parameter_index).apply(null,arguments)},Is=t._sqlite3_db_handle=function(){return(Is=t._sqlite3_db_handle=t.asm.sqlite3_db_handle).apply(null,arguments)},Ts=t._sqlite3_stmt_readonly=function(){return(Ts=t._sqlite3_stmt_readonly=t.asm.sqlite3_stmt_readonly).apply(null,arguments)},Fs=t._sqlite3_stmt_isexplain=function(){return(Fs=t._sqlite3_stmt_isexplain=t.asm.sqlite3_stmt_isexplain).apply(null,arguments)},Os=t._sqlite3_stmt_status=function(){return(Os=t._sqlite3_stmt_status=t.asm.sqlite3_stmt_status).apply(null,arguments)},Ps=t._sqlite3_sql=function(){return(Ps=t._sqlite3_sql=t.asm.sqlite3_sql).apply(null,arguments)},Ls=t._sqlite3_expanded_sql=function(){return(Ls=t._sqlite3_expanded_sql=t.asm.sqlite3_expanded_sql).apply(null,arguments)},Ds=t._sqlite3_preupdate_old=function(){return(Ds=t._sqlite3_preupdate_old=t.asm.sqlite3_preupdate_old).apply(null,arguments)},Cs=t._sqlite3_preupdate_count=function(){return(Cs=t._sqlite3_preupdate_count=t.asm.sqlite3_preupdate_count).apply(null,arguments)},Rs=t._sqlite3_preupdate_depth=function(){return(Rs=t._sqlite3_preupdate_depth=t.asm.sqlite3_preupdate_depth).apply(null,arguments)},Ms=t._sqlite3_preupdate_blobwrite=function(){return(Ms=t._sqlite3_preupdate_blobwrite=t.asm.sqlite3_preupdate_blobwrite).apply(null,arguments)},Ns=t._sqlite3_preupdate_new=function(){return(Ns=t._sqlite3_preupdate_new=t.asm.sqlite3_preupdate_new).apply(null,arguments)},js=t._sqlite3_value_numeric_type=function(){return(js=t._sqlite3_value_numeric_type=t.asm.sqlite3_value_numeric_type).apply(null,arguments)},zs=t._sqlite3_errmsg=function(){return(zs=t._sqlite3_errmsg=t.asm.sqlite3_errmsg).apply(null,arguments)},Bs=t._sqlite3_set_authorizer=function(){return(Bs=t._sqlite3_set_authorizer=t.asm.sqlite3_set_authorizer).apply(null,arguments)},Ws=t._sqlite3_strglob=function(){return(Ws=t._sqlite3_strglob=t.asm.sqlite3_strglob).apply(null,arguments)},Us=t._sqlite3_strlike=function(){return(Us=t._sqlite3_strlike=t.asm.sqlite3_strlike).apply(null,arguments)},Qs=t._sqlite3_exec=function(){return(Qs=t._sqlite3_exec=t.asm.sqlite3_exec).apply(null,arguments)},Hs=t._sqlite3_auto_extension=function(){return(Hs=t._sqlite3_auto_extension=t.asm.sqlite3_auto_extension).apply(null,arguments)},Vs=t._sqlite3_cancel_auto_extension=function(){return(Vs=t._sqlite3_cancel_auto_extension=t.asm.sqlite3_cancel_auto_extension).apply(null,arguments)},Gs=t._sqlite3_reset_auto_extension=function(){return(Gs=t._sqlite3_reset_auto_extension=t.asm.sqlite3_reset_auto_extension).apply(null,arguments)},Ks=t._sqlite3_prepare_v3=function(){return(Ks=t._sqlite3_prepare_v3=t.asm.sqlite3_prepare_v3).apply(null,arguments)},Js=t._sqlite3_create_module=function(){return(Js=t._sqlite3_create_module=t.asm.sqlite3_create_module).apply(null,arguments)},$s=t._sqlite3_create_module_v2=function(){return($s=t._sqlite3_create_module_v2=t.asm.sqlite3_create_module_v2).apply(null,arguments)},Xs=t._sqlite3_drop_modules=function(){return(Xs=t._sqlite3_drop_modules=t.asm.sqlite3_drop_modules).apply(null,arguments)},Ys=t._sqlite3_declare_vtab=function(){return(Ys=t._sqlite3_declare_vtab=t.asm.sqlite3_declare_vtab).apply(null,arguments)},Zs=t._sqlite3_vtab_on_conflict=function(){return(Zs=t._sqlite3_vtab_on_conflict=t.asm.sqlite3_vtab_on_conflict).apply(null,arguments)},ei=t._sqlite3_vtab_collation=function(){return(ei=t._sqlite3_vtab_collation=t.asm.sqlite3_vtab_collation).apply(null,arguments)},ti=t._sqlite3_vtab_in=function(){return(ti=t._sqlite3_vtab_in=t.asm.sqlite3_vtab_in).apply(null,arguments)},ni=t._sqlite3_vtab_rhs_value=function(){return(ni=t._sqlite3_vtab_rhs_value=t.asm.sqlite3_vtab_rhs_value).apply(null,arguments)},ri=t._sqlite3_vtab_distinct=function(){return(ri=t._sqlite3_vtab_distinct=t.asm.sqlite3_vtab_distinct).apply(null,arguments)},si=t._sqlite3_keyword_name=function(){return(si=t._sqlite3_keyword_name=t.asm.sqlite3_keyword_name).apply(null,arguments)},ii=t._sqlite3_keyword_count=function(){return(ii=t._sqlite3_keyword_count=t.asm.sqlite3_keyword_count).apply(null,arguments)},oi=t._sqlite3_keyword_check=function(){return(oi=t._sqlite3_keyword_check=t.asm.sqlite3_keyword_check).apply(null,arguments)},li=t._sqlite3_complete=function(){return(li=t._sqlite3_complete=t.asm.sqlite3_complete).apply(null,arguments)},ai=t._sqlite3_libversion=function(){return(ai=t._sqlite3_libversion=t.asm.sqlite3_libversion).apply(null,arguments)},ci=t._sqlite3_libversion_number=function(){return(ci=t._sqlite3_libversion_number=t.asm.sqlite3_libversion_number).apply(null,arguments)},_i=t._sqlite3_shutdown=function(){return(_i=t._sqlite3_shutdown=t.asm.sqlite3_shutdown).apply(null,arguments)},ui=t._sqlite3_last_insert_rowid=function(){return(ui=t._sqlite3_last_insert_rowid=t.asm.sqlite3_last_insert_rowid).apply(null,arguments)},fi=t._sqlite3_set_last_insert_rowid=function(){return(fi=t._sqlite3_set_last_insert_rowid=t.asm.sqlite3_set_last_insert_rowid).apply(null,arguments)},pi=t._sqlite3_changes64=function(){return(pi=t._sqlite3_changes64=t.asm.sqlite3_changes64).apply(null,arguments)},di=t._sqlite3_changes=function(){return(di=t._sqlite3_changes=t.asm.sqlite3_changes).apply(null,arguments)},mi=t._sqlite3_total_changes64=function(){return(mi=t._sqlite3_total_changes64=t.asm.sqlite3_total_changes64).apply(null,arguments)},gi=t._sqlite3_total_changes=function(){return(gi=t._sqlite3_total_changes=t.asm.sqlite3_total_changes).apply(null,arguments)},hi=t._sqlite3_txn_state=function(){return(hi=t._sqlite3_txn_state=t.asm.sqlite3_txn_state).apply(null,arguments)},qi=t._sqlite3_close_v2=function(){return(qi=t._sqlite3_close_v2=t.asm.sqlite3_close_v2).apply(null,arguments)},yi=t._sqlite3_busy_handler=function(){return(yi=t._sqlite3_busy_handler=t.asm.sqlite3_busy_handler).apply(null,arguments)},bi=t._sqlite3_progress_handler=function(){return(bi=t._sqlite3_progress_handler=t.asm.sqlite3_progress_handler).apply(null,arguments)},vi=t._sqlite3_busy_timeout=function(){return(vi=t._sqlite3_busy_timeout=t.asm.sqlite3_busy_timeout).apply(null,arguments)},wi=t._sqlite3_create_function=function(){return(wi=t._sqlite3_create_function=t.asm.sqlite3_create_function).apply(null,arguments)},Ei=t._sqlite3_create_function_v2=function(){return(Ei=t._sqlite3_create_function_v2=t.asm.sqlite3_create_function_v2).apply(null,arguments)},xi=t._sqlite3_create_window_function=function(){return(xi=t._sqlite3_create_window_function=t.asm.sqlite3_create_window_function).apply(null,arguments)},Si=t._sqlite3_overload_function=function(){return(Si=t._sqlite3_overload_function=t.asm.sqlite3_overload_function).apply(null,arguments)},Ai=t._sqlite3_trace_v2=function(){return(Ai=t._sqlite3_trace_v2=t.asm.sqlite3_trace_v2).apply(null,arguments)},ki=t._sqlite3_commit_hook=function(){return(ki=t._sqlite3_commit_hook=t.asm.sqlite3_commit_hook).apply(null,arguments)},Ii=t._sqlite3_update_hook=function(){return(Ii=t._sqlite3_update_hook=t.asm.sqlite3_update_hook).apply(null,arguments)},Ti=t._sqlite3_rollback_hook=function(){return(Ti=t._sqlite3_rollback_hook=t.asm.sqlite3_rollback_hook).apply(null,arguments)},Fi=t._sqlite3_preupdate_hook=function(){return(Fi=t._sqlite3_preupdate_hook=t.asm.sqlite3_preupdate_hook).apply(null,arguments)},Oi=t._sqlite3_error_offset=function(){return(Oi=t._sqlite3_error_offset=t.asm.sqlite3_error_offset).apply(null,arguments)},Pi=t._sqlite3_errcode=function(){return(Pi=t._sqlite3_errcode=t.asm.sqlite3_errcode).apply(null,arguments)},Li=t._sqlite3_extended_errcode=function(){return(Li=t._sqlite3_extended_errcode=t.asm.sqlite3_extended_errcode).apply(null,arguments)},Di=t._sqlite3_errstr=function(){return(Di=t._sqlite3_errstr=t.asm.sqlite3_errstr).apply(null,arguments)},Ci=t._sqlite3_limit=function(){return(Ci=t._sqlite3_limit=t.asm.sqlite3_limit).apply(null,arguments)},Ri=t._sqlite3_open=function(){return(Ri=t._sqlite3_open=t.asm.sqlite3_open).apply(null,arguments)},Mi=t._sqlite3_open_v2=function(){return(Mi=t._sqlite3_open_v2=t.asm.sqlite3_open_v2).apply(null,arguments)},Ni=t._sqlite3_create_collation=function(){return(Ni=t._sqlite3_create_collation=t.asm.sqlite3_create_collation).apply(null,arguments)},ji=t._sqlite3_create_collation_v2=function(){return(ji=t._sqlite3_create_collation_v2=t.asm.sqlite3_create_collation_v2).apply(null,arguments)},zi=t._sqlite3_collation_needed=function(){return(zi=t._sqlite3_collation_needed=t.asm.sqlite3_collation_needed).apply(null,arguments)},Bi=t._sqlite3_table_column_metadata=function(){return(Bi=t._sqlite3_table_column_metadata=t.asm.sqlite3_table_column_metadata).apply(null,arguments)},Wi=t._sqlite3_extended_result_codes=function(){return(Wi=t._sqlite3_extended_result_codes=t.asm.sqlite3_extended_result_codes).apply(null,arguments)},Ui=t._sqlite3_uri_key=function(){return(Ui=t._sqlite3_uri_key=t.asm.sqlite3_uri_key).apply(null,arguments)},Qi=t._sqlite3_uri_int64=function(){return(Qi=t._sqlite3_uri_int64=t.asm.sqlite3_uri_int64).apply(null,arguments)},Hi=t._sqlite3_db_name=function(){return(Hi=t._sqlite3_db_name=t.asm.sqlite3_db_name).apply(null,arguments)},Vi=t._sqlite3_db_filename=function(){return(Vi=t._sqlite3_db_filename=t.asm.sqlite3_db_filename).apply(null,arguments)},Gi=t._sqlite3_compileoption_used=function(){return(Gi=t._sqlite3_compileoption_used=t.asm.sqlite3_compileoption_used).apply(null,arguments)},Ki=t._sqlite3_compileoption_get=function(){return(Ki=t._sqlite3_compileoption_get=t.asm.sqlite3_compileoption_get).apply(null,arguments)},Ji=t._sqlite3session_diff=function(){return(Ji=t._sqlite3session_diff=t.asm.sqlite3session_diff).apply(null,arguments)},$i=t._sqlite3session_attach=function(){return($i=t._sqlite3session_attach=t.asm.sqlite3session_attach).apply(null,arguments)},Xi=t._sqlite3session_create=function(){return(Xi=t._sqlite3session_create=t.asm.sqlite3session_create).apply(null,arguments)},Yi=t._sqlite3session_delete=function(){return(Yi=t._sqlite3session_delete=t.asm.sqlite3session_delete).apply(null,arguments)},Zi=t._sqlite3session_table_filter=function(){return(Zi=t._sqlite3session_table_filter=t.asm.sqlite3session_table_filter).apply(null,arguments)},eo=t._sqlite3session_changeset=function(){return(eo=t._sqlite3session_changeset=t.asm.sqlite3session_changeset).apply(null,arguments)},to=t._sqlite3session_changeset_strm=function(){return(to=t._sqlite3session_changeset_strm=t.asm.sqlite3session_changeset_strm).apply(null,arguments)},no=t._sqlite3session_patchset_strm=function(){return(no=t._sqlite3session_patchset_strm=t.asm.sqlite3session_patchset_strm).apply(null,arguments)},ro=t._sqlite3session_patchset=function(){return(ro=t._sqlite3session_patchset=t.asm.sqlite3session_patchset).apply(null,arguments)},so=t._sqlite3session_enable=function(){return(so=t._sqlite3session_enable=t.asm.sqlite3session_enable).apply(null,arguments)},io=t._sqlite3session_indirect=function(){return(io=t._sqlite3session_indirect=t.asm.sqlite3session_indirect).apply(null,arguments)},oo=t._sqlite3session_isempty=function(){return(oo=t._sqlite3session_isempty=t.asm.sqlite3session_isempty).apply(null,arguments)},lo=t._sqlite3session_memory_used=function(){return(lo=t._sqlite3session_memory_used=t.asm.sqlite3session_memory_used).apply(null,arguments)},ao=t._sqlite3session_object_config=function(){return(ao=t._sqlite3session_object_config=t.asm.sqlite3session_object_config).apply(null,arguments)},co=t._sqlite3session_changeset_size=function(){return(co=t._sqlite3session_changeset_size=t.asm.sqlite3session_changeset_size).apply(null,arguments)},_o=t._sqlite3changeset_start=function(){return(_o=t._sqlite3changeset_start=t.asm.sqlite3changeset_start).apply(null,arguments)},uo=t._sqlite3changeset_start_v2=function(){return(uo=t._sqlite3changeset_start_v2=t.asm.sqlite3changeset_start_v2).apply(null,arguments)},fo=t._sqlite3changeset_start_strm=function(){return(fo=t._sqlite3changeset_start_strm=t.asm.sqlite3changeset_start_strm).apply(null,arguments)},po=t._sqlite3changeset_start_v2_strm=function(){return(po=t._sqlite3changeset_start_v2_strm=t.asm.sqlite3changeset_start_v2_strm).apply(null,arguments)},mo=t._sqlite3changeset_next=function(){return(mo=t._sqlite3changeset_next=t.asm.sqlite3changeset_next).apply(null,arguments)},go=t._sqlite3changeset_op=function(){return(go=t._sqlite3changeset_op=t.asm.sqlite3changeset_op).apply(null,arguments)},ho=t._sqlite3changeset_pk=function(){return(ho=t._sqlite3changeset_pk=t.asm.sqlite3changeset_pk).apply(null,arguments)},qo=t._sqlite3changeset_old=function(){return(qo=t._sqlite3changeset_old=t.asm.sqlite3changeset_old).apply(null,arguments)},yo=t._sqlite3changeset_new=function(){return(yo=t._sqlite3changeset_new=t.asm.sqlite3changeset_new).apply(null,arguments)},bo=t._sqlite3changeset_conflict=function(){return(bo=t._sqlite3changeset_conflict=t.asm.sqlite3changeset_conflict).apply(null,arguments)},vo=t._sqlite3changeset_fk_conflicts=function(){return(vo=t._sqlite3changeset_fk_conflicts=t.asm.sqlite3changeset_fk_conflicts).apply(null,arguments)},wo=t._sqlite3changeset_finalize=function(){return(wo=t._sqlite3changeset_finalize=t.asm.sqlite3changeset_finalize).apply(null,arguments)},Eo=t._sqlite3changeset_invert=function(){return(Eo=t._sqlite3changeset_invert=t.asm.sqlite3changeset_invert).apply(null,arguments)},xo=t._sqlite3changeset_invert_strm=function(){return(xo=t._sqlite3changeset_invert_strm=t.asm.sqlite3changeset_invert_strm).apply(null,arguments)},So=t._sqlite3changeset_apply_v2=function(){return(So=t._sqlite3changeset_apply_v2=t.asm.sqlite3changeset_apply_v2).apply(null,arguments)},Ao=t._sqlite3changeset_apply=function(){return(Ao=t._sqlite3changeset_apply=t.asm.sqlite3changeset_apply).apply(null,arguments)},ko=t._sqlite3changeset_apply_v2_strm=function(){return(ko=t._sqlite3changeset_apply_v2_strm=t.asm.sqlite3changeset_apply_v2_strm).apply(null,arguments)},Io=t._sqlite3changeset_apply_strm=function(){return(Io=t._sqlite3changeset_apply_strm=t.asm.sqlite3changeset_apply_strm).apply(null,arguments)},To=t._sqlite3changegroup_new=function(){return(To=t._sqlite3changegroup_new=t.asm.sqlite3changegroup_new).apply(null,arguments)},Fo=t._sqlite3changegroup_add=function(){return(Fo=t._sqlite3changegroup_add=t.asm.sqlite3changegroup_add).apply(null,arguments)},Oo=t._sqlite3changegroup_output=function(){return(Oo=t._sqlite3changegroup_output=t.asm.sqlite3changegroup_output).apply(null,arguments)},Po=t._sqlite3changegroup_add_strm=function(){return(Po=t._sqlite3changegroup_add_strm=t.asm.sqlite3changegroup_add_strm).apply(null,arguments)},Lo=t._sqlite3changegroup_output_strm=function(){return(Lo=t._sqlite3changegroup_output_strm=t.asm.sqlite3changegroup_output_strm).apply(null,arguments)},Do=t._sqlite3changegroup_delete=function(){return(Do=t._sqlite3changegroup_delete=t.asm.sqlite3changegroup_delete).apply(null,arguments)},Co=t._sqlite3changeset_concat=function(){return(Co=t._sqlite3changeset_concat=t.asm.sqlite3changeset_concat).apply(null,arguments)},Ro=t._sqlite3changeset_concat_strm=function(){return(Ro=t._sqlite3changeset_concat_strm=t.asm.sqlite3changeset_concat_strm).apply(null,arguments)},Mo=t._sqlite3session_config=function(){return(Mo=t._sqlite3session_config=t.asm.sqlite3session_config).apply(null,arguments)},No=t._sqlite3_sourceid=function(){return(No=t._sqlite3_sourceid=t.asm.sqlite3_sourceid).apply(null,arguments)},jo=t._sqlite3_wasm_pstack_ptr=function(){return(jo=t._sqlite3_wasm_pstack_ptr=t.asm.sqlite3_wasm_pstack_ptr).apply(null,arguments)},zo=t._sqlite3_wasm_pstack_restore=function(){return(zo=t._sqlite3_wasm_pstack_restore=t.asm.sqlite3_wasm_pstack_restore).apply(null,arguments)},Bo=t._sqlite3_wasm_pstack_alloc=function(){return(Bo=t._sqlite3_wasm_pstack_alloc=t.asm.sqlite3_wasm_pstack_alloc).apply(null,arguments)},Wo=t._sqlite3_wasm_pstack_remaining=function(){return(Wo=t._sqlite3_wasm_pstack_remaining=t.asm.sqlite3_wasm_pstack_remaining).apply(null,arguments)},Uo=t._sqlite3_wasm_pstack_quota=function(){return(Uo=t._sqlite3_wasm_pstack_quota=t.asm.sqlite3_wasm_pstack_quota).apply(null,arguments)},Qo=t._sqlite3_wasm_db_error=function(){return(Qo=t._sqlite3_wasm_db_error=t.asm.sqlite3_wasm_db_error).apply(null,arguments)},Ho=t._sqlite3_wasm_test_struct=function(){return(Ho=t._sqlite3_wasm_test_struct=t.asm.sqlite3_wasm_test_struct).apply(null,arguments)},Vo=t._sqlite3_wasm_enum_json=function(){return(Vo=t._sqlite3_wasm_enum_json=t.asm.sqlite3_wasm_enum_json).apply(null,arguments)},Go=t._sqlite3_wasm_vfs_unlink=function(){return(Go=t._sqlite3_wasm_vfs_unlink=t.asm.sqlite3_wasm_vfs_unlink).apply(null,arguments)},Ko=t._sqlite3_wasm_db_vfs=function(){return(Ko=t._sqlite3_wasm_db_vfs=t.asm.sqlite3_wasm_db_vfs).apply(null,arguments)},Jo=t._sqlite3_wasm_db_reset=function(){return(Jo=t._sqlite3_wasm_db_reset=t.asm.sqlite3_wasm_db_reset).apply(null,arguments)},$o=t._sqlite3_wasm_db_export_chunked=function(){return($o=t._sqlite3_wasm_db_export_chunked=t.asm.sqlite3_wasm_db_export_chunked).apply(null,arguments)},Xo=t._sqlite3_wasm_db_serialize=function(){return(Xo=t._sqlite3_wasm_db_serialize=t.asm.sqlite3_wasm_db_serialize).apply(null,arguments)},Yo=t._sqlite3_wasm_vfs_create_file=function(){return(Yo=t._sqlite3_wasm_vfs_create_file=t.asm.sqlite3_wasm_vfs_create_file).apply(null,arguments)},Zo=t._sqlite3_wasm_kvvfsMakeKeyOnPstack=function(){return(Zo=t._sqlite3_wasm_kvvfsMakeKeyOnPstack=t.asm.sqlite3_wasm_kvvfsMakeKeyOnPstack).apply(null,arguments)},el=t._sqlite3_wasm_kvvfs_methods=function(){return(el=t._sqlite3_wasm_kvvfs_methods=t.asm.sqlite3_wasm_kvvfs_methods).apply(null,arguments)},tl=t._sqlite3_wasm_vtab_config=function(){return(tl=t._sqlite3_wasm_vtab_config=t.asm.sqlite3_wasm_vtab_config).apply(null,arguments)},nl=t._sqlite3_wasm_db_config_ip=function(){return(nl=t._sqlite3_wasm_db_config_ip=t.asm.sqlite3_wasm_db_config_ip).apply(null,arguments)},rl=t._sqlite3_wasm_db_config_pii=function(){return(rl=t._sqlite3_wasm_db_config_pii=t.asm.sqlite3_wasm_db_config_pii).apply(null,arguments)},sl=t._sqlite3_wasm_db_config_s=function(){return(sl=t._sqlite3_wasm_db_config_s=t.asm.sqlite3_wasm_db_config_s).apply(null,arguments)},il=t._sqlite3_wasm_config_i=function(){return(il=t._sqlite3_wasm_config_i=t.asm.sqlite3_wasm_config_i).apply(null,arguments)},ol=t._sqlite3_wasm_config_ii=function(){return(ol=t._sqlite3_wasm_config_ii=t.asm.sqlite3_wasm_config_ii).apply(null,arguments)},ll=t._sqlite3_wasm_config_j=function(){return(ll=t._sqlite3_wasm_config_j=t.asm.sqlite3_wasm_config_j).apply(null,arguments)},al=t._sqlite3_wasm_init_wasmfs=function(){return(al=t._sqlite3_wasm_init_wasmfs=t.asm.sqlite3_wasm_init_wasmfs).apply(null,arguments)},cl=t._sqlite3_wasm_test_intptr=function(){return(cl=t._sqlite3_wasm_test_intptr=t.asm.sqlite3_wasm_test_intptr).apply(null,arguments)},_l=t._sqlite3_wasm_test_voidptr=function(){return(_l=t._sqlite3_wasm_test_voidptr=t.asm.sqlite3_wasm_test_voidptr).apply(null,arguments)},ul=t._sqlite3_wasm_test_int64_max=function(){return(ul=t._sqlite3_wasm_test_int64_max=t.asm.sqlite3_wasm_test_int64_max).apply(null,arguments)},fl=t._sqlite3_wasm_test_int64_min=function(){return(fl=t._sqlite3_wasm_test_int64_min=t.asm.sqlite3_wasm_test_int64_min).apply(null,arguments)},pl=t._sqlite3_wasm_test_int64_times2=function(){return(pl=t._sqlite3_wasm_test_int64_times2=t.asm.sqlite3_wasm_test_int64_times2).apply(null,arguments)},dl=t._sqlite3_wasm_test_int64_minmax=function(){return(dl=t._sqlite3_wasm_test_int64_minmax=t.asm.sqlite3_wasm_test_int64_minmax).apply(null,arguments)},ml=t._sqlite3_wasm_test_int64ptr=function(){return(ml=t._sqlite3_wasm_test_int64ptr=t.asm.sqlite3_wasm_test_int64ptr).apply(null,arguments)},gl=t._sqlite3_wasm_test_stack_overflow=function(){return(gl=t._sqlite3_wasm_test_stack_overflow=t.asm.sqlite3_wasm_test_stack_overflow).apply(null,arguments)},hl=t._sqlite3_wasm_test_str_hello=function(){return(hl=t._sqlite3_wasm_test_str_hello=t.asm.sqlite3_wasm_test_str_hello).apply(null,arguments)},Ct=t._malloc=function(){return(Ct=t._malloc=t.asm.malloc).apply(null,arguments)},ql=t._free=function(){return(ql=t._free=t.asm.free).apply(null,arguments)},yl=t._realloc=function(){return(yl=t._realloc=t.asm.realloc).apply(null,arguments)},bl=function(){return(bl=t.asm.stackSave).apply(null,arguments)},vl=function(){return(vl=t.asm.stackRestore).apply(null,arguments)},wl=function(){return(wl=t.asm.stackAlloc).apply(null,arguments)};t.wasmMemory=Ie;var et;Be=function n(){et||Rt(),et||(Be=n)};function Rt(){if(Oe>0||(Jt(),Oe>0))return;function n(){et||(et=!0,t.calledRun=!0,!gt&&($t(),Fe(t),t.onRuntimeInitialized&&t.onRuntimeInitialized(),Xt()))}t.setStatus?(t.setStatus("Running..."),setTimeout(function(){setTimeout(function(){t.setStatus("")},1),n()},1)):n()}if(t.preInit)for(typeof t.preInit=="function"&&(t.preInit=[t.preInit]);t.preInit.length>0;)t.preInit.pop()();return Rt(),t.postRun||(t.postRun=[]),t.postRun.push(function(n){"use strict";"use strict";if(globalThis.sqlite3ApiBootstrap=function e(s=globalThis.sqlite3ApiConfig||e.defaultConfig){if(e.sqlite3)return console.warn("sqlite3ApiBootstrap() called multiple times.","Config and external initializers are ignored on calls after the first."),e.sqlite3;let o=Object.assign(Object.create(null),{exports:void 0,memory:void 0,bigIntEnabled:(()=>typeof n<"u"?!!n.HEAPU64:!!globalThis.BigInt64Array)(),debug:console.debug.bind(console),warn:console.warn.bind(console),error:console.error.bind(console),log:console.log.bind(console),wasmfsOpfsDir:"/opfs",useStdAlloc:!1},s||{});Object.assign(o,{allocExportName:o.useStdAlloc?"malloc":"sqlite3_malloc",deallocExportName:o.useStdAlloc?"free":"sqlite3_free",reallocExportName:o.useStdAlloc?"realloc":"sqlite3_realloc"},o),["exports","memory","wasmfsOpfsDir"].forEach(a=>{typeof o[a]=="function"&&(o[a]=o[a]())}),o.wasmOpfsDir=!1;let r=Object.create(null),i=Object.create(null),m=a=>r.sqlite3_js_rc_str&&r.sqlite3_js_rc_str(a)||"Unknown result code #"+a,y=a=>typeof a=="number"&&a===(a|0);class A extends Error{constructor(...c){let d;if(c.length)if(y(c[0]))if(d=c[0],c.length===1)super(m(c[0]));else{let v=m(d);typeof c[1]=="object"?super(v,c[1]):(c[0]=v+":",super(c.join(" ")))}else c.length===2&&typeof c[1]=="object"?super(...c):super(c.join(" "));this.resultCode=d||r.SQLITE_ERROR,this.name="SQLite3Error"}}A.toss=(...a)=>{throw new A(...a)};let C=A.toss;o.wasmfsOpfsDir&&!/^\/[^/]+$/.test(o.wasmfsOpfsDir)&&C("config.wasmfsOpfsDir must be falsy or in the form '/dir-name'.");let j=a=>typeof a!="bigint"&&a===(a|0)&&a<=2147483647&&a>=-2147483648,W=function a(c){return a._max||(a._max=BigInt("0x7fffffffffffffff"),a._min=~a._max),c>=a._min&&c<=a._max},U=a=>a>=-0x7fffffffn-1n&&a<=0x7fffffffn,g=function a(c){return a._min||(a._min=Number.MIN_SAFE_INTEGER,a._max=Number.MAX_SAFE_INTEGER),c>=a._min&&c<=a._max},p=a=>a&&a.constructor&&j(a.constructor.BYTES_PER_ELEMENT)?a:!1,u=typeof SharedArrayBuffer>"u"?function(){}:SharedArrayBuffer,q=a=>a.buffer instanceof u,w=(a,c,d)=>q(a)?a.slice(c,d):a.subarray(c,d),b=a=>a&&(a instanceof Uint8Array||a instanceof Int8Array||a instanceof ArrayBuffer),T=a=>a&&(a instanceof Uint8Array||a instanceof Int8Array||a instanceof ArrayBuffer),I=a=>b(a)||C("Value is not of a supported TypedArray type."),F=new TextDecoder("utf-8"),O=function(a,c,d){return F.decode(w(a,c,d))},z=function(a){return T(a)?O(a instanceof ArrayBuffer?new Uint8Array(a):a):Array.isArray(a)?a.join(""):(i.isPtr(a)&&(a=i.cstrToJs(a)),a)};class f extends Error{constructor(...c){c.length===2&&typeof c[1]=="object"?super(...c):c.length?super(c.join(" ")):super("Allocation failed."),this.resultCode=r.SQLITE_NOMEM,this.name="WasmAllocError"}}f.toss=(...a)=>{throw new f(...a)},Object.assign(r,{sqlite3_bind_blob:void 0,sqlite3_bind_text:void 0,sqlite3_create_function_v2:(a,c,d,v,P,B,J,G,K)=>{},sqlite3_create_function:(a,c,d,v,P,B,J,G)=>{},sqlite3_create_window_function:(a,c,d,v,P,B,J,G,K,ee)=>{},sqlite3_prepare_v3:(a,c,d,v,P,B)=>{},sqlite3_prepare_v2:(a,c,d,v,P)=>{},sqlite3_exec:(a,c,d,v,P)=>{},sqlite3_randomness:(a,c)=>{}});let h={affirmBindableTypedArray:I,flexibleString:z,bigIntFits32:U,bigIntFits64:W,bigIntFitsDouble:g,isBindableTypedArray:b,isInt32:j,isSQLableTypedArray:T,isTypedArray:p,typedArrayToString:O,isUIThread:()=>globalThis.window===globalThis&&!!globalThis.document,isSharedTypedArray:q,toss:function(...a){throw new Error(a.join(" "))},toss3:C,typedArrayPart:w};Object.assign(i,{ptrSizeof:o.wasmPtrSizeof||4,ptrIR:o.wasmPtrIR||"i32",bigIntEnabled:!!o.bigIntEnabled,exports:o.exports||C("Missing API config.exports (WASM module exports)."),memory:o.memory||o.exports.memory||C("API config object requires a WebAssembly.Memory object","in either config.exports.memory (exported)","or config.memory (imported)."),alloc:void 0,realloc:void 0,dealloc:void 0}),i.allocFromTypedArray=function(a){a instanceof ArrayBuffer&&(a=new Uint8Array(a)),I(a);let c=i.alloc(a.byteLength||1);return i.heapForSize(a.constructor).set(a.byteLength?a:[0],c),c};{let a=o.allocExportName,c=o.deallocExportName,d=o.reallocExportName;for(let v of[a,c,d])i.exports[v]instanceof Function||C("Missing required exports[",v,"] function.");i.alloc=function v(P){return v.impl(P)||f.toss("Failed to allocate",P," bytes.")},i.alloc.impl=i.exports[a],i.realloc=function v(P,B){let J=v.impl(P,B);return B?J||f.toss("Failed to reallocate",B," bytes."):0},i.realloc.impl=i.exports[d],i.dealloc=i.exports[c]}i.compileOptionUsed=function a(c){if(arguments.length){if(Array.isArray(c)){let d={};return c.forEach(v=>{d[v]=r.sqlite3_compileoption_used(v)}),d}else if(typeof c=="object")return Object.keys(c).forEach(d=>{c[d]=r.sqlite3_compileoption_used(d)}),c}else{if(a._result)return a._result;a._opt||(a._rx=/^([^=]+)=(.+)/,a._rxInt=/^-?\d+$/,a._opt=function(J,G){let K=a._rx.exec(J);G[0]=K?K[1]:J,G[1]=K?a._rxInt.test(K[2])?+K[2]:K[2]:!0});let d={},v=[0,0],P=0,B;for(;B=r.sqlite3_compileoption_get(P++);)a._opt(B,v),d[v[0]]=v[1];return a._result=d}return typeof c=="string"?!!r.sqlite3_compileoption_used(c):!1},i.pstack=Object.assign(Object.create(null),{restore:i.exports.sqlite3_wasm_pstack_restore,alloc:function(a){return typeof a=="string"&&!(a=i.sizeofIR(a))&&f.toss("Invalid value for pstack.alloc(",arguments[0],")"),i.exports.sqlite3_wasm_pstack_alloc(a)||f.toss("Could not allocate",a,"bytes from the pstack.")},allocChunks:function(a,c){typeof c=="string"&&!(c=i.sizeofIR(c))&&f.toss("Invalid size value for allocChunks(",arguments[1],")");let d=i.pstack.alloc(a*c),v=[],P=0,B=0;for(;P<a;++P,B+=c)v.push(d+B);return v},allocPtr:(a=1,c=!0)=>a===1?i.pstack.alloc(c?8:i.ptrSizeof):i.pstack.allocChunks(a,c?8:i.ptrSizeof)}),Object.defineProperties(i.pstack,{pointer:{configurable:!1,iterable:!0,writeable:!1,get:i.exports.sqlite3_wasm_pstack_ptr},quota:{configurable:!1,iterable:!0,writeable:!1,get:i.exports.sqlite3_wasm_pstack_quota},remaining:{configurable:!1,iterable:!0,writeable:!1,get:i.exports.sqlite3_wasm_pstack_remaining}}),r.sqlite3_randomness=(...a)=>{if(a.length===1&&h.isTypedArray(a[0])&&a[0].BYTES_PER_ELEMENT===1){let c=a[0];if(c.byteLength===0)return i.exports.sqlite3_randomness(0,0),c;let d=i.pstack.pointer;try{let v=c.byteLength,P=0,B=i.exports.sqlite3_randomness,J=i.heap8u(),G=v<512?v:512,K=i.pstack.alloc(G);do{let ee=v>G?G:v;B(ee,K),c.set(w(J,K,K+ee),P),v-=ee,P+=ee}while(v>0)}catch(v){console.error("Highly unexpected (and ignored!) exception in sqlite3_randomness():",v)}finally{i.pstack.restore(d)}return c}i.exports.sqlite3_randomness(...a)};let E;if(r.sqlite3_wasmfs_opfs_dir=function(){if(E!==void 0)return E;let a=o.wasmfsOpfsDir;if(console.error("sqlite3_wasmfs_opfs_dir() can no longer work due to incompatible WASMFS changes. It will be removed."),!a||!globalThis.FileSystemHandle||!globalThis.FileSystemDirectoryHandle||!globalThis.FileSystemFileHandle)return E="";try{return a&&i.xCallWrapped("sqlite3_wasm_init_wasmfs","i32",["string"],a)===0?E=a:E=""}catch{return E=""}},r.sqlite3_wasmfs_filename_is_persistent=function(a){let c=r.sqlite3_wasmfs_opfs_dir();return c&&a?a.startsWith(c+"/"):!1},r.sqlite3_js_db_uses_vfs=function(a,c,d=0){try{let v=r.sqlite3_vfs_find(c);return v?a?v===r.sqlite3_js_db_vfs(a,d)?v:!1:v===r.sqlite3_vfs_find(0)?v:!1:!1}catch{return!1}},r.sqlite3_js_vfs_list=function(){let a=[],c=r.sqlite3_vfs_find(0);for(;c;){let d=new r.sqlite3_vfs(c);a.push(i.cstrToJs(d.$zName)),c=d.$pNext,d.dispose()}return a},r.sqlite3_js_db_export=function(a,c=0){a=i.xWrap.testConvertArg("sqlite3*",a),a||C("Invalid sqlite3* argument."),i.bigIntEnabled||C("BigInt64 support is not enabled.");let d=i.scopedAllocPush(),v;try{let P=i.scopedAlloc(8+i.ptrSizeof),B=P+8,J=c?i.isPtr(c)?c:i.scopedAllocCString(""+c):0,G=i.exports.sqlite3_wasm_db_serialize(a,J,B,P,0);G&&C("Database serialization failed with code",_.capi.sqlite3_js_rc_str(G)),v=i.peekPtr(B);let K=i.peek(P,"i64");return G=K?i.heap8u().slice(v,v+Number(K)):new Uint8Array,G}finally{v&&i.exports.sqlite3_free(v),i.scopedAllocPop(d)}},r.sqlite3_js_db_vfs=(a,c=0)=>i.sqlite3_wasm_db_vfs(a,c),r.sqlite3_js_aggregate_context=(a,c)=>r.sqlite3_aggregate_context(a,c)||(c?f.toss("Cannot allocate",c,"bytes for sqlite3_aggregate_context()"):0),r.sqlite3_js_vfs_create_file=function(a,c,d,v){let P;d?(i.isPtr(d)?P=d:d instanceof ArrayBuffer&&(d=new Uint8Array(d)),d instanceof Uint8Array?(P=i.allocFromTypedArray(d),(arguments.length<4||!h.isInt32(v)||v<0)&&(v=d.byteLength)):A.toss("Invalid 3rd argument type for sqlite3_js_vfs_create_file().")):P=0,(!h.isInt32(v)||v<0)&&(i.dealloc(P),A.toss("Invalid 4th argument for sqlite3_js_vfs_create_file()."));try{let B=i.sqlite3_wasm_vfs_create_file(a,c,P,v);B&&A.toss("Creation of file failed with sqlite3 result code",r.sqlite3_js_rc_str(B))}finally{i.dealloc(P)}},h.isUIThread()){let a=function(c){let d=Object.create(null);return d.prefix="kvvfs-"+c,d.stores=[],(c==="session"||c==="")&&d.stores.push(globalThis.sessionStorage),(c==="local"||c==="")&&d.stores.push(globalThis.localStorage),d};r.sqlite3_js_kvvfs_clear=function(c=""){let d=0,v=a(c);return v.stores.forEach(P=>{let B=[],J;for(J=0;J<P.length;++J){let G=P.key(J);G.startsWith(v.prefix)&&B.push(G)}B.forEach(G=>P.removeItem(G)),d+=B.length}),d},r.sqlite3_js_kvvfs_size=function(c=""){let d=0,v=a(c);return v.stores.forEach(P=>{let B;for(B=0;B<P.length;++B){let J=P.key(B);J.startsWith(v.prefix)&&(d+=J.length,d+=P.getItem(J).length)}}),d*2}}r.sqlite3_db_config=function(a,c,...d){switch(this.s||(this.s=i.xWrap("sqlite3_wasm_db_config_s","int",["sqlite3*","int","string:static"]),this.pii=i.xWrap("sqlite3_wasm_db_config_pii","int",["sqlite3*","int","*","int","int"]),this.ip=i.xWrap("sqlite3_wasm_db_config_ip","int",["sqlite3*","int","int","*"])),c){case r.SQLITE_DBCONFIG_ENABLE_FKEY:case r.SQLITE_DBCONFIG_ENABLE_TRIGGER:case r.SQLITE_DBCONFIG_ENABLE_FTS3_TOKENIZER:case r.SQLITE_DBCONFIG_ENABLE_LOAD_EXTENSION:case r.SQLITE_DBCONFIG_NO_CKPT_ON_CLOSE:case r.SQLITE_DBCONFIG_ENABLE_QPSG:case r.SQLITE_DBCONFIG_TRIGGER_EQP:case r.SQLITE_DBCONFIG_RESET_DATABASE:case r.SQLITE_DBCONFIG_DEFENSIVE:case r.SQLITE_DBCONFIG_WRITABLE_SCHEMA:case r.SQLITE_DBCONFIG_LEGACY_ALTER_TABLE:case r.SQLITE_DBCONFIG_DQS_DML:case r.SQLITE_DBCONFIG_DQS_DDL:case r.SQLITE_DBCONFIG_ENABLE_VIEW:case r.SQLITE_DBCONFIG_LEGACY_FILE_FORMAT:case r.SQLITE_DBCONFIG_TRUSTED_SCHEMA:case r.SQLITE_DBCONFIG_STMT_SCANSTATUS:case r.SQLITE_DBCONFIG_REVERSE_SCANORDER:return this.ip(a,c,d[0],d[1]||0);case r.SQLITE_DBCONFIG_LOOKASIDE:return this.pii(a,c,d[0],d[1],d[2]);case r.SQLITE_DBCONFIG_MAINDBNAME:return this.s(a,c,d[0]);default:return r.SQLITE_MISUSE}}.bind(Object.create(null)),r.sqlite3_value_to_js=function(a,c=!0){let d,v=r.sqlite3_value_type(a);switch(v){case r.SQLITE_INTEGER:i.bigIntEnabled?(d=r.sqlite3_value_int64(a),h.bigIntFitsDouble(d)&&(d=Number(d))):d=r.sqlite3_value_double(a);break;case r.SQLITE_FLOAT:d=r.sqlite3_value_double(a);break;case r.SQLITE_TEXT:d=r.sqlite3_value_text(a);break;case r.SQLITE_BLOB:{let P=r.sqlite3_value_bytes(a),B=r.sqlite3_value_blob(a);P&&!B&&_.WasmAllocError.toss("Cannot allocate memory for blob argument of",P,"byte(s)"),d=P?i.heap8u().slice(B,B+Number(P)):null;break}case r.SQLITE_NULL:d=null;break;default:c&&C(r.SQLITE_MISMATCH,"Unhandled sqlite3_value_type():",v),d=void 0}return d},r.sqlite3_values_to_js=function(a,c,d=!0){let v,P=[];for(v=0;v<a;++v)P.push(r.sqlite3_value_to_js(i.peekPtr(c+i.ptrSizeof*v)));return P},r.sqlite3_result_error_js=function(a,c){c instanceof f?r.sqlite3_result_error_nomem(a):r.sqlite3_result_error(a,""+c,-1)},r.sqlite3_result_js=function(a,c){if(c instanceof Error){r.sqlite3_result_error_js(a,c);return}try{switch(typeof c){case"undefined":break;case"boolean":r.sqlite3_result_int(a,c?1:0);break;case"bigint":h.bigIntFits32(c)?r.sqlite3_result_int(a,Number(c)):h.bigIntFitsDouble(c)?r.sqlite3_result_double(a,Number(c)):i.bigIntEnabled?h.bigIntFits64(c)?r.sqlite3_result_int64(a,c):C("BigInt value",c.toString(),"is too BigInt for int64."):C("BigInt value",c.toString(),"is too BigInt.");break;case"number":{let d;h.isInt32(c)?d=r.sqlite3_result_int:i.bigIntEnabled&&Number.isInteger(c)&&h.bigIntFits64(BigInt(c))?d=r.sqlite3_result_int64:d=r.sqlite3_result_double,d(a,c);break}case"string":{let[d,v]=i.allocCString(c,!0);r.sqlite3_result_text(a,d,v,r.SQLITE_WASM_DEALLOC);break}case"object":if(c===null){r.sqlite3_result_null(a);break}else if(h.isBindableTypedArray(c)){let d=i.allocFromTypedArray(c);r.sqlite3_result_blob(a,d,c.byteLength,r.SQLITE_WASM_DEALLOC);break}default:C("Don't not how to handle this UDF result value:",typeof c,c)}}catch(d){r.sqlite3_result_error_js(a,d)}},r.sqlite3_column_js=function(a,c,d=!0){let v=r.sqlite3_column_value(a,c);return v===0?void 0:r.sqlite3_value_to_js(v,d)};let k=function(a,c,d){d=r[d],this.ptr?i.pokePtr(this.ptr,0):this.ptr=i.allocPtr();let v=d(a,c,this.ptr);if(v)return A.toss(v,arguments[2]+"() failed with code "+v);let P=i.peekPtr(this.ptr);return P?r.sqlite3_value_to_js(P,!0):void 0}.bind(Object.create(null));r.sqlite3_preupdate_new_js=(a,c)=>k(a,c,"sqlite3_preupdate_new"),r.sqlite3_preupdate_old_js=(a,c)=>k(a,c,"sqlite3_preupdate_old"),r.sqlite3changeset_new_js=(a,c)=>k(a,c,"sqlite3changeset_new"),r.sqlite3changeset_old_js=(a,c)=>k(a,c,"sqlite3changeset_old");let _={WasmAllocError:f,SQLite3Error:A,capi:r,util:h,wasm:i,config:o,version:Object.create(null),client:void 0,asyncPostInit:async function(){let a=e.initializersAsync;if(delete e.initializersAsync,!a||!a.length)return Promise.resolve(_);a=a.map(d=>(d instanceof Promise?d:d(_)).catch(P=>{throw console.error("an async sqlite3 initializer failed:",P),P}));let c=()=>(_.__isUnderTest||(delete _.util,delete _.StructBinder),_);{let d=a.shift();for(;a.length;)d=d.then(a.shift());return d.then(c)}},scriptInfo:void 0};try{e.initializers.forEach(a=>{a(_)})}catch(a){throw console.error("sqlite3 bootstrap initializer threw:",a),a}return delete e.initializers,e.sqlite3=_,_},globalThis.sqlite3ApiBootstrap.initializers=[],globalThis.sqlite3ApiBootstrap.initializersAsync=[],globalThis.sqlite3ApiBootstrap.defaultConfig=Object.create(null),globalThis.sqlite3ApiBootstrap.sqlite3=void 0,globalThis.WhWasmUtilInstaller=function(e){var z;"use strict";e.bigIntEnabled===void 0&&(e.bigIntEnabled=!!self.BigInt64Array);let s=(...f)=>{throw new Error(f.join(" "))};e.exports||Object.defineProperty(e,"exports",{enumerable:!0,configurable:!0,get:()=>e.instance&&e.instance.exports});let o=e.pointerIR||"i32",r=e.ptrSizeof=o==="i32"?4:o==="i64"?8:s("Unhandled ptrSizeof:",o),i=Object.create(null);i.heapSize=0,i.memory=null,i.freeFuncIndexes=[],i.scopedAlloc=[],i.utf8Decoder=new TextDecoder,i.utf8Encoder=new TextEncoder("utf-8"),e.sizeofIR=f=>{switch(f){case"i8":return 1;case"i16":return 2;case"i32":case"f32":case"float":return 4;case"i64":case"f64":case"double":return 8;case"*":return r;default:return(""+f).endsWith("*")?r:void 0}};let m=function(){if(!i.memory)i.memory=e.memory instanceof WebAssembly.Memory?e.memory:e.exports.memory;else if(i.heapSize===i.memory.buffer.byteLength)return i;let f=i.memory.buffer;return i.HEAP8=new Int8Array(f),i.HEAP8U=new Uint8Array(f),i.HEAP16=new Int16Array(f),i.HEAP16U=new Uint16Array(f),i.HEAP32=new Int32Array(f),i.HEAP32U=new Uint32Array(f),e.bigIntEnabled&&(i.HEAP64=new BigInt64Array(f),i.HEAP64U=new BigUint64Array(f)),i.HEAP32F=new Float32Array(f),i.HEAP64F=new Float64Array(f),i.heapSize=f.byteLength,i};e.heap8=()=>m().HEAP8,e.heap8u=()=>m().HEAP8U,e.heap16=()=>m().HEAP16,e.heap16u=()=>m().HEAP16U,e.heap32=()=>m().HEAP32,e.heap32u=()=>m().HEAP32U,e.heapForSize=function(f,h=!0){let E,k=i.memory&&i.heapSize===i.memory.buffer.byteLength?i:m();switch(f){case Int8Array:return k.HEAP8;case Uint8Array:return k.HEAP8U;case Int16Array:return k.HEAP16;case Uint16Array:return k.HEAP16U;case Int32Array:return k.HEAP32;case Uint32Array:return k.HEAP32U;case 8:return h?k.HEAP8U:k.HEAP8;case 16:return h?k.HEAP16U:k.HEAP16;case 32:return h?k.HEAP32U:k.HEAP32;case 64:if(k.HEAP64)return h?k.HEAP64U:k.HEAP64;break;default:if(e.bigIntEnabled){if(f===self.BigUint64Array)return k.HEAP64U;if(f===self.BigInt64Array)return k.HEAP64;break}}s("Invalid heapForSize() size: expecting 8, 16, 32,","or (if BigInt is enabled) 64.")},e.functionTable=function(){return e.exports.__indirect_function_table},e.functionEntry=function(f){let h=e.functionTable();return f<h.length?h.get(f):void 0},e.jsFuncToWasm=function f(h,E){if(f._||(f._={sigTypes:Object.assign(Object.create(null),{i:"i32",p:"i32",P:"i32",s:"i32",j:"i64",f:"f32",d:"f64"}),typeCodes:Object.assign(Object.create(null),{f64:124,f32:125,i64:126,i32:127}),uleb128Encode:function(a,c,d){d<128?a[c](d):a[c](d%128|128,d>>7)},rxJSig:/^(\w)\((\w*)\)$/,sigParams:function(a){let c=f._.rxJSig.exec(a);return c?c[2]:a.substr(1)},letterType:a=>f._.sigTypes[a]||s("Invalid signature letter:",a),pushSigType:(a,c)=>a.push(f._.typeCodes[f._.letterType(c)])}),typeof h=="string"){let a=E;E=h,h=a}let k=f._.sigParams(E),_=[1,96];f._.uleb128Encode(_,"push",k.length);for(let a of k)f._.pushSigType(_,a);return E[0]==="v"?_.push(0):(_.push(1),f._.pushSigType(_,E[0])),f._.uleb128Encode(_,"unshift",_.length),_.unshift(0,97,115,109,1,0,0,0,1),_.push(2,7,1,1,101,1,102,0,0,7,5,1,1,102,0,0),new WebAssembly.Instance(new WebAssembly.Module(new Uint8Array(_)),{e:{f:h}}).exports.f};let y=function(h,E,k){if(k&&!i.scopedAlloc.length&&s("No scopedAllocPush() scope is active."),typeof h=="string"){let d=E;E=h,h=d}(typeof E!="string"||!(h instanceof Function))&&s("Invalid arguments: expecting (function,signature) or (signature,function).");let _=e.functionTable(),a=_.length,c;for(;i.freeFuncIndexes.length&&(c=i.freeFuncIndexes.pop(),_.get(c));){c=null;continue}c||(c=a,_.grow(1));try{return _.set(c,h),k&&i.scopedAlloc[i.scopedAlloc.length-1].push(c),c}catch(d){if(!(d instanceof TypeError))throw c===a&&i.freeFuncIndexes.push(a),d}try{let d=e.jsFuncToWasm(h,E);_.set(c,d),k&&i.scopedAlloc[i.scopedAlloc.length-1].push(c)}catch(d){throw c===a&&i.freeFuncIndexes.push(a),d}return c};e.installFunction=(f,h)=>y(f,h,!1),e.scopedInstallFunction=(f,h)=>y(f,h,!0),e.uninstallFunction=function(f){if(!f&&f!==0)return;let h=i.freeFuncIndexes,E=e.functionTable();h.push(f);let k=E.get(f);return E.set(f,null),k},e.peek=function(h,E="i8"){E.endsWith("*")&&(E=o);let k=i.memory&&i.heapSize===i.memory.buffer.byteLength?i:m(),_=Array.isArray(h)?[]:void 0,a;do{switch(_&&(h=arguments[0].shift()),E){case"i1":case"i8":a=k.HEAP8[h>>0];break;case"i16":a=k.HEAP16[h>>1];break;case"i32":a=k.HEAP32[h>>2];break;case"float":case"f32":a=k.HEAP32F[h>>2];break;case"double":case"f64":a=Number(k.HEAP64F[h>>3]);break;case"i64":if(e.bigIntEnabled){a=BigInt(k.HEAP64[h>>3]);break}default:s("Invalid type for peek():",E)}_&&_.push(a)}while(_&&arguments[0].length);return _||a},e.poke=function(f,h,E="i8"){E.endsWith("*")&&(E=o);let k=i.memory&&i.heapSize===i.memory.buffer.byteLength?i:m();for(let _ of Array.isArray(f)?f:[f])switch(E){case"i1":case"i8":k.HEAP8[_>>0]=h;continue;case"i16":k.HEAP16[_>>1]=h;continue;case"i32":k.HEAP32[_>>2]=h;continue;case"float":case"f32":k.HEAP32F[_>>2]=h;continue;case"double":case"f64":k.HEAP64F[_>>3]=h;continue;case"i64":if(k.HEAP64){k.HEAP64[_>>3]=BigInt(h);continue}default:s("Invalid type for poke(): "+E)}return this},e.peekPtr=(...f)=>e.peek(f.length===1?f[0]:f,o),e.pokePtr=(f,h=0)=>e.poke(f,h,o),e.peek8=(...f)=>e.peek(f.length===1?f[0]:f,"i8"),e.poke8=(f,h)=>e.poke(f,h,"i8"),e.peek16=(...f)=>e.peek(f.length===1?f[0]:f,"i16"),e.poke16=(f,h)=>e.poke(f,h,"i16"),e.peek32=(...f)=>e.peek(f.length===1?f[0]:f,"i32"),e.poke32=(f,h)=>e.poke(f,h,"i32"),e.peek64=(...f)=>e.peek(f.length===1?f[0]:f,"i64"),e.poke64=(f,h)=>e.poke(f,h,"i64"),e.peek32f=(...f)=>e.peek(f.length===1?f[0]:f,"f32"),e.poke32f=(f,h)=>e.poke(f,h,"f32"),e.peek64f=(...f)=>e.peek(f.length===1?f[0]:f,"f64"),e.poke64f=(f,h)=>e.poke(f,h,"f64"),e.getMemValue=e.peek,e.getPtrValue=e.peekPtr,e.setMemValue=e.poke,e.setPtrValue=e.pokePtr,e.isPtr32=f=>typeof f=="number"&&f===(f|0)&&f>=0,e.isPtr=e.isPtr32,e.cstrlen=function(f){if(!f||!e.isPtr(f))return null;let h=m().HEAP8U,E=f;for(;h[E]!==0;++E);return E-f};let A=typeof SharedArrayBuffer>"u"?function(){}:SharedArrayBuffer,C=function(f,h,E){return i.utf8Decoder.decode(f.buffer instanceof A?f.slice(h,E):f.subarray(h,E))};e.cstrToJs=function(f){let h=e.cstrlen(f);return h?C(m().HEAP8U,f,f+h):h===null?h:""},e.jstrlen=function(f){if(typeof f!="string")return null;let h=f.length,E=0;for(let k=0;k<h;++k){let _=f.charCodeAt(k);_>=55296&&_<=57343&&(_=65536+((_&1023)<<10)|f.charCodeAt(++k)&1023),_<=127?++E:_<=2047?E+=2:_<=65535?E+=3:E+=4}return E},e.jstrcpy=function(f,h,E=0,k=-1,_=!0){if((!h||!(h instanceof Int8Array)&&!(h instanceof Uint8Array))&&s("jstrcpy() target must be an Int8Array or Uint8Array."),k<0&&(k=h.length-E),!(k>0)||!(E>=0))return 0;let a=0,c=f.length,d=E,v=E+k-(_?1:0);for(;a<c&&E<v;++a){let P=f.charCodeAt(a);if(P>=55296&&P<=57343&&(P=65536+((P&1023)<<10)|f.charCodeAt(++a)&1023),P<=127){if(E>=v)break;h[E++]=P}else if(P<=2047){if(E+1>=v)break;h[E++]=192|P>>6,h[E++]=128|P&63}else if(P<=65535){if(E+2>=v)break;h[E++]=224|P>>12,h[E++]=128|P>>6&63,h[E++]=128|P&63}else{if(E+3>=v)break;h[E++]=240|P>>18,h[E++]=128|P>>12&63,h[E++]=128|P>>6&63,h[E++]=128|P&63}}return _&&(h[E++]=0),E-d},e.cstrncpy=function(f,h,E){if((!f||!h)&&s("cstrncpy() does not accept NULL strings."),E<0)E=e.cstrlen(strPtr)+1;else if(!(E>0))return 0;let k=e.heap8u(),_=0,a;for(;_<E&&(a=k[h+_]);++_)k[f+_]=a;return _<E&&(k[f+_++]=0),_},e.jstrToUintArray=(f,h=!1)=>i.utf8Encoder.encode(h?f+"\0":f);let j=(f,h)=>{(!(f.alloc instanceof Function)||!(f.dealloc instanceof Function))&&s("Object is missing alloc() and/or dealloc() function(s)","required by",h+"().")},W=function(f,h,E,k){if(j(e,k),typeof f!="string")return null;{let _=i.utf8Encoder.encode(f),a=E(_.length+1),c=m().HEAP8U;return c.set(_,a),c[a+_.length]=0,h?[a,_.length]:a}};e.allocCString=(f,h=!1)=>W(f,h,e.alloc,"allocCString()"),e.scopedAllocPush=function(){j(e,"scopedAllocPush");let f=[];return i.scopedAlloc.push(f),f},e.scopedAllocPop=function(f){j(e,"scopedAllocPop");let h=arguments.length?i.scopedAlloc.indexOf(f):i.scopedAlloc.length-1;h<0&&s("Invalid state object for scopedAllocPop()."),arguments.length===0&&(f=i.scopedAlloc[h]),i.scopedAlloc.splice(h,1);for(let E;E=f.pop();)e.functionEntry(E)?e.uninstallFunction(E):e.dealloc(E)},e.scopedAlloc=function(f){i.scopedAlloc.length||s("No scopedAllocPush() scope is active.");let h=e.alloc(f);return i.scopedAlloc[i.scopedAlloc.length-1].push(h),h},Object.defineProperty(e.scopedAlloc,"level",{configurable:!1,enumerable:!1,get:()=>i.scopedAlloc.length,set:()=>s("The 'active' property is read-only.")}),e.scopedAllocCString=(f,h=!1)=>W(f,h,e.scopedAlloc,"scopedAllocCString()");let U=function(f,h){let E=e[f?"scopedAlloc":"alloc"]((h.length+1)*e.ptrSizeof),k=0;return h.forEach(_=>{e.pokePtr(E+e.ptrSizeof*k++,e[f?"scopedAllocCString":"allocCString"](""+_))}),e.pokePtr(E+e.ptrSizeof*k,0),E};e.scopedAllocMainArgv=f=>U(!0,f),e.allocMainArgv=f=>U(!1,f),e.cArgvToJs=(f,h)=>{let E=[];for(let k=0;k<f;++k){let _=e.peekPtr(h+e.ptrSizeof*k);E.push(_?e.cstrToJs(_):null)}return E},e.scopedAllocCall=function(f){e.scopedAllocPush();try{return f()}finally{e.scopedAllocPop()}};let g=function(f,h,E){j(e,E);let k=h?"i64":o,_=e[E](f*(h?8:r));if(e.poke(_,0,k),f===1)return _;let a=[_];for(let c=1;c<f;++c)_+=h?8:r,a[c]=_,e.poke(_,0,k);return a};e.allocPtr=(f=1,h=!0)=>g(f,h,"alloc"),e.scopedAllocPtr=(f=1,h=!0)=>g(f,h,"scopedAlloc"),e.xGet=function(f){return e.exports[f]||s("Cannot find exported symbol:",f)};let p=(f,h)=>s(f+"() requires",h,"argument(s).");e.xCall=function(f,...h){let E=e.xGet(f);return E instanceof Function||s("Exported symbol",f,"is not a function."),E.length!==h.length&&p(f,E.length),arguments.length===2&&Array.isArray(arguments[1])?E.apply(null,arguments[1]):E.apply(null,h)},i.xWrap=Object.create(null),i.xWrap.convert=Object.create(null),i.xWrap.convert.arg=new Map,i.xWrap.convert.result=new Map;let u=i.xWrap.convert.arg,q=i.xWrap.convert.result;e.bigIntEnabled&&u.set("i64",f=>BigInt(f));let w=o==="i32"?f=>f|0:f=>BigInt(f)|BigInt(0);u.set("i32",w).set("i16",f=>(f|0)&65535).set("i8",f=>(f|0)&255).set("f32",f=>Number(f).valueOf()).set("float",u.get("f32")).set("f64",u.get("f32")).set("double",u.get("f64")).set("int",u.get("i32")).set("null",f=>f).set(null,u.get("null")).set("**",w).set("*",w),q.set("*",w).set("pointer",w).set("number",f=>Number(f)).set("void",f=>{}).set("null",f=>f).set(null,q.get("null"));{let f=["i8","i16","i32","int","f32","float","f64","double"];e.bigIntEnabled&&f.push("i64");let h=u.get(o);for(let E of f)u.set(E+"*",h),q.set(E+"*",h),q.set(E,u.get(E)||s("Missing arg converter:",E))}let b=function(f){return typeof f=="string"?e.scopedAllocCString(f):f?w(f):null};u.set("string",b).set("utf8",b).set("pointer",b),q.set("string",f=>e.cstrToJs(f)).set("utf8",q.get("string")).set("string:dealloc",f=>{try{return f?e.cstrToJs(f):null}finally{e.dealloc(f)}}).set("utf8:dealloc",q.get("string:dealloc")).set("json",f=>JSON.parse(e.cstrToJs(f))).set("json:dealloc",f=>{try{return f?JSON.parse(e.cstrToJs(f)):null}finally{e.dealloc(f)}});let T=class{constructor(f){this.name=f.name||"unnamed adapter"}convertArg(f,h,E){s("AbstractArgAdapter must be subclassed.")}};u.FuncPtrAdapter=(z=class extends T{constructor(h){super(h),u.FuncPtrAdapter.warnOnUse&&console.warn("xArg.FuncPtrAdapter is an internal-only API","and is not intended to be invoked from","client-level code. Invoked with:",h),this.signature=h.signature,h.contextKey instanceof Function&&(this.contextKey=h.contextKey,h.bindScope||(h.bindScope="context")),this.bindScope=h.bindScope||s("FuncPtrAdapter options requires a bindScope (explicit or implied)."),z.bindScopes.indexOf(h.bindScope)<0&&s("Invalid options.bindScope ("+h.bindMod+") for FuncPtrAdapter. Expecting one of: ("+z.bindScopes.join(", ")+")"),this.isTransient=this.bindScope==="transient",this.isContext=this.bindScope==="context",this.isPermanent=this.bindScope==="permanent",this.singleton=this.bindScope==="singleton"?[]:void 0,this.callProxy=h.callProxy instanceof Function?h.callProxy:void 0}contextKey(h,E){return this}contextMap(h){let E=this.__cmap||(this.__cmap=new Map),k=E.get(h);return k===void 0&&E.set(h,k=[]),k}convertArg(h,E,k){let _=this.singleton;if(!_&&this.isContext&&(_=this.contextMap(this.contextKey(E,k))),_&&_[0]===h)return _[1];if(h instanceof Function){this.callProxy&&(h=this.callProxy(h));let a=y(h,this.signature,this.isTransient);if(z.debugFuncInstall&&z.debugOut("FuncPtrAdapter installed",this,this.contextKey(E,k),"@"+a,h),_){if(_[1]){z.debugFuncInstall&&z.debugOut("FuncPtrAdapter uninstalling",this,this.contextKey(E,k),"@"+_[1],h);try{e.uninstallFunction(_[1])}catch{}}_[0]=h,_[1]=a}return a}else if(e.isPtr(h)||h===null||h===void 0){if(_&&_[1]&&_[1]!==h){z.debugFuncInstall&&z.debugOut("FuncPtrAdapter uninstalling",this,this.contextKey(E,k),"@"+_[1],h);try{e.uninstallFunction(_[1])}catch{}_[0]=_[1]=h|0}return h||0}else throw new TypeError("Invalid FuncPtrAdapter argument type. Expecting a function pointer or a "+(this.name?this.name+" ":"")+"function matching signature "+this.signature+".")}},Ue(z,"warnOnUse",!1),Ue(z,"debugFuncInstall",!1),Ue(z,"debugOut",console.debug.bind(console)),Ue(z,"bindScopes",["transient","context","singleton","permanent"]),z);let I=f=>u.get(f)||s("Argument adapter not found:",f),F=f=>q.get(f)||s("Result adapter not found:",f);i.xWrap.convertArg=(f,...h)=>I(f)(...h),i.xWrap.convertArgNoCheck=(f,...h)=>u.get(f)(...h),i.xWrap.convertResult=(f,h)=>f===null?h:f?F(f)(h):void 0,i.xWrap.convertResultNoCheck=(f,h)=>f===null?h:f?q.get(f)(h):void 0,e.xWrap=function(f,h,...E){arguments.length===3&&Array.isArray(arguments[2])&&(E=arguments[2]),e.isPtr(f)&&(f=e.functionEntry(f)||s("Function pointer not found in WASM function table."));let k=f instanceof Function,_=k?f:e.xGet(f);if(k&&(f=_.name||"unnamed function"),E.length!==_.length&&p(f,_.length),h===null&&_.length===0)return _;h!=null&&F(h);for(let c of E)c instanceof T?u.set(c,(...d)=>c.convertArg(...d)):I(c);let a=i.xWrap;return _.length===0?(...c)=>c.length?p(f,_.length):a.convertResult(h,_.call(null)):function(...c){c.length!==_.length&&p(f,_.length);let d=e.scopedAllocPush();try{for(let v in c)c[v]=a.convertArgNoCheck(E[v],c[v],c,v);return a.convertResultNoCheck(h,_.apply(null,c))}finally{e.scopedAllocPop(d)}}};let O=function(f,h,E,k,_,a){if(typeof E=="string"){if(h===1)return a.get(E);if(h===2){if(k)k instanceof Function||s(_,"requires a function argument.");else return delete a.get(E),f;return a.set(E,k),f}}s("Invalid arguments to",_)};return e.xWrap.resultAdapter=function f(h,E){return O(f,arguments.length,h,E,"resultAdapter()",q)},e.xWrap.argAdapter=function f(h,E){return O(f,arguments.length,h,E,"argAdapter()",u)},e.xWrap.FuncPtrAdapter=u.FuncPtrAdapter,e.xCallWrapped=function(f,h,E,...k){return Array.isArray(arguments[3])&&(k=arguments[3]),e.xWrap(f,h,E||[]).apply(null,k||[])},e.xWrap.testConvertArg=i.xWrap.convertArg,e.xWrap.testConvertResult=i.xWrap.convertResult,e},globalThis.WhWasmUtilInstaller.yawl=function(e){let s=()=>fetch(e.uri,{credentials:"same-origin"}),o=this,r=function(m){if(e.wasmUtilTarget){let y=(...C)=>{throw new Error(C.join(" "))},A=e.wasmUtilTarget;if(A.module=m.module,A.instance=m.instance,A.instance.exports.memory||(A.memory=e.imports&&e.imports.env&&e.imports.env.memory||y("Missing 'memory' object!")),!A.alloc&&m.instance.exports.malloc){let C=m.instance.exports;A.alloc=function(j){return C.malloc(j)||y("Allocation of",j,"bytes failed.")},A.dealloc=function(j){C.free(j)}}o(A)}return e.onload&&e.onload(m,e),m};return WebAssembly.instantiateStreaming?function(){return WebAssembly.instantiateStreaming(s(),e.imports||{}).then(r)}:function(){return s().then(y=>y.arrayBuffer()).then(y=>WebAssembly.instantiate(y,e.imports||{})).then(r)}}.bind(globalThis.WhWasmUtilInstaller),globalThis.Jaccwabyt=function e(s){let o=(...x)=>{throw new Error(x.join(" "))};!(s.heap instanceof WebAssembly.Memory)&&!(s.heap instanceof Function)&&o("config.heap must be WebAssembly.Memory instance or a function."),["alloc","dealloc"].forEach(function(x){s[x]instanceof Function||o("Config option '"+x+"' must be a function.")});let r=e,i=s.heap instanceof Function?s.heap:()=>new Uint8Array(s.heap.buffer),m=s.alloc,y=s.dealloc,A=s.log||console.log.bind(console),C=s.memberPrefix||"",j=s.memberSuffix||"",W=s.bigIntEnabled===void 0?!!self.BigInt64Array:!!s.bigIntEnabled,U=self.BigInt,g=self.BigInt64Array,p=s.ptrSizeof||4,u=s.ptrIR||"i32";r.debugFlags||(r.__makeDebugFlags=function(x=null){x&&x.__flags&&(x=x.__flags);let R=function N(H){return arguments.length===0?N.__flags:(H<0?(delete N.__flags.getter,delete N.__flags.setter,delete N.__flags.alloc,delete N.__flags.dealloc):(N.__flags.getter=(1&H)!==0,N.__flags.setter=(2&H)!==0,N.__flags.alloc=(4&H)!==0,N.__flags.dealloc=(8&H)!==0),N._flags)};return Object.defineProperty(R,"__flags",{iterable:!1,writable:!1,value:Object.create(x)}),x||R(0),R},r.debugFlags=r.__makeDebugFlags());let q=function(){let x=new ArrayBuffer(2);return new DataView(x).setInt16(0,256,!0),new Int16Array(x)[0]===256}(),w=x=>x[1]==="(",b=x=>x==="p"||x==="P",T=x=>x==="P",I=x=>w(x)?"p":x[0],F=function(x){switch(I(x)){case"c":case"C":return"i8";case"i":return"i32";case"p":case"P":case"s":return u;case"j":return"i64";case"f":return"float";case"d":return"double"}o("Unhandled signature IR:",x)},O=g?()=>!0:()=>o("BigInt64Array is not available."),z=function(x){switch(I(x)){case"p":case"P":case"s":{switch(p){case 4:return"getInt32";case 8:return O()&&"getBigInt64"}break}case"i":return"getInt32";case"c":return"getInt8";case"C":return"getUint8";case"j":return O()&&"getBigInt64";case"f":return"getFloat32";case"d":return"getFloat64"}o("Unhandled DataView getter for signature:",x)},f=function(x){switch(I(x)){case"p":case"P":case"s":{switch(p){case 4:return"setInt32";case 8:return O()&&"setBigInt64"}break}case"i":return"setInt32";case"c":return"setInt8";case"C":return"setUint8";case"j":return O()&&"setBigInt64";case"f":return"setFloat32";case"d":return"setFloat64"}o("Unhandled DataView setter for signature:",x)},h=function(x){switch(I(x)){case"i":case"f":case"c":case"C":case"d":return Number;case"j":return O()&&U;case"p":case"P":case"s":switch(p){case 4:return Number;case 8:return O()&&U}break}o("Unhandled DataView set wrapper for signature:",x)},E=(x,R)=>x+"::"+R,k=function(x,R){return()=>o(E(x,R),"is read-only.")},_=new WeakMap,a="(pointer-is-external)",c=function(x,R,N){if(N||(N=_.get(R)),N){if(_.delete(R),Array.isArray(R.ondispose)){let H;for(;H=R.ondispose.shift();)try{H instanceof Function?H.call(R):H instanceof pe?H.dispose():typeof H=="number"&&y(H)}catch(ie){console.warn("ondispose() for",x.structName,"@",N,"threw. NOT propagating it.",ie)}}else if(R.ondispose instanceof Function)try{R.ondispose()}catch(H){console.warn("ondispose() for",x.structName,"@",N,"threw. NOT propagating it.",H)}delete R.ondispose,x.debugFlags.__flags.dealloc&&A("debug.dealloc:",R[a]?"EXTERNAL":"",x.structName,"instance:",x.structInfo.sizeof,"bytes @"+N),R[a]||y(N)}},d=x=>({configurable:!1,writable:!1,iterable:!1,value:x}),v=function(x,R,N){let H=!N;N?Object.defineProperty(R,a,d(N)):(N=m(x.structInfo.sizeof),N||o("Allocation of",x.structName,"structure failed."));try{x.debugFlags.__flags.alloc&&A("debug.alloc:",H?"":"EXTERNAL",x.structName,"instance:",x.structInfo.sizeof,"bytes @"+N),H&&i().fill(0,N,N+x.structInfo.sizeof),_.set(R,N)}catch(ie){throw c(x,R,N),ie}},P=function(){let x=this.pointer;return x?new Uint8Array(i().slice(x,x+this.structInfo.sizeof)):null},J=d(x=>C+x+j),G=function(x,R,N=!0){let H=x.members[R];if(!H&&(C||j)){for(let ie of Object.values(x.members))if(ie.key===R){H=ie;break}!H&&N&&o(E(x.name,R),"is not a mapped struct member.")}return H},K=function x(R,N,H=!1){x._||(x._=ue=>ue.replace(/[^vipPsjrdcC]/g,"").replace(/[pPscC]/g,"i"));let ie=G(R.structInfo,N,!0);return H?x._(ie.signature):ie.signature},ee={configurable:!1,enumerable:!1,get:function(){return _.get(this)},set:()=>o("Cannot assign the 'pointer' property of a struct.")},te=d(function(){let x=[];for(let R of Object.keys(this.structInfo.members))x.push(this.memberKey(R));return x}),re=new TextDecoder("utf-8"),ge=new TextEncoder,S=typeof SharedArrayBuffer>"u"?function(){}:SharedArrayBuffer,D=function(x,R,N){return re.decode(x.buffer instanceof S?x.slice(R,N):x.subarray(R,N))},L=function(x,R,N=!1){let H=G(x.structInfo,R,N);return H&&H.signature.length===1&&H.signature[0]==="s"?H:!1},Q=function(x){x.signature!=="s"&&o("Invalid member type signature for C-string value:",JSON.stringify(x))},M=function(R,N){let H=G(R.structInfo,N,!0);Q(H);let ie=R[H.key];if(!ie)return null;let ue=ie,ae=i();for(;ae[ue]!==0;++ue);return ie===ue?"":D(ae,ie,ue)},ne=function(x,...R){x.ondispose?Array.isArray(x.ondispose)||(x.ondispose=[x.ondispose]):x.ondispose=[],x.ondispose.push(...R)},oe=function(x){let R=ge.encode(x),N=m(R.length+1);N||o("Allocation error while duplicating string:",x);let H=i();return H.set(R,N),H[N+R.length]=0,N},V=function(x,R,N){let H=G(x.structInfo,R,!0);Q(H);let ie=oe(N);return x[H.key]=ie,ne(x,ie),x},pe=function(R,N){arguments[2]!==d&&o("Do not call the StructType constructor","from client-level code."),Object.defineProperties(this,{structName:d(R),structInfo:d(N)})};pe.prototype=Object.create(null,{dispose:d(function(){c(this.constructor,this)}),lookupMember:d(function(x,R=!0){return G(this.structInfo,x,R)}),memberToJsString:d(function(x){return M(this,x)}),memberIsString:d(function(x,R=!0){return L(this,x,R)}),memberKey:J,memberKeys:te,memberSignature:d(function(x,R=!1){return K(this,x,R)}),memoryDump:d(P),pointer:ee,setMemberCString:d(function(x,R){return V(this,x,R)})}),Object.assign(pe.prototype,{addOnDispose:function(...x){return ne(this,...x),this}}),Object.defineProperties(pe,{allocCString:d(oe),isA:d(x=>x instanceof pe),hasExternalPointer:d(x=>x instanceof pe&&!!x[a]),memberKey:J});let be=x=>Number.isFinite(x)||x instanceof(U||Number),he=function x(R,N,H){if(!x._){x._={getters:{},setters:{},sw:{}};let qe=["i","c","C","p","P","s","f","d","v()"];W&&qe.push("j"),qe.forEach(function(xe){x._.getters[xe]=z(xe),x._.setters[xe]=f(xe),x._.sw[xe]=h(xe)});let El=/^[ipPsjfdcC]$/,xl=/^[vipPsjfdcC]\([ipPsjfdcC]*\)$/;x.sigCheck=function(xe,Sl,Mt,ft){Object.prototype.hasOwnProperty.call(xe,Mt)&&o(xe.structName,"already has a property named",Mt+"."),El.test(ft)||xl.test(ft)||o("Malformed signature for",E(xe.structName,Sl)+":",ft)}}let ie=R.memberKey(N);x.sigCheck(R.prototype,N,ie,H.signature),H.key=ie,H.name=N;let ue=I(H.signature),ae=E(R.prototype.structName,ie),ce=R.prototype.debugFlags.__flags,Me=Object.create(null);Me.configurable=!1,Me.enumerable=!1,Me.get=function(){ce.getter&&A("debug.getter:",x._.getters[ue],"for",F(ue),ae,"@",this.pointer,"+",H.offset,"sz",H.sizeof);let qe=new DataView(i().buffer,this.pointer+H.offset,H.sizeof)[x._.getters[ue]](0,q);return ce.getter&&A("debug.getter:",ae,"result =",qe),qe},H.readOnly?Me.set=k(R.prototype.structName,ie):Me.set=function(qe){if(ce.setter&&A("debug.setter:",x._.setters[ue],"for",F(ue),ae,"@",this.pointer,"+",H.offset,"sz",H.sizeof,qe),this.pointer||o("Cannot set struct property on disposed instance."),qe===null)qe=0;else for(;!be(qe);){if(T(H.signature)&&qe instanceof pe){qe=qe.pointer||0,ce.setter&&A("debug.setter:",ae,"resolved to",qe);break}o("Invalid value for pointer-type",ae+".")}new DataView(i().buffer,this.pointer+H.offset,H.sizeof)[x._.setters[ue]](0,x._.sw[ue](qe),q)},Object.defineProperty(R.prototype,ie,Me)},de=function x(R,N){arguments.length===1?(N=R,R=N.name):N.name||(N.name=R),R||o("Struct name is required.");let H=!1;Object.keys(N.members).forEach(ae=>{let ce=N.members[ae];ce.sizeof?ce.sizeof===1?ce.signature==="c"||ce.signature==="C"||o("Unexpected sizeof==1 member",E(N.name,ae),"with signature",ce.signature):(ce.sizeof%4!==0&&(console.warn("Invalid struct member description =",ce,"from",N),o(R,"member",ae,"sizeof is not aligned. sizeof="+ce.sizeof)),ce.offset%4!==0&&(console.warn("Invalid struct member description =",ce,"from",N),o(R,"member",ae,"offset is not aligned. offset="+ce.offset))):o(R,"member",ae,"is missing sizeof."),(!H||H.offset<ce.offset)&&(H=ce)}),H?N.sizeof<H.offset+H.sizeof&&o("Invalid struct config:",R,"max member offset ("+H.offset+") ","extends past end of struct (sizeof="+N.sizeof+")."):o("No member property descriptions found.");let ie=d(r.__makeDebugFlags(x.debugFlags)),ue=function ae(ce){this instanceof ae?arguments.length?((ce!==(ce|0)||ce<=0)&&o("Invalid pointer value for",R,"constructor."),v(ae,this,ce)):v(ae,this):o("The",R,"constructor may only be called via 'new'.")};return Object.defineProperties(ue,{debugFlags:ie,isA:d(ae=>ae instanceof ue),memberKey:J,memberKeys:te,methodInfoForKey:d(function(ae){}),structInfo:d(N),structName:d(R)}),ue.prototype=new pe(R,N,d),Object.defineProperties(ue.prototype,{debugFlags:ie,constructor:d(ue)}),Object.keys(N.members).forEach(ae=>he(ue,ae,N.members[ae])),ue};return de.StructType=pe,de.config=s,de.allocCString=oe,de.debugFlags||(de.debugFlags=r.__makeDebugFlags(r.debugFlags)),de},globalThis.sqlite3ApiBootstrap.initializers.push(function(e){"use strict";let s=(...g)=>{throw new Error(g.join(" "))},o=e.SQLite3Error.toss,r=e.capi,i=e.wasm,m=e.util;if(globalThis.WhWasmUtilInstaller(i),delete globalThis.WhWasmUtilInstaller,i.bindingSignatures=[["sqlite3_aggregate_context","void*","sqlite3_context*","int"],["sqlite3_bind_double","int","sqlite3_stmt*","int","f64"],["sqlite3_bind_int","int","sqlite3_stmt*","int","int"],["sqlite3_bind_null",void 0,"sqlite3_stmt*","int"],["sqlite3_bind_parameter_count","int","sqlite3_stmt*"],["sqlite3_bind_parameter_index","int","sqlite3_stmt*","string"],["sqlite3_bind_pointer","int","sqlite3_stmt*","int","*","string:static","*"],["sqlite3_busy_handler","int",["sqlite3*",new i.xWrap.FuncPtrAdapter({signature:"i(pi)",contextKey:(g,p)=>g[0]}),"*"]],["sqlite3_busy_timeout","int","sqlite3*","int"],["sqlite3_changes","int","sqlite3*"],["sqlite3_clear_bindings","int","sqlite3_stmt*"],["sqlite3_collation_needed","int","sqlite3*","*","*"],["sqlite3_column_blob","*","sqlite3_stmt*","int"],["sqlite3_column_bytes","int","sqlite3_stmt*","int"],["sqlite3_column_count","int","sqlite3_stmt*"],["sqlite3_column_double","f64","sqlite3_stmt*","int"],["sqlite3_column_int","int","sqlite3_stmt*","int"],["sqlite3_column_name","string","sqlite3_stmt*","int"],["sqlite3_column_text","string","sqlite3_stmt*","int"],["sqlite3_column_type","int","sqlite3_stmt*","int"],["sqlite3_column_value","sqlite3_value*","sqlite3_stmt*","int"],["sqlite3_commit_hook","void*",["sqlite3*",new i.xWrap.FuncPtrAdapter({name:"sqlite3_commit_hook",signature:"i(p)",contextKey:g=>g[0]}),"*"]],["sqlite3_compileoption_get","string","int"],["sqlite3_compileoption_used","int","string"],["sqlite3_complete","int","string:flexible"],["sqlite3_context_db_handle","sqlite3*","sqlite3_context*"],["sqlite3_data_count","int","sqlite3_stmt*"],["sqlite3_db_filename","string","sqlite3*","string"],["sqlite3_db_handle","sqlite3*","sqlite3_stmt*"],["sqlite3_db_name","string","sqlite3*","int"],["sqlite3_db_status","int","sqlite3*","int","*","*","int"],["sqlite3_errcode","int","sqlite3*"],["sqlite3_errmsg","string","sqlite3*"],["sqlite3_error_offset","int","sqlite3*"],["sqlite3_errstr","string","int"],["sqlite3_exec","int",["sqlite3*","string:flexible",new i.xWrap.FuncPtrAdapter({signature:"i(pipp)",bindScope:"transient",callProxy:g=>{let p;return(u,q,w,b)=>{try{let T=i.cArgvToJs(q,w);return p||(p=i.cArgvToJs(q,b)),g(T,p)|0}catch(T){return T.resultCode||r.SQLITE_ERROR}}}}),"*","**"]],["sqlite3_expanded_sql","string","sqlite3_stmt*"],["sqlite3_extended_errcode","int","sqlite3*"],["sqlite3_extended_result_codes","int","sqlite3*","int"],["sqlite3_file_control","int","sqlite3*","string","int","*"],["sqlite3_finalize","int","sqlite3_stmt*"],["sqlite3_free",void 0,"*"],["sqlite3_get_auxdata","*","sqlite3_context*","int"],["sqlite3_initialize",void 0],["sqlite3_keyword_count","int"],["sqlite3_keyword_name","int",["int","**","*"]],["sqlite3_keyword_check","int",["string","int"]],["sqlite3_libversion","string"],["sqlite3_libversion_number","int"],["sqlite3_limit","int",["sqlite3*","int","int"]],["sqlite3_malloc","*","int"],["sqlite3_open","int","string","*"],["sqlite3_open_v2","int","string","*","int","string"],["sqlite3_progress_handler",void 0,["sqlite3*","int",new i.xWrap.FuncPtrAdapter({name:"xProgressHandler",signature:"i(p)",bindScope:"context",contextKey:(g,p)=>g[0]}),"*"]],["sqlite3_realloc","*","*","int"],["sqlite3_reset","int","sqlite3_stmt*"],["sqlite3_result_blob",void 0,"sqlite3_context*","*","int","*"],["sqlite3_result_double",void 0,"sqlite3_context*","f64"],["sqlite3_result_error",void 0,"sqlite3_context*","string","int"],["sqlite3_result_error_code",void 0,"sqlite3_context*","int"],["sqlite3_result_error_nomem",void 0,"sqlite3_context*"],["sqlite3_result_error_toobig",void 0,"sqlite3_context*"],["sqlite3_result_int",void 0,"sqlite3_context*","int"],["sqlite3_result_null",void 0,"sqlite3_context*"],["sqlite3_result_pointer",void 0,"sqlite3_context*","*","string:static","*"],["sqlite3_result_subtype",void 0,"sqlite3_value*","int"],["sqlite3_result_text",void 0,"sqlite3_context*","string","int","*"],["sqlite3_result_zeroblob",void 0,"sqlite3_context*","int"],["sqlite3_rollback_hook","void*",["sqlite3*",new i.xWrap.FuncPtrAdapter({name:"sqlite3_rollback_hook",signature:"v(p)",contextKey:g=>g[0]}),"*"]],["sqlite3_set_authorizer","int",["sqlite3*",new i.xWrap.FuncPtrAdapter({name:"sqlite3_set_authorizer::xAuth",signature:"i(pissss)",contextKey:(g,p)=>g[0],callProxy:g=>(p,u,q,w,b,T)=>{try{return q=q&&i.cstrToJs(q),w=w&&i.cstrToJs(w),b=b&&i.cstrToJs(b),T=T&&i.cstrToJs(T),g(p,u,q,w,b,T)||0}catch(I){return I.resultCode||r.SQLITE_ERROR}}}),"*"]],["sqlite3_set_auxdata",void 0,["sqlite3_context*","int","*",new i.xWrap.FuncPtrAdapter({name:"xDestroyAuxData",signature:"v(*)",contextKey:(g,p)=>g[0]})]],["sqlite3_shutdown",void 0],["sqlite3_sourceid","string"],["sqlite3_sql","string","sqlite3_stmt*"],["sqlite3_status","int","int","*","*","int"],["sqlite3_step","int","sqlite3_stmt*"],["sqlite3_stmt_isexplain","int",["sqlite3_stmt*"]],["sqlite3_stmt_readonly","int",["sqlite3_stmt*"]],["sqlite3_stmt_status","int","sqlite3_stmt*","int","int"],["sqlite3_strglob","int","string","string"],["sqlite3_stricmp","int","string","string"],["sqlite3_strlike","int","string","string","int"],["sqlite3_strnicmp","int","string","string","int"],["sqlite3_table_column_metadata","int","sqlite3*","string","string","string","**","**","*","*","*"],["sqlite3_total_changes","int","sqlite3*"],["sqlite3_trace_v2","int",["sqlite3*","int",new i.xWrap.FuncPtrAdapter({name:"sqlite3_trace_v2::callback",signature:"i(ippp)",contextKey:(g,p)=>g[0]}),"*"]],["sqlite3_txn_state","int",["sqlite3*","string"]],["sqlite3_uri_boolean","int","sqlite3_filename","string","int"],["sqlite3_uri_key","string","sqlite3_filename","int"],["sqlite3_uri_parameter","string","sqlite3_filename","string"],["sqlite3_user_data","void*","sqlite3_context*"],["sqlite3_value_blob","*","sqlite3_value*"],["sqlite3_value_bytes","int","sqlite3_value*"],["sqlite3_value_double","f64","sqlite3_value*"],["sqlite3_value_dup","sqlite3_value*","sqlite3_value*"],["sqlite3_value_free",void 0,"sqlite3_value*"],["sqlite3_value_frombind","int","sqlite3_value*"],["sqlite3_value_int","int","sqlite3_value*"],["sqlite3_value_nochange","int","sqlite3_value*"],["sqlite3_value_numeric_type","int","sqlite3_value*"],["sqlite3_value_pointer","*","sqlite3_value*","string:static"],["sqlite3_value_subtype","int","sqlite3_value*"],["sqlite3_value_text","string","sqlite3_value*"],["sqlite3_value_type","int","sqlite3_value*"],["sqlite3_vfs_find","*","string"],["sqlite3_vfs_register","int","sqlite3_vfs*","int"],["sqlite3_vfs_unregister","int","sqlite3_vfs*"]],i.exports.sqlite3_activate_see instanceof Function&&i.bindingSignatures.push(["sqlite3_key","int","sqlite3*","string","int"],["sqlite3_key_v2","int","sqlite3*","string","*","int"],["sqlite3_rekey","int","sqlite3*","string","int"],["sqlite3_rekey_v2","int","sqlite3*","string","*","int"],["sqlite3_activate_see",void 0,"string"]),i.bindingSignatures.int64=[["sqlite3_bind_int64","int",["sqlite3_stmt*","int","i64"]],["sqlite3_changes64","i64",["sqlite3*"]],["sqlite3_column_int64","i64",["sqlite3_stmt*","int"]],["sqlite3_create_module","int",["sqlite3*","string","sqlite3_module*","*"]],["sqlite3_create_module_v2","int",["sqlite3*","string","sqlite3_module*","*","*"]],["sqlite3_declare_vtab","int",["sqlite3*","string:flexible"]],["sqlite3_deserialize","int","sqlite3*","string","*","i64","i64","int"],["sqlite3_drop_modules","int",["sqlite3*","**"]],["sqlite3_last_insert_rowid","i64",["sqlite3*"]],["sqlite3_malloc64","*","i64"],["sqlite3_msize","i64","*"],["sqlite3_overload_function","int",["sqlite3*","string","int"]],["sqlite3_preupdate_blobwrite","int","sqlite3*"],["sqlite3_preupdate_count","int","sqlite3*"],["sqlite3_preupdate_depth","int","sqlite3*"],["sqlite3_preupdate_hook","*",["sqlite3*",new i.xWrap.FuncPtrAdapter({name:"sqlite3_preupdate_hook",signature:"v(ppippjj)",contextKey:g=>g[0],callProxy:g=>(p,u,q,w,b,T,I)=>{g(p,u,q,i.cstrToJs(w),i.cstrToJs(b),T,I)}}),"*"]],["sqlite3_preupdate_new","int",["sqlite3*","int","**"]],["sqlite3_preupdate_old","int",["sqlite3*","int","**"]],["sqlite3_realloc64","*","*","i64"],["sqlite3_result_int64",void 0,"*","i64"],["sqlite3_result_zeroblob64","int","*","i64"],["sqlite3_serialize","*","sqlite3*","string","*","int"],["sqlite3_set_last_insert_rowid",void 0,["sqlite3*","i64"]],["sqlite3_status64","int","int","*","*","int"],["sqlite3_total_changes64","i64",["sqlite3*"]],["sqlite3_update_hook","*",["sqlite3*",new i.xWrap.FuncPtrAdapter({name:"sqlite3_update_hook",signature:"v(iippj)",contextKey:g=>g[0],callProxy:g=>(p,u,q,w,b)=>{g(p,u,i.cstrToJs(q),i.cstrToJs(w),b)}}),"*"]],["sqlite3_uri_int64","i64",["sqlite3_filename","string","i64"]],["sqlite3_value_int64","i64","sqlite3_value*"],["sqlite3_vtab_collation","string","sqlite3_index_info*","int"],["sqlite3_vtab_distinct","int","sqlite3_index_info*"],["sqlite3_vtab_in","int","sqlite3_index_info*","int","int"],["sqlite3_vtab_in_first","int","sqlite3_value*","**"],["sqlite3_vtab_in_next","int","sqlite3_value*","**"],["sqlite3_vtab_nochange","int","sqlite3_context*"],["sqlite3_vtab_on_conflict","int","sqlite3*"],["sqlite3_vtab_rhs_value","int","sqlite3_index_info*","int","**"]],i.bigIntEnabled&&i.exports.sqlite3changegroup_add){let g={signature:"i(ps)",callProxy:p=>(u,q)=>{try{return p(u,i.cstrToJs(q))|0}catch(w){return w.resultCode||r.SQLITE_ERROR}}};i.bindingSignatures.int64.push(["sqlite3changegroup_add","int",["sqlite3_changegroup*","int","void*"]],["sqlite3changegroup_add_strm","int",["sqlite3_changegroup*",new i.xWrap.FuncPtrAdapter({name:"xInput",signature:"i(ppp)",bindScope:"transient"}),"void*"]],["sqlite3changegroup_delete",void 0,["sqlite3_changegroup*"]],["sqlite3changegroup_new","int",["**"]],["sqlite3changegroup_output","int",["sqlite3_changegroup*","int*","**"]],["sqlite3changegroup_output_strm","int",["sqlite3_changegroup*",new i.xWrap.FuncPtrAdapter({name:"xOutput",signature:"i(ppi)",bindScope:"transient"}),"void*"]],["sqlite3changeset_apply","int",["sqlite3*","int","void*",new i.xWrap.FuncPtrAdapter({name:"xFilter",bindScope:"transient",...g}),new i.xWrap.FuncPtrAdapter({name:"xConflict",signature:"i(pip)",bindScope:"transient"}),"void*"]],["sqlite3changeset_apply_strm","int",["sqlite3*",new i.xWrap.FuncPtrAdapter({name:"xInput",signature:"i(ppp)",bindScope:"transient"}),"void*",new i.xWrap.FuncPtrAdapter({name:"xFilter",bindScope:"transient",...g}),new i.xWrap.FuncPtrAdapter({name:"xConflict",signature:"i(pip)",bindScope:"transient"}),"void*"]],["sqlite3changeset_apply_v2","int",["sqlite3*","int","void*",new i.xWrap.FuncPtrAdapter({name:"xFilter",bindScope:"transient",...g}),new i.xWrap.FuncPtrAdapter({name:"xConflict",signature:"i(pip)",bindScope:"transient"}),"void*","**","int*","int"]],["sqlite3changeset_apply_v2_strm","int",["sqlite3*",new i.xWrap.FuncPtrAdapter({name:"xInput",signature:"i(ppp)",bindScope:"transient"}),"void*",new i.xWrap.FuncPtrAdapter({name:"xFilter",bindScope:"transient",...g}),new i.xWrap.FuncPtrAdapter({name:"xConflict",signature:"i(pip)",bindScope:"transient"}),"void*","**","int*","int"]],["sqlite3changeset_concat","int",["int","void*","int","void*","int*","**"]],["sqlite3changeset_concat_strm","int",[new i.xWrap.FuncPtrAdapter({name:"xInputA",signature:"i(ppp)",bindScope:"transient"}),"void*",new i.xWrap.FuncPtrAdapter({name:"xInputB",signature:"i(ppp)",bindScope:"transient"}),"void*",new i.xWrap.FuncPtrAdapter({name:"xOutput",signature:"i(ppi)",bindScope:"transient"}),"void*"]],["sqlite3changeset_conflict","int",["sqlite3_changeset_iter*","int","**"]],["sqlite3changeset_finalize","int",["sqlite3_changeset_iter*"]],["sqlite3changeset_fk_conflicts","int",["sqlite3_changeset_iter*","int*"]],["sqlite3changeset_invert","int",["int","void*","int*","**"]],["sqlite3changeset_invert_strm","int",[new i.xWrap.FuncPtrAdapter({name:"xInput",signature:"i(ppp)",bindScope:"transient"}),"void*",new i.xWrap.FuncPtrAdapter({name:"xOutput",signature:"i(ppi)",bindScope:"transient"}),"void*"]],["sqlite3changeset_new","int",["sqlite3_changeset_iter*","int","**"]],["sqlite3changeset_next","int",["sqlite3_changeset_iter*"]],["sqlite3changeset_old","int",["sqlite3_changeset_iter*","int","**"]],["sqlite3changeset_op","int",["sqlite3_changeset_iter*","**","int*","int*","int*"]],["sqlite3changeset_pk","int",["sqlite3_changeset_iter*","**","int*"]],["sqlite3changeset_start","int",["**","int","*"]],["sqlite3changeset_start_strm","int",["**",new i.xWrap.FuncPtrAdapter({name:"xInput",signature:"i(ppp)",bindScope:"transient"}),"void*"]],["sqlite3changeset_start_v2","int",["**","int","*","int"]],["sqlite3changeset_start_v2_strm","int",["**",new i.xWrap.FuncPtrAdapter({name:"xInput",signature:"i(ppp)",bindScope:"transient"}),"void*","int"]],["sqlite3session_attach","int",["sqlite3_session*","string"]],["sqlite3session_changeset","int",["sqlite3_session*","int*","**"]],["sqlite3session_changeset_size","i64",["sqlite3_session*"]],["sqlite3session_changeset_strm","int",["sqlite3_session*",new i.xWrap.FuncPtrAdapter({name:"xOutput",signature:"i(ppp)",bindScope:"transient"}),"void*"]],["sqlite3session_config","int",["int","void*"]],["sqlite3session_create","int",["sqlite3*","string","**"]],["sqlite3session_diff","int",["sqlite3_session*","string","string","**"]],["sqlite3session_enable","int",["sqlite3_session*","int"]],["sqlite3session_indirect","int",["sqlite3_session*","int"]],["sqlite3session_isempty","int",["sqlite3_session*"]],["sqlite3session_memory_used","i64",["sqlite3_session*"]],["sqlite3session_object_config","int",["sqlite3_session*","int","void*"]],["sqlite3session_patchset","int",["sqlite3_session*","*","**"]],["sqlite3session_patchset_strm","int",["sqlite3_session*",new i.xWrap.FuncPtrAdapter({name:"xOutput",signature:"i(ppp)",bindScope:"transient"}),"void*"]],["sqlite3session_table_filter",void 0,["sqlite3_session*",new i.xWrap.FuncPtrAdapter({name:"xFilter",...g,contextKey:(p,u)=>p[0]}),"*"]])}i.bindingSignatures.wasm=[["sqlite3_wasm_db_reset","int","sqlite3*"],["sqlite3_wasm_db_vfs","sqlite3_vfs*","sqlite3*","string"],["sqlite3_wasm_vfs_create_file","int","sqlite3_vfs*","string","*","int"],["sqlite3_wasm_vfs_unlink","int","sqlite3_vfs*","string"]],e.StructBinder=globalThis.Jaccwabyt({heap:i.heap8u,alloc:i.alloc,dealloc:i.dealloc,bigIntEnabled:i.bigIntEnabled,memberPrefix:"$"}),delete globalThis.Jaccwabyt;{let g=i.xWrap.argAdapter("string");i.xWrap.argAdapter("string:flexible",b=>g(m.flexibleString(b))),i.xWrap.argAdapter("string:static",function(b){return i.isPtr(b)?b:(b=""+b,this[b]||(this[b]=i.allocCString(b)))}.bind(Object.create(null)));let p=i.xWrap.argAdapter("*"),u=function(){};i.xWrap.argAdapter("sqlite3_filename",p)("sqlite3_context*",p)("sqlite3_value*",p)("void*",p)("sqlite3_changegroup*",p)("sqlite3_changeset_iter*",p)("sqlite3_session*",p)("sqlite3_stmt*",b=>p(b instanceof(e?.oo1?.Stmt||u)?b.pointer:b))("sqlite3*",b=>p(b instanceof(e?.oo1?.DB||u)?b.pointer:b))("sqlite3_index_info*",b=>p(b instanceof(r.sqlite3_index_info||u)?b.pointer:b))("sqlite3_module*",b=>p(b instanceof(r.sqlite3_module||u)?b.pointer:b))("sqlite3_vfs*",b=>typeof b=="string"?r.sqlite3_vfs_find(b)||e.SQLite3Error.toss(r.SQLITE_NOTFOUND,"Unknown sqlite3_vfs name:",b):p(b instanceof(r.sqlite3_vfs||u)?b.pointer:b));let q=i.xWrap.resultAdapter("*");i.xWrap.resultAdapter("sqlite3*",q)("sqlite3_context*",q)("sqlite3_stmt*",q)("sqlite3_value*",q)("sqlite3_vfs*",q)("void*",q);for(let b of i.bindingSignatures)r[b[0]]=i.xWrap.apply(null,b);for(let b of i.bindingSignatures.wasm)i[b[0]]=i.xWrap.apply(null,b);let w=function(b){return()=>s(b+"() is unavailable due to lack","of BigInt support in this build.")};for(let b of i.bindingSignatures.int64)r[b[0]]=i.bigIntEnabled?i.xWrap.apply(null,b):w(b[0]);if(delete i.bindingSignatures,i.exports.sqlite3_wasm_db_error){let b=i.xWrap("sqlite3_wasm_db_error","int","sqlite3*","int","string");m.sqlite3_wasm_db_error=function(T,I,F){return I instanceof e.WasmAllocError?(I=r.SQLITE_NOMEM,F=0):I instanceof Error&&(F=F||""+I,I=I.resultCode||r.SQLITE_ERROR),T?b(T,I,F):I}}else m.sqlite3_wasm_db_error=function(b,T,I){return console.warn("sqlite3_wasm_db_error() is not exported.",arguments),T}}{let g=i.xCall("sqlite3_wasm_enum_json");g||s("Maintenance required: increase sqlite3_wasm_enum_json()'s","static buffer size!"),i.ctype=JSON.parse(i.cstrToJs(g));let p=["access","authorizer","blobFinalizers","changeset","config","dataTypes","dbConfig","dbStatus","encodings","fcntl","flock","ioCap","limits","openFlags","prepareFlags","resultCodes","sqlite3Status","stmtStatus","syncFlags","trace","txnState","udfFlags","version"];i.bigIntEnabled&&p.push("serialize","session","vtab");for(let w of p)for(let b of Object.entries(i.ctype[w]))r[b[0]]=b[1];i.functionEntry(r.SQLITE_WASM_DEALLOC)||s("Internal error: cannot resolve exported function","entry SQLITE_WASM_DEALLOC (=="+r.SQLITE_WASM_DEALLOC+").");let u=Object.create(null);for(let w of["resultCodes"])for(let b of Object.entries(i.ctype[w]))u[b[1]]=b[0];r.sqlite3_js_rc_str=w=>u[w];let q=Object.assign(Object.create(null),{WasmTestStruct:!0,sqlite3_kvvfs_methods:!m.isUIThread(),sqlite3_index_info:!i.bigIntEnabled,sqlite3_index_constraint:!i.bigIntEnabled,sqlite3_index_orderby:!i.bigIntEnabled,sqlite3_index_constraint_usage:!i.bigIntEnabled});for(let w of i.ctype.structs)q[w.name]||(r[w.name]=e.StructBinder(w));if(r.sqlite3_index_info){for(let w of["sqlite3_index_constraint","sqlite3_index_orderby","sqlite3_index_constraint_usage"])r.sqlite3_index_info[w]=r[w],delete r[w];r.sqlite3_vtab_config=i.xWrap("sqlite3_wasm_vtab_config","int",["sqlite3*","int","int"])}}let y=(g,p,u)=>e.util.sqlite3_wasm_db_error(g,r.SQLITE_MISUSE,p+"() requires "+u+" argument"+(u===1?"":"s")+"."),A=g=>m.sqlite3_wasm_db_error(g,r.SQLITE_FORMAT,"SQLITE_UTF8 is the only supported encoding."),C=g=>i.xWrap.argAdapter("sqlite3*")(g),j=g=>i.isPtr(g)?i.cstrToJs(g):g,W=function(g,p){g=C(g);let u=this.dbMap.get(g);if(p)!u&&p>0&&this.dbMap.set(g,u=Object.create(null));else return this.dbMap.delete(g),u;return u}.bind(Object.assign(Object.create(null),{dbMap:new Map}));W.addCollation=function(g,p){let u=W(g,1);u.collation||(u.collation=new Set),u.collation.add(j(p).toLowerCase())},W._addUDF=function(g,p,u,q){p=j(p).toLowerCase();let w=q.get(p);w||q.set(p,w=new Set),w.add(u<0?-1:u)},W.addFunction=function(g,p,u){let q=W(g,1);q.udf||(q.udf=new Map),this._addUDF(g,p,u,q.udf)},W.addWindowFunc=function(g,p,u){let q=W(g,1);q.wudf||(q.wudf=new Map),this._addUDF(g,p,u,q.wudf)},W.cleanup=function(g){g=C(g);let p=[g];for(let w of["sqlite3_busy_handler","sqlite3_commit_hook","sqlite3_preupdate_hook","sqlite3_progress_handler","sqlite3_rollback_hook","sqlite3_set_authorizer","sqlite3_trace_v2","sqlite3_update_hook"]){let b=i.exports[w];p.length=b.length;try{r[w](...p)}catch(T){console.warn("close-time call of",w+"(",p,") threw:",T)}}let u=W(g,0);if(!u)return;if(u.collation){for(let w of u.collation)try{r.sqlite3_create_collation_v2(g,w,r.SQLITE_UTF8,0,0,0)}catch{}delete u.collation}let q;for(q=0;q<2;++q){let w=q?u.wudf:u.udf;if(!w)continue;let b=q?r.sqlite3_create_window_function:r.sqlite3_create_function_v2;for(let T of w){let I=T[0],F=T[1],O=[g,I,0,r.SQLITE_UTF8,0,0,0,0,0];q&&O.push(0);for(let z of F)try{O[2]=z,b.apply(null,O)}catch{}F.clear()}w.clear()}delete u.udf,delete u.wudf};{let g=i.xWrap("sqlite3_close_v2","int","sqlite3*");r.sqlite3_close_v2=function(p){if(arguments.length!==1)return y(p,"sqlite3_close_v2",1);if(p)try{W.cleanup(p)}catch{}return g(p)}}if(r.sqlite3session_table_filter){let g=i.xWrap("sqlite3session_delete",void 0,["sqlite3_session*"]);r.sqlite3session_delete=function(p){if(arguments.length!==1)return y(pDb,"sqlite3session_delete",1);p&&r.sqlite3session_table_filter(p,0,0),g(p)}}{let g=(u,q)=>"argv["+q+"]:"+u[0]+":"+i.cstrToJs(u[1]).toLowerCase(),p=i.xWrap("sqlite3_create_collation_v2","int",["sqlite3*","string","int","*",new i.xWrap.FuncPtrAdapter({name:"xCompare",signature:"i(pipip)",contextKey:g}),new i.xWrap.FuncPtrAdapter({name:"xDestroy",signature:"v(p)",contextKey:g})]);r.sqlite3_create_collation_v2=function(u,q,w,b,T,I){if(arguments.length!==6)return y(u,"sqlite3_create_collation_v2",6);if(!(w&15))w|=r.SQLITE_UTF8;else if(r.SQLITE_UTF8!==(w&15))return A(u);try{let F=p(u,q,w,b,T,I);return F===0&&T instanceof Function&&W.addCollation(u,q),F}catch(F){return m.sqlite3_wasm_db_error(u,F)}},r.sqlite3_create_collation=(u,q,w,b,T)=>arguments.length===5?r.sqlite3_create_collation_v2(u,q,w,b,T,0):y(u,"sqlite3_create_collation",5)}{let g=function(w,b){return w[0]+":"+(w[2]<0?-1:w[2])+":"+b+":"+i.cstrToJs(w[1]).toLowerCase()},p=Object.assign(Object.create(null),{xInverseAndStep:{signature:"v(pip)",contextKey:g,callProxy:w=>(b,T,I)=>{try{w(b,...r.sqlite3_values_to_js(T,I))}catch(F){r.sqlite3_result_error_js(b,F)}}},xFinalAndValue:{signature:"v(p)",contextKey:g,callProxy:w=>b=>{try{r.sqlite3_result_js(b,w(b))}catch(T){r.sqlite3_result_error_js(b,T)}}},xFunc:{signature:"v(pip)",contextKey:g,callProxy:w=>(b,T,I)=>{try{r.sqlite3_result_js(b,w(b,...r.sqlite3_values_to_js(T,I)))}catch(F){r.sqlite3_result_error_js(b,F)}}},xDestroy:{signature:"v(p)",contextKey:g,callProxy:w=>b=>{try{w(b)}catch(T){console.error("UDF xDestroy method threw:",T)}}}}),u=i.xWrap("sqlite3_create_function_v2","int",["sqlite3*","string","int","int","*",new i.xWrap.FuncPtrAdapter({name:"xFunc",...p.xFunc}),new i.xWrap.FuncPtrAdapter({name:"xStep",...p.xInverseAndStep}),new i.xWrap.FuncPtrAdapter({name:"xFinal",...p.xFinalAndValue}),new i.xWrap.FuncPtrAdapter({name:"xDestroy",...p.xDestroy})]),q=i.xWrap("sqlite3_create_window_function","int",["sqlite3*","string","int","int","*",new i.xWrap.FuncPtrAdapter({name:"xStep",...p.xInverseAndStep}),new i.xWrap.FuncPtrAdapter({name:"xFinal",...p.xFinalAndValue}),new i.xWrap.FuncPtrAdapter({name:"xValue",...p.xFinalAndValue}),new i.xWrap.FuncPtrAdapter({name:"xInverse",...p.xInverseAndStep}),new i.xWrap.FuncPtrAdapter({name:"xDestroy",...p.xDestroy})]);r.sqlite3_create_function_v2=function w(b,T,I,F,O,z,f,h,E){if(w.length!==arguments.length)return y(b,"sqlite3_create_function_v2",w.length);if(!(F&15))F|=r.SQLITE_UTF8;else if(r.SQLITE_UTF8!==(F&15))return A(b);try{let k=u(b,T,I,F,O,z,f,h,E);return k===0&&(z instanceof Function||f instanceof Function||h instanceof Function||E instanceof Function)&&W.addFunction(b,T,I),k}catch(k){return console.error("sqlite3_create_function_v2() setup threw:",k),m.sqlite3_wasm_db_error(b,k,"Creation of UDF threw: "+k)}},r.sqlite3_create_function=function w(b,T,I,F,O,z,f,h){return w.length===arguments.length?r.sqlite3_create_function_v2(b,T,I,F,O,z,f,h,0):y(b,"sqlite3_create_function",w.length)},r.sqlite3_create_window_function=function w(b,T,I,F,O,z,f,h,E,k){if(w.length!==arguments.length)return y(b,"sqlite3_create_window_function",w.length);if(!(F&15))F|=r.SQLITE_UTF8;else if(r.SQLITE_UTF8!==(F&15))return A(b);try{let _=q(b,T,I,F,O,z,f,h,E,k);return _===0&&(z instanceof Function||f instanceof Function||h instanceof Function||E instanceof Function||k instanceof Function)&&W.addWindowFunc(b,T,I),_}catch(_){return console.error("sqlite3_create_window_function() setup threw:",_),m.sqlite3_wasm_db_error(b,_,"Creation of UDF threw: "+_)}},r.sqlite3_create_function_v2.udfSetResult=r.sqlite3_create_function.udfSetResult=r.sqlite3_create_window_function.udfSetResult=r.sqlite3_result_js,r.sqlite3_create_function_v2.udfConvertArgs=r.sqlite3_create_function.udfConvertArgs=r.sqlite3_create_window_function.udfConvertArgs=r.sqlite3_values_to_js,r.sqlite3_create_function_v2.udfSetError=r.sqlite3_create_function.udfSetError=r.sqlite3_create_window_function.udfSetError=r.sqlite3_result_error_js}{let g=(u,q)=>(typeof u=="string"?q=-1:m.isSQLableTypedArray(u)?(q=u.byteLength,u=m.typedArrayToString(u instanceof ArrayBuffer?new Uint8Array(u):u)):Array.isArray(u)&&(u=u.join(""),q=-1),[u,q]),p={basic:i.xWrap("sqlite3_prepare_v3","int",["sqlite3*","string","int","int","**","**"]),full:i.xWrap("sqlite3_prepare_v3","int",["sqlite3*","*","int","int","**","**"])};r.sqlite3_prepare_v3=function u(q,w,b,T,I,F){if(u.length!==arguments.length)return y(q,"sqlite3_prepare_v3",u.length);let[O,z]=g(w,b);switch(typeof O){case"string":return p.basic(q,O,z,T,I,null);case"number":return p.full(q,O,z,T,I,F);default:return m.sqlite3_wasm_db_error(q,r.SQLITE_MISUSE,"Invalid SQL argument type for sqlite3_prepare_v2/v3().")}},r.sqlite3_prepare_v2=function u(q,w,b,T,I){return u.length===arguments.length?r.sqlite3_prepare_v3(q,w,b,0,T,I):y(q,"sqlite3_prepare_v2",u.length)}}{let g=i.xWrap("sqlite3_bind_text","int",["sqlite3_stmt*","int","string","int","*"]),p=i.xWrap("sqlite3_bind_blob","int",["sqlite3_stmt*","int","*","int","*"]);r.sqlite3_bind_text=function u(q,w,b,T,I){if(u.length!==arguments.length)return y(r.sqlite3_db_handle(q),"sqlite3_bind_text",u.length);if(i.isPtr(b)||b===null)return g(q,w,b,T,I);b instanceof ArrayBuffer?b=new Uint8Array(b):Array.isArray(pMem)&&(b=pMem.join(""));let F,O;try{if(m.isSQLableTypedArray(b))F=i.allocFromTypedArray(b),O=b.byteLength;else if(typeof b=="string")[F,O]=i.allocCString(b);else return m.sqlite3_wasm_db_error(r.sqlite3_db_handle(q),r.SQLITE_MISUSE,"Invalid 3rd argument type for sqlite3_bind_text().");return g(q,w,F,O,r.SQLITE_WASM_DEALLOC)}catch(z){return i.dealloc(F),m.sqlite3_wasm_db_error(r.sqlite3_db_handle(q),z)}},r.sqlite3_bind_blob=function u(q,w,b,T,I){if(u.length!==arguments.length)return y(r.sqlite3_db_handle(q),"sqlite3_bind_blob",u.length);if(i.isPtr(b)||b===null)return p(q,w,b,T,I);b instanceof ArrayBuffer?b=new Uint8Array(b):Array.isArray(b)&&(b=b.join(""));let F,O;try{if(m.isBindableTypedArray(b))F=i.allocFromTypedArray(b),O=T>=0?T:b.byteLength;else if(typeof b=="string")[F,O]=i.allocCString(b);else return m.sqlite3_wasm_db_error(r.sqlite3_db_handle(q),r.SQLITE_MISUSE,"Invalid 3rd argument type for sqlite3_bind_blob().");return p(q,w,F,O,r.SQLITE_WASM_DEALLOC)}catch(z){return i.dealloc(F),m.sqlite3_wasm_db_error(r.sqlite3_db_handle(q),z)}}}r.sqlite3_config=function(g,...p){if(arguments.length<2)return r.SQLITE_MISUSE;switch(g){case r.SQLITE_CONFIG_COVERING_INDEX_SCAN:case r.SQLITE_CONFIG_MEMSTATUS:case r.SQLITE_CONFIG_SMALL_MALLOC:case r.SQLITE_CONFIG_SORTERREF_SIZE:case r.SQLITE_CONFIG_STMTJRNL_SPILL:case r.SQLITE_CONFIG_URI:return i.exports.sqlite3_wasm_config_i(g,p[0]);case r.SQLITE_CONFIG_LOOKASIDE:return i.exports.sqlite3_wasm_config_ii(g,p[0],p[1]);case r.SQLITE_CONFIG_MEMDB_MAXSIZE:return i.exports.sqlite3_wasm_config_j(g,p[0]);case r.SQLITE_CONFIG_GETMALLOC:case r.SQLITE_CONFIG_GETMUTEX:case r.SQLITE_CONFIG_GETPCACHE2:case r.SQLITE_CONFIG_GETPCACHE:case r.SQLITE_CONFIG_HEAP:case r.SQLITE_CONFIG_LOG:case r.SQLITE_CONFIG_MALLOC:case r.SQLITE_CONFIG_MMAP_SIZE:case r.SQLITE_CONFIG_MULTITHREAD:case r.SQLITE_CONFIG_MUTEX:case r.SQLITE_CONFIG_PAGECACHE:case r.SQLITE_CONFIG_PCACHE2:case r.SQLITE_CONFIG_PCACHE:case r.SQLITE_CONFIG_PCACHE_HDRSZ:case r.SQLITE_CONFIG_PMASZ:case r.SQLITE_CONFIG_SERIALIZED:case r.SQLITE_CONFIG_SINGLETHREAD:case r.SQLITE_CONFIG_SQLLOG:case r.SQLITE_CONFIG_WIN32_HEAPSIZE:default:return r.SQLITE_NOTFOUND}};{let g=new Set;r.sqlite3_auto_extension=function(p){if(p instanceof Function)p=i.installFunction("i(ppp)",p);else if(arguments.length!==1||!i.isPtr(p))return r.SQLITE_MISUSE;let u=i.exports.sqlite3_auto_extension(p);return p!==arguments[0]&&(u===0?g.add(p):i.uninstallFunction(p)),u},r.sqlite3_cancel_auto_extension=function(p){return!p||arguments.length!==1||!i.isPtr(p)?0:i.exports.sqlite3_cancel_auto_extension(p)},r.sqlite3_reset_auto_extension=function(){i.exports.sqlite3_reset_auto_extension();for(let p of g)i.uninstallFunction(p);g.clear()}}let U=r.sqlite3_vfs_find("kvvfs");if(U)if(m.isUIThread()){let g=new r.sqlite3_kvvfs_methods(i.exports.sqlite3_wasm_kvvfs_methods());delete r.sqlite3_kvvfs_methods;let p=i.exports.sqlite3_wasm_kvvfsMakeKeyOnPstack,u=i.pstack,q=b=>i.peek(b)===115?sessionStorage:localStorage,w={xRead:(b,T,I,F)=>{let O=u.pointer,z=i.scopedAllocPush();try{let f=p(b,T);if(!f)return-3;let h=i.cstrToJs(f),E=q(b).getItem(h);if(!E)return-1;let k=E.length;if(F<=0)return k;if(F===1)return i.poke(I,0),k;let _=i.scopedAllocCString(E);return F>k+1&&(F=k+1),i.heap8u().copyWithin(I,_,_+F-1),i.poke(I+F-1,0),F-1}catch(f){return console.error("kvstorageRead()",f),-2}finally{u.restore(O),i.scopedAllocPop(z)}},xWrite:(b,T,I)=>{let F=u.pointer;try{let O=p(b,T);if(!O)return 1;let z=i.cstrToJs(O);return q(b).setItem(z,i.cstrToJs(I)),0}catch(O){return console.error("kvstorageWrite()",O),r.SQLITE_IOERR}finally{u.restore(F)}},xDelete:(b,T)=>{let I=u.pointer;try{let F=p(b,T);return F?(q(b).removeItem(i.cstrToJs(F)),0):1}catch(F){return console.error("kvstorageDelete()",F),r.SQLITE_IOERR}finally{u.restore(I)}}};for(let b of Object.keys(w))g[g.memberKey(b)]=i.installFunction(g.memberSignature(b),w[b])}else r.sqlite3_vfs_unregister(U);i.xWrap.FuncPtrAdapter.warnOnUse=!0}),globalThis.sqlite3ApiBootstrap.initializers.push(function(e){e.version={libVersion:"3.42.0",libVersionNumber:3042e3,sourceId:"2023-05-16 12:36:15 831d0fb2836b71c9bc51067c49fee4b8f18047814f2ff22d817d25195cf350b0",downloadVersion:342e4}}),globalThis.sqlite3ApiBootstrap.initializers.push(function(e){let s=(..._)=>{throw new Error(_.join(" "))},o=(..._)=>{throw new e.SQLite3Error(..._)},r=e.capi,i=e.wasm,m=e.util,y=new WeakMap,A=new WeakMap,C=(_,a,c)=>{let d=Object.getOwnPropertyDescriptor(_,a);return d?d.value:c},j=function(_,a){return a&&(_ instanceof p&&(_=_.pointer),o(a,"sqlite3 result code",a+":",_?r.sqlite3_errmsg(_):r.sqlite3_errstr(a))),arguments[0]},W=i.installFunction("i(ippp)",function(_,a,c,d){r.SQLITE_TRACE_STMT===_&&console.log("SQL TRACE #"+ ++this.counter+" via sqlite3@"+a+":",i.cstrToJs(d))}.bind({counter:0})),U=Object.create(null),g=function _(...a){if(!_._name2vfs){_._name2vfs=Object.create(null);let te=typeof importScripts=="function"?re=>o("The VFS for",re,"is only available in the main window thread."):!1;_._name2vfs[":localStorage:"]={vfs:"kvvfs",filename:te||(()=>"local")},_._name2vfs[":sessionStorage:"]={vfs:"kvvfs",filename:te||(()=>"session")}}let c=_.normalizeArgs(...a),d=c.filename,v=c.vfs,P=c.flags;(typeof d!="string"&&typeof d!="number"||typeof P!="string"||v&&typeof v!="string"&&typeof v!="number")&&(e.config.error("Invalid DB ctor args",c,arguments),o("Invalid arguments for DB constructor."));let B=typeof d=="number"?i.cstrToJs(d):d,J=_._name2vfs[B];J&&(v=J.vfs,d=B=J.filename(B));let G,K=0;P.indexOf("c")>=0&&(K|=r.SQLITE_OPEN_CREATE|r.SQLITE_OPEN_READWRITE),P.indexOf("w")>=0&&(K|=r.SQLITE_OPEN_READWRITE),K===0&&(K|=r.SQLITE_OPEN_READONLY),K|=r.SQLITE_OPEN_EXRESCODE;let ee=i.pstack.pointer;try{let te=i.pstack.allocPtr(),re=r.sqlite3_open_v2(d,te,K,v||0);G=i.peekPtr(te),j(G,re),r.sqlite3_extended_result_codes(G,1),P.indexOf("t")>=0&&r.sqlite3_trace_v2(G,r.SQLITE_TRACE_STMT,W,G)}catch(te){throw G&&r.sqlite3_close_v2(G),te}finally{i.pstack.restore(ee)}this.filename=B,y.set(this,G),A.set(this,Object.create(null));try{let te=r.sqlite3_js_db_vfs(G);te||o("Internal error: cannot get VFS for new db handle.");let re=U[te];re instanceof Function?re(this,e):re&&j(G,r.sqlite3_exec(G,re,0,0,0))}catch(te){throw this.close(),te}};g.setVfsPostOpenSql=function(_,a){U[_]=a},g.normalizeArgs=function(_=":memory:",a="c",c=null){let d={};return arguments.length===1&&arguments[0]&&typeof arguments[0]=="object"?(Object.assign(d,arguments[0]),d.flags===void 0&&(d.flags="c"),d.vfs===void 0&&(d.vfs=null),d.filename===void 0&&(d.filename=":memory:")):(d.filename=_,d.flags=a,d.vfs=c),d};let p=function(..._){g.apply(this,_)};p.dbCtorHelper=g;let u={null:1,number:2,string:3,boolean:4,blob:5};u.undefined==u.null,i.bigIntEnabled&&(u.bigint=u.number);let q=function(){u!==arguments[2]&&o(r.SQLITE_MISUSE,"Do not call the Stmt constructor directly. Use DB.prepare()."),this.db=arguments[0],y.set(this,arguments[1]),this.parameterCount=r.sqlite3_bind_parameter_count(this.pointer)},w=function(_){return _.pointer||o("DB has been closed."),_},b=function(_,a){return(a!==(a|0)||a<0||a>=_.columnCount)&&o("Column index",a,"is out of range."),_},T=function(_,a){let c=Object.create(null);switch(c.opt=Object.create(null),a.length){case 1:typeof a[0]=="string"||m.isSQLableTypedArray(a[0])||Array.isArray(a[0])?c.sql=a[0]:a[0]&&typeof a[0]=="object"&&(c.opt=a[0],c.sql=c.opt.sql);break;case 2:c.sql=a[0],c.opt=a[1];break;default:o("Invalid argument count for exec().")}c.sql=m.flexibleString(c.sql),typeof c.sql!="string"&&o("Missing SQL argument or unsupported SQL value type.");let d=c.opt;switch(d.returnValue){case"resultRows":d.resultRows||(d.resultRows=[]),c.returnVal=()=>d.resultRows;break;case"saveSql":d.saveSql||(d.saveSql=[]),c.returnVal=()=>d.saveSql;break;case void 0:case"this":c.returnVal=()=>_;break;default:o("Invalid returnValue value:",d.returnValue)}if(!d.callback&&!d.returnValue&&d.rowMode!==void 0&&(d.resultRows||(d.resultRows=[]),c.returnVal=()=>d.resultRows),d.callback||d.resultRows)switch(d.rowMode===void 0?"array":d.rowMode){case"object":c.cbArg=v=>v.get(Object.create(null));break;case"array":c.cbArg=v=>v.get([]);break;case"stmt":Array.isArray(d.resultRows)&&o("exec(): invalid rowMode for a resultRows array: must","be one of 'array', 'object',","a result column number, or column name reference."),c.cbArg=v=>v;break;default:if(m.isInt32(d.rowMode)){c.cbArg=v=>v.get(d.rowMode);break}else if(typeof d.rowMode=="string"&&d.rowMode.length>1&&d.rowMode[0]==="$"){let v=d.rowMode.substr(1);c.cbArg=P=>{let B=P.get(Object.create(null))[v];return B===void 0?o(r.SQLITE_NOTFOUND,"exec(): unknown result column:",v):B};break}o("Invalid rowMode:",d.rowMode)}return c},I=(_,a,c,...d)=>{let v=_.prepare(a);try{let P=v.bind(c).step()?v.get(...d):void 0;return v.reset(),P}finally{v.finalize()}},F=(_,a,c,d)=>_.exec({sql:a,bind:c,rowMode:d,returnValue:"resultRows"});p.checkRc=(_,a)=>j(_,a),p.prototype={isOpen:function(){return!!this.pointer},affirmOpen:function(){return w(this)},close:function(){if(this.pointer){if(this.onclose&&this.onclose.before instanceof Function)try{this.onclose.before(this)}catch{}let _=this.pointer;if(Object.keys(A.get(this)).forEach((a,c)=>{if(c&&c.pointer)try{c.finalize()}catch{}}),y.delete(this),A.delete(this),r.sqlite3_close_v2(_),this.onclose&&this.onclose.after instanceof Function)try{this.onclose.after(this)}catch{}delete this.filename}},changes:function(_=!1,a=!1){let c=w(this).pointer;return _?a?r.sqlite3_total_changes64(c):r.sqlite3_total_changes(c):a?r.sqlite3_changes64(c):r.sqlite3_changes(c)},dbFilename:function(_="main"){return r.sqlite3_db_filename(w(this).pointer,_)},dbName:function(_=0){return r.sqlite3_db_name(w(this).pointer,_)},dbVfsName:function(_=0){let a,c=r.sqlite3_js_db_vfs(w(this).pointer,_);if(c){let d=new r.sqlite3_vfs(c);try{a=i.cstrToJs(d.$zName)}finally{d.dispose()}}return a},prepare:function(_){w(this);let a=i.pstack.pointer,c,d;try{c=i.pstack.alloc(8),p.checkRc(this,r.sqlite3_prepare_v2(this.pointer,_,-1,c,null)),d=i.peekPtr(c)}finally{i.pstack.restore(a)}d||o("Cannot prepare empty SQL.");let v=new q(this,d,u);return A.get(this)[d]=v,v},exec:function(){w(this);let _=T(this,arguments);if(!_.sql)return o("exec() requires an SQL string.");let a=_.opt,c=a.callback,d=Array.isArray(a.resultRows)?a.resultRows:void 0,v,P=a.bind,B=!!(_.cbArg||a.columnNames||d),J=i.scopedAllocPush(),G=Array.isArray(a.saveSql)?a.saveSql:void 0;try{let K=m.isSQLableTypedArray(_.sql),ee=K?_.sql.byteLength:i.jstrlen(_.sql),te=i.scopedAlloc(2*i.ptrSizeof+(ee+1)),re=te+i.ptrSizeof,ge=re+i.ptrSizeof,S=ge+ee;for(K?i.heap8().set(_.sql,ge):i.jstrcpy(_.sql,i.heap8(),ge,ee,!1),i.poke(ge+ee,0);ge&&i.peek(ge,"i8");){i.pokePtr([te,re],0),p.checkRc(this,r.sqlite3_prepare_v3(this.pointer,ge,ee,0,te,re));let D=i.peekPtr(te);if(ge=i.peekPtr(re),ee=S-ge,!!D){if(G&&G.push(r.sqlite3_sql(D).trim()),v=new q(this,D,u),P&&v.parameterCount&&(v.bind(P),P=null),B&&v.columnCount){let L=Array.isArray(a.columnNames)?0:1;if(B=!1,_.cbArg||d){for(;v.step();v._lockedByExec=!1){L++===0&&v.getColumnNames(a.columnNames),v._lockedByExec=!0;let Q=_.cbArg(v);if(d&&d.push(Q),c&&c.call(a,Q,v)===!1)break}v._lockedByExec=!1}L===0&&v.getColumnNames(a.columnNames)}else v.step();v.reset().finalize(),v=null}}}finally{i.scopedAllocPop(J),v&&(delete v._lockedByExec,v.finalize())}return _.returnVal()},createFunction:function(a,c,d){let v=Q=>Q instanceof Function;switch(arguments.length){case 1:d=a,a=d.name,c=d.xFunc||0;break;case 2:v(c)||(d=c,c=d.xFunc||0);break;case 3:break;default:break}d||(d={}),typeof a!="string"&&o("Invalid arguments: missing function name.");let P=d.xStep||0,B=d.xFinal||0,J=d.xValue||0,G=d.xInverse||0,K;v(c)?(K=!1,(v(P)||v(B))&&o("Ambiguous arguments: scalar or aggregate?"),P=B=null):v(P)?(v(B)||o("Missing xFinal() callback for aggregate or window UDF."),c=null):v(B)?o("Missing xStep() callback for aggregate or window UDF."):o("Missing function-type properties."),K===!1?(v(J)||v(G))&&o("xValue and xInverse are not permitted for non-window UDFs."):v(J)?(v(G)||o("xInverse must be provided if xValue is."),K=!0):v(G)&&o("xValue must be provided if xInverse is.");let ee=d.pApp;ee!=null&&(typeof ee!="number"||!m.isInt32(ee))&&o("Invalid value for pApp property. Must be a legal WASM pointer value.");let te=d.xDestroy||0;te&&!v(te)&&o("xDestroy property must be a function.");let re=0;C(d,"deterministic")&&(re|=r.SQLITE_DETERMINISTIC),C(d,"directOnly")&&(re|=r.SQLITE_DIRECTONLY),C(d,"innocuous")&&(re|=r.SQLITE_INNOCUOUS),a=a.toLowerCase();let ge=c||P,S=C(d,"arity"),D=typeof S=="number"?S:ge.length?ge.length-1:0,L;return K?L=r.sqlite3_create_window_function(this.pointer,a,D,r.SQLITE_UTF8|re,ee||0,P,B,J,G,te):L=r.sqlite3_create_function_v2(this.pointer,a,D,r.SQLITE_UTF8|re,ee||0,c,P,B,te),p.checkRc(this,L),this},selectValue:function(_,a,c){return I(this,_,a,0,c)},selectValues:function(_,a,c){let d=this.prepare(_),v=[];try{for(d.bind(a);d.step();)v.push(d.get(0,c));d.reset()}finally{d.finalize()}return v},selectArray:function(_,a){return I(this,_,a,[])},selectObject:function(_,a){return I(this,_,a,{})},selectArrays:function(_,a){return F(this,_,a,"array")},selectObjects:function(_,a){return F(this,_,a,"object")},openStatementCount:function(){return this.pointer?Object.keys(A.get(this)).length:0},transaction:function(_){let a="BEGIN";arguments.length>1&&(/[^a-zA-Z]/.test(arguments[0])&&o(r.SQLITE_MISUSE,"Invalid argument for BEGIN qualifier."),a+=" "+arguments[0],_=arguments[1]),w(this).exec(a);try{let c=_(this);return this.exec("COMMIT"),c}catch(c){throw this.exec("ROLLBACK"),c}},savepoint:function(_){w(this).exec("SAVEPOINT oo1");try{let a=_(this);return this.exec("RELEASE oo1"),a}catch(a){throw this.exec("ROLLBACK to SAVEPOINT oo1; RELEASE SAVEPOINT oo1"),a}},checkRc:function(_){return j(this,_)}};let O=function(_){return _.pointer||o("Stmt has been closed."),_},z=function(_){let a=u[_==null?"null":typeof _];switch(a){case u.boolean:case u.null:case u.number:case u.string:return a;case u.bigint:if(i.bigIntEnabled)return a;default:return m.isBindableTypedArray(_)?u.blob:void 0}},f=function(_){return z(_)||o("Unsupported bind() argument type:",typeof _)},h=function(_,a){let c=typeof a=="number"?a:r.sqlite3_bind_parameter_index(_.pointer,a);return c===0||!m.isInt32(c)?o("Invalid bind() parameter name: "+a):(c<1||c>_.parameterCount)&&o("Bind index",a,"is out of range."),c},E=function(_,a){return _._lockedByExec&&o("Operation is illegal when statement is locked:",a),_},k=function _(a,c,d,v){E(O(a),"bind()"),_._||(_._tooBigInt=B=>o("BigInt value is too big to store without precision loss:",B),_._={string:function(B,J,G,K){let[ee,te]=i.allocCString(G,!0);return(K?r.sqlite3_bind_blob:r.sqlite3_bind_text)(B.pointer,J,ee,te,r.SQLITE_WASM_DEALLOC)}}),f(v),c=h(a,c);let P=0;switch(v==null?u.null:d){case u.null:P=r.sqlite3_bind_null(a.pointer,c);break;case u.string:P=_._.string(a,c,v,!1);break;case u.number:{let B;m.isInt32(v)?B=r.sqlite3_bind_int:typeof v=="bigint"?m.bigIntFits64(v)?i.bigIntEnabled?B=r.sqlite3_bind_int64:m.bigIntFitsDouble(v)?(v=Number(v),B=r.sqlite3_bind_double):_._tooBigInt(v):_._tooBigInt(v):(v=Number(v),i.bigIntEnabled&&Number.isInteger(v)?B=r.sqlite3_bind_int64:B=r.sqlite3_bind_double),P=B(a.pointer,c,v);break}case u.boolean:P=r.sqlite3_bind_int(a.pointer,c,v?1:0);break;case u.blob:{if(typeof v=="string"){P=_._.string(a,c,v,!0);break}else v instanceof ArrayBuffer?v=new Uint8Array(v):m.isBindableTypedArray(v)||o("Binding a value as a blob requires","that it be a string, Uint8Array, Int8Array, or ArrayBuffer.");let B=i.alloc(v.byteLength||1);i.heap8().set(v.byteLength?v:[0],B),P=r.sqlite3_bind_blob(a.pointer,c,B,v.byteLength,r.SQLITE_WASM_DEALLOC);break}default:e.config.warn("Unsupported bind() argument type:",v),o("Unsupported bind() argument type: "+typeof v)}return P&&p.checkRc(a.db.pointer,P),a._mayGet=!1,a};q.prototype={finalize:function(){if(this.pointer){E(this,"finalize()");let _=r.sqlite3_finalize(this.pointer);return delete A.get(this.db)[this.pointer],y.delete(this),delete this._mayGet,delete this.parameterCount,delete this._lockedByExec,delete this.db,_}},clearBindings:function(){return E(O(this),"clearBindings()"),r.sqlite3_clear_bindings(this.pointer),this._mayGet=!1,this},reset:function(_){E(this,"reset()"),_&&this.clearBindings();let a=r.sqlite3_reset(O(this).pointer);return this._mayGet=!1,j(this.db,a),this},bind:function(){O(this);let _,a;switch(arguments.length){case 1:_=1,a=arguments[0];break;case 2:_=arguments[0],a=arguments[1];break;default:o("Invalid bind() arguments.")}return a===void 0?this:(this.parameterCount||o("This statement has no bindable parameters."),this._mayGet=!1,a===null?k(this,_,u.null,a):Array.isArray(a)?(arguments.length!==1&&o("When binding an array, an index argument is not permitted."),a.forEach((c,d)=>k(this,d+1,f(c),c)),this):(a instanceof ArrayBuffer&&(a=new Uint8Array(a)),typeof a=="object"&&!m.isBindableTypedArray(a)?(arguments.length!==1&&o("When binding an object, an index argument is not permitted."),Object.keys(a).forEach(c=>k(this,c,f(a[c]),a[c])),this):k(this,_,f(a),a)))},bindAsBlob:function(_,a){O(this),arguments.length===1&&(a=_,_=1);let c=f(a);return u.string!==c&&u.blob!==c&&u.null!==c&&o("Invalid value type for bindAsBlob()"),k(this,_,u.blob,a)},step:function(){E(this,"step()");let _=r.sqlite3_step(O(this).pointer);switch(_){case r.SQLITE_DONE:return this._mayGet=!1;case r.SQLITE_ROW:return this._mayGet=!0;default:this._mayGet=!1,e.config.warn("sqlite3_step() rc=",_,r.sqlite3_js_rc_str(_),"SQL =",r.sqlite3_sql(this.pointer)),p.checkRc(this.db.pointer,_)}},stepReset:function(){return this.step(),this.reset()},stepFinalize:function(){try{let _=this.step();return this.reset(),_}finally{try{this.finalize()}catch{}}},get:function(_,a){if(O(this)._mayGet||o("Stmt.step() has not (recently) returned true."),Array.isArray(_)){let c=0,d=this.columnCount;for(;c<d;)_[c]=this.get(c++);return _}else if(_&&typeof _=="object"){let c=0,d=this.columnCount;for(;c<d;)_[r.sqlite3_column_name(this.pointer,c)]=this.get(c++);return _}switch(b(this,_),a===void 0?r.sqlite3_column_type(this.pointer,_):a){case r.SQLITE_NULL:return null;case r.SQLITE_INTEGER:if(i.bigIntEnabled){let c=r.sqlite3_column_int64(this.pointer,_);return c>=Number.MIN_SAFE_INTEGER&&c<=Number.MAX_SAFE_INTEGER?Number(c).valueOf():c}else{let c=r.sqlite3_column_double(this.pointer,_);return(c>Number.MAX_SAFE_INTEGER||c<Number.MIN_SAFE_INTEGER)&&o("Integer is out of range for JS integer range: "+c),m.isInt32(c)?c|0:c}case r.SQLITE_FLOAT:return r.sqlite3_column_double(this.pointer,_);case r.SQLITE_TEXT:return r.sqlite3_column_text(this.pointer,_);case r.SQLITE_BLOB:{let c=r.sqlite3_column_bytes(this.pointer,_),d=r.sqlite3_column_blob(this.pointer,_),v=new Uint8Array(c);return c&&v.set(i.heap8u().slice(d,d+c),0),c&&this.db._blobXfer instanceof Array&&this.db._blobXfer.push(v.buffer),v}default:o("Don't know how to translate","type of result column #"+_+".")}o("Not reached.")},getInt:function(_){return this.get(_,r.SQLITE_INTEGER)},getFloat:function(_){return this.get(_,r.SQLITE_FLOAT)},getString:function(_){return this.get(_,r.SQLITE_TEXT)},getBlob:function(_){return this.get(_,r.SQLITE_BLOB)},getJSON:function(_){let a=this.get(_,r.SQLITE_STRING);return a===null?a:JSON.parse(a)},getColumnName:function(_){return r.sqlite3_column_name(b(O(this),_).pointer,_)},getColumnNames:function(_=[]){b(O(this),0);let a=this.columnCount;for(let c=0;c<a;++c)_.push(r.sqlite3_column_name(this.pointer,c));return _},getParamIndex:function(_){return O(this).parameterCount?r.sqlite3_bind_parameter_index(this.pointer,_):void 0}};{let _={enumerable:!0,get:function(){return y.get(this)},set:()=>o("The pointer property is read-only.")};Object.defineProperty(q.prototype,"pointer",_),Object.defineProperty(p.prototype,"pointer",_)}if(Object.defineProperty(q.prototype,"columnCount",{enumerable:!1,get:function(){return r.sqlite3_column_count(this.pointer)},set:()=>o("The columnCount property is read-only.")}),e.oo1={DB:p,Stmt:q},m.isUIThread()){e.oo1.JsStorageDb=function(a="session"){a!=="session"&&a!=="local"&&o("JsStorageDb db name must be one of 'session' or 'local'."),g.call(this,{filename:a,flags:"c",vfs:"kvvfs"})};let _=e.oo1.JsStorageDb;_.prototype=Object.create(p.prototype),_.clearStorage=r.sqlite3_js_kvvfs_clear,_.prototype.clearStorage=function(){return _.clearStorage(w(this).filename)},_.storageSize=r.sqlite3_js_kvvfs_size,_.prototype.storageSize=function(){return _.storageSize(w(this).filename)}}}),globalThis.sqlite3ApiBootstrap.initializers.push(function(e){e.initWorker1API=function(){"use strict";let s=(...p)=>{throw new Error(p.join(" "))};globalThis.WorkerGlobalScope instanceof Function||s("initWorker1API() must be run from a Worker thread.");let o=this.self,r=this.sqlite3||s("Missing this.sqlite3 object."),i=r.oo1.DB,m=function(p){let u=y.idMap.get(p);return u||(u="db#"+ ++y.idSeq+"@"+p.pointer,y.idMap.set(p,u),u)},y={dbList:[],idSeq:0,idMap:new WeakMap,xfer:[],open:function(p){let u=new i(p);return this.dbs[m(u)]=u,this.dbList.indexOf(u)<0&&this.dbList.push(u),u},close:function(p,u){if(p){delete this.dbs[m(p)];let q=p.filename,w=r.wasm.sqlite3_wasm_db_vfs(p.pointer,0);p.close();let b=this.dbList.indexOf(p);b>=0&&this.dbList.splice(b,1),u&&q&&w&&r.wasm.sqlite3_wasm_vfs_unlink(w,q)}},post:function(p,u){u&&u.length?(globalThis.postMessage(p,Array.from(u)),u.length=0):globalThis.postMessage(p)},dbs:Object.create(null),getDb:function(p,u=!0){return this.dbs[p]||(u?s("Unknown (or closed) DB ID:",p):void 0)}},A=function(p=y.dbList[0]){return p&&p.pointer?p:s("DB is not opened.")},C=function(p,u=!0){let q=y.getDb(p.dbId,!1)||y.dbList[0];return u?A(q):q},j=function(){return y.dbList[0]&&m(y.dbList[0])},W=function(p){let u=/^file:.+(vfs=(\w+))/.exec(p);return r.capi.sqlite3_vfs_find(u?u[2]:0)},U=p=>p===""||p[0]===":",g={open:function(p){let u=Object.create(null),q=p.args||Object.create(null);q.simulateError&&s("Throwing because of simulateError flag.");let w=Object.create(null),b,T;if(u.vfs=q.vfs,U(q.filename)?u.filename=q.filename||"":(u.filename=q.filename,b=q.byteArray,b&&(T=W(q.filename))),T){let F;try{F=r.wasm.allocFromTypedArray(b);let O=r.wasm.sqlite3_wasm_vfs_create_file(T,u.filename,F,b.byteLength);O&&r.SQLite3Error.toss(O)}catch(O){throw new r.SQLite3Error(O.name+" creating "+q.filename+": "+O.message,{cause:O})}finally{F&&r.wasm.dealloc(F)}}let I=y.open(u);return w.filename=I.filename,w.persistent=!!r.capi.sqlite3_js_db_uses_vfs(I.pointer,"opfs"),w.dbId=m(I),w.vfs=I.dbVfsName(),w},close:function(p){let u=C(p,!1),q={filename:u&&u.filename};if(u){let w=p.args&&typeof p.args=="object"?!!p.args.unlink:!1;y.close(u,w)}return q},exec:function(p){let u=typeof p.args=="string"?{sql:p.args}:p.args||Object.create(null);u.rowMode==="stmt"?s("Invalid rowMode for 'exec': stmt mode","does not work in the Worker API."):u.sql||s("'exec' requires input SQL.");let q=C(p);(u.callback||Array.isArray(u.resultRows))&&(q._blobXfer=y.xfer);let w=u.callback,b=0,T=!!u.columnNames;typeof w=="string"&&(T||(u.columnNames=[]),u.callback=function(I,F){y.post({type:w,columnNames:u.columnNames,rowNumber:++b,row:I},y.xfer)});try{q.exec(u),u.callback instanceof Function&&(u.callback=w,y.post({type:w,columnNames:u.columnNames,rowNumber:null,row:void 0}))}finally{delete q._blobXfer,u.callback&&(u.callback=w)}return u},"config-get":function(){let p=Object.create(null),u=r.config;return["bigIntEnabled"].forEach(function(q){Object.getOwnPropertyDescriptor(u,q)&&(p[q]=u[q])}),p.version=r.version,p.vfsList=r.capi.sqlite3_js_vfs_list(),p.opfsEnabled=!!r.opfs,p},export:function(p){let u=C(p),q={byteArray:r.capi.sqlite3_js_db_export(u.pointer),filename:u.filename,mimetype:"application/x-sqlite3"};return y.xfer.push(q.byteArray.buffer),q},toss:function(p){s("Testing worker exception")},"opfs-tree":async function(p){return r.opfs||s("OPFS support is unavailable."),await r.opfs.treeList()}};globalThis.onmessage=async function(p){p=p.data;let u,q=p.dbId,w=p.type,b=performance.now();try{g.hasOwnProperty(w)&&g[w]instanceof Function?u=await g[w](p):s("Unknown db worker message type:",p.type)}catch(T){w="error",u={operation:p.type,message:T.message,errorClass:T.name,input:p},T.stack&&(u.stack=typeof T.stack=="string"?T.stack.split(/\n\s*/):T.stack)}q||(q=u.dbId||j()),y.post({type:w,dbId:q,messageId:p.messageId,workerReceivedTime:b,workerRespondTime:performance.now(),departureTime:p.departureTime,result:u},y.xfer)},globalThis.postMessage({type:"sqlite3-api",result:"worker1-ready"})}.bind({self,sqlite3:e})}),globalThis.sqlite3ApiBootstrap.initializers.push(function(e){let s=e.wasm,o=e.capi,r=e.util.toss3,i=Object.create(null),m=Object.create(null),y=e.StructBinder;e.vfs=i,e.vtab=m;let A=o.sqlite3_index_info;A.prototype.nthConstraint=function(g,p=!1){if(g<0||g>=this.$nConstraint)return!1;let u=this.$aConstraint+A.sqlite3_index_constraint.structInfo.sizeof*g;return p?u:new A.sqlite3_index_constraint(u)},A.prototype.nthConstraintUsage=function(g,p=!1){if(g<0||g>=this.$nConstraint)return!1;let u=this.$aConstraintUsage+A.sqlite3_index_constraint_usage.structInfo.sizeof*g;return p?u:new A.sqlite3_index_constraint_usage(u)},A.prototype.nthOrderBy=function(g,p=!1){if(g<0||g>=this.$nOrderBy)return!1;let u=this.$aOrderBy+A.sqlite3_index_orderby.structInfo.sizeof*g;return p?u:new A.sqlite3_index_orderby(u)};let C=function g(p,u,q,w=g.installMethodArgcCheck){if(p instanceof y.StructType?!(q instanceof Function)&&!s.isPtr(q)&&r("Usage errror: expecting a Function or WASM pointer to one."):r("Usage error: target object is-not-a StructType."),arguments.length===1)return(F,O)=>g(p,F,O,w);g.argcProxy||(g.argcProxy=function(F,O,z,f){return function(...h){return z.length!==arguments.length&&r("Argument mismatch for",F.structInfo.name+"::"+O+": Native signature is:",f),z.apply(this,h)}},g.removeFuncList=function(){this.ondispose.__removeFuncList&&(this.ondispose.__removeFuncList.forEach((F,O)=>{if(typeof F=="number")try{s.uninstallFunction(F)}catch{}}),delete this.ondispose.__removeFuncList)});let b=p.memberSignature(u);b.length<2&&r("Member",u,"does not have a function pointer signature:",b);let T=p.memberKey(u),I=w&&!s.isPtr(q)?g.argcProxy(p,T,q,b):q;if(s.isPtr(I))I&&!s.functionEntry(I)&&r("Pointer",I,"is not a WASM function table entry."),p[T]=I;else{let F=s.installFunction(I,p.memberSignature(u,!0));p[T]=F,(!p.ondispose||!p.ondispose.__removeFuncList)&&(p.addOnDispose("ondispose.__removeFuncList handler",g.removeFuncList),p.ondispose.__removeFuncList=[]),p.ondispose.__removeFuncList.push(T,F)}return(F,O)=>g(p,F,O,w)};C.installMethodArgcCheck=!1;let j=function(g,p,u=C.installMethodArgcCheck){let q=new Map;for(let w of Object.keys(p)){let b=p[w],T=q.get(b);if(T){let I=g.memberKey(w);g[I]=g[g.memberKey(T)]}else C(g,w,b,u),q.set(b,w)}return g};y.StructType.prototype.installMethod=function(p,u,q=C.installMethodArgcCheck){return arguments.length<3&&p&&typeof p=="object"?j(this,...arguments):C(this,...arguments)},y.StructType.prototype.installMethods=function(g,p=C.installMethodArgcCheck){return j(this,g,p)},o.sqlite3_vfs.prototype.registerVfs=function(g=!1){this instanceof e.capi.sqlite3_vfs||r("Expecting a sqlite3_vfs-type argument.");let p=o.sqlite3_vfs_register(this,g?1:0);return p&&r("sqlite3_vfs_register(",this,") failed with rc",p),this.pointer!==o.sqlite3_vfs_find(this.$zName)&&r("BUG: sqlite3_vfs_find(vfs.$zName) failed for just-installed VFS",this),this},i.installVfs=function(g){let p=0,u=["io","vfs"];for(let q of u){let w=g[q];w&&(++p,j(w.struct,w.methods,!!w.applyArgcCheck),q==="vfs"&&(!w.struct.$zName&&typeof w.name=="string"&&w.struct.addOnDispose(w.struct.$zName=s.allocCString(w.name)),w.struct.registerVfs(!!w.asDefault)))}return p||r("Misuse: installVfs() options object requires at least","one of:",u),this};let W=function(g,p){return function(u,q=!1){if(arguments.length===0&&(u=new p),u instanceof p)return this.set(u.pointer,u),u;s.isPtr(u)||e.SQLite3Error.toss("Invalid argument to",g+"()");let w=this.get(u);return q&&this.delete(u),w}.bind(new Map)},U=function(g,p){let u=W(g,p);return Object.assign(Object.create(null),{StructType:p,create:q=>{let w=u();return s.pokePtr(q,w.pointer),w},get:q=>u(q),unget:q=>u(q,!0),dispose:q=>{let w=u(q,!0);w&&w.dispose()}})};m.xVtab=U("xVtab",o.sqlite3_vtab),m.xCursor=U("xCursor",o.sqlite3_vtab_cursor),m.xIndexInfo=g=>new o.sqlite3_index_info(g),m.xError=function g(p,u,q){if(g.errorReporter instanceof Function)try{g.errorReporter("sqlite3_module::"+p+"(): "+u.message)}catch{}let w;return u instanceof e.WasmAllocError?w=o.SQLITE_NOMEM:arguments.length>2?w=q:u instanceof e.SQLite3Error&&(w=u.resultCode),w||o.SQLITE_ERROR},m.xError.errorReporter=console.error.bind(console),m.xRowid=(g,p)=>s.poke(g,p,"i64"),m.setupModule=function(g){let p=!1,u=this instanceof o.sqlite3_module?this:g.struct||(p=new o.sqlite3_module);try{let q=g.methods||r("Missing 'methods' object.");for(let w of Object.entries({xConnect:"xCreate",xDisconnect:"xDestroy"})){let b=w[0],T=w[1];q[b]===!0?q[b]=q[T]:q[T]===!0&&(q[T]=q[b])}if(g.catchExceptions){let w=function(I,F){return["xConnect","xCreate"].indexOf(I)>=0?function(O,z,f,h,E,k){try{return F(...arguments)||0}catch(_){return _ instanceof e.WasmAllocError||(s.dealloc(s.peekPtr(k)),s.pokePtr(k,s.allocCString(_.message))),m.xError(I,_)}}:function(...O){try{return F(...O)||0}catch(z){return m.xError(I,z)}}},b=["xCreate","xConnect","xBestIndex","xDisconnect","xDestroy","xOpen","xClose","xFilter","xNext","xEof","xColumn","xRowid","xUpdate","xBegin","xSync","xCommit","xRollback","xFindFunction","xRename","xSavepoint","xRelease","xRollbackTo","xShadowName"],T=Object.create(null);for(let I of b){let F=q[I];if(F instanceof Function)I==="xConnect"&&q.xCreate===F?T[I]=q.xCreate:I==="xCreate"&&q.xConnect===F?T[I]=q.xConnect:T[I]=w(I,F);else continue}j(u,T,!1)}else j(u,q,!!g.applyArgcCheck);if(u.$iVersion===0){let w;typeof g.iVersion=="number"?w=g.iVersion:u.$xShadowName?w=3:u.$xSavePoint||u.$xRelease||u.$xRollbackTo?w=2:w=1,u.$iVersion=w}}catch(q){throw p&&p.dispose(),q}return u},o.sqlite3_module.prototype.setupModule=function(g){return m.setupModule.call(this,g)}}),globalThis.sqlite3ApiBootstrap.initializers.push(function(e){let s=function o(r){if(!globalThis.SharedArrayBuffer||!globalThis.Atomics)return Promise.reject(new Error("Cannot install OPFS: Missing SharedArrayBuffer and/or Atomics. The server must emit the COOP/COEP response headers to enable those. See https://sqlite.org/wasm/doc/trunk/persistence.md#coop-coep"));if(typeof WorkerGlobalScope>"u")return Promise.reject(new Error("The OPFS sqlite3_vfs cannot run in the main thread because it requires Atomics.wait()."));if(!globalThis.FileSystemHandle||!globalThis.FileSystemDirectoryHandle||!globalThis.FileSystemFileHandle||!globalThis.FileSystemFileHandle.prototype.createSyncAccessHandle||!navigator?.storage?.getDirectory)return Promise.reject(new Error("Missing required OPFS APIs."));(!r||typeof r!="object")&&(r=Object.create(null));let i=new URL(globalThis.location.href).searchParams;return r.verbose===void 0&&(r.verbose=i.has("opfs-verbose")?+i.get("opfs-verbose")||2:1),r.sanityChecks===void 0&&(r.sanityChecks=i.has("opfs-sanity-check")),r.proxyUri===void 0&&(r.proxyUri=o.defaultProxyUri),typeof r.proxyUri=="function"&&(r.proxyUri=r.proxyUri()),new Promise(function(y,A){let C={0:e.config.error,1:e.config.warn,2:e.config.log},j=(S,...D)=>{r.verbose>S&&C[S]("OPFS syncer:",...D)},W=(...S)=>j(2,...S),U=(...S)=>j(1,...S),g=(...S)=>j(0,...S),p=e.util.toss,u=e.capi,q=e.wasm,w=u.sqlite3_vfs,b=u.sqlite3_file,T=u.sqlite3_io_methods,I=Object.create(null),F=()=>globalThis.FileSystemHandle&&globalThis.FileSystemDirectoryHandle&&globalThis.FileSystemFileHandle&&globalThis.FileSystemFileHandle.prototype.createSyncAccessHandle&&navigator?.storage?.getDirectory;I.metrics={dump:function(){let S,D=0,L=0,Q=0;for(S in c.opIds){let M=d[S];D+=M.count,L+=M.time,Q+=M.wait,M.avgTime=M.count&&M.time?M.time/M.count:0,M.avgWait=M.count&&M.wait?M.wait/M.count:0}e.config.log(globalThis.location.href,"metrics for",globalThis.location.href,":",d,`
Total of`,D,"op(s) for",L,"ms (incl. "+Q+" ms of waiting on the async side)"),e.config.log("Serialization metrics:",d.s11n),k.postMessage({type:"opfs-async-metrics"})},reset:function(){let S,D=Q=>Q.count=Q.time=Q.wait=0;for(S in c.opIds)D(d[S]=Object.create(null));let L=d.s11n=Object.create(null);L=L.serialize=Object.create(null),L.count=L.time=0,L=d.s11n.deserialize=Object.create(null),L.count=L.time=0}};let O=new w,z=new T,f,h=S=>(f=!0,O.dispose(),A(S)),E=S=>(f=!1,y(S)),k=new Worker(r.proxyUri);setTimeout(()=>{f===void 0&&h(new Error("Timeout while waiting for OPFS async proxy worker."))},4e3),k._originalOnError=k.onerror,k.onerror=function(S){g("Error initializing OPFS asyncer:",S),h(new Error("Loading OPFS async Worker failed for unknown reasons."))};let _=u.sqlite3_vfs_find(null),a=_?new w(_):null;O.$iVersion=2,O.$szOsFile=u.sqlite3_file.structInfo.sizeof,O.$mxPathname=1024,O.$zName=q.allocCString("opfs"),O.$xDlOpen=O.$xDlError=O.$xDlSym=O.$xDlClose=null,O.ondispose=["$zName",O.$zName,"cleanup default VFS wrapper",()=>a?a.dispose():null,"cleanup opfsIoMethods",()=>z.dispose()];let c=Object.create(null);c.verbose=r.verbose,c.littleEndian=(()=>{let S=new ArrayBuffer(2);return new DataView(S).setInt16(0,256,!0),new Int16Array(S)[0]===256})(),c.asyncIdleWaitTime=150,c.asyncS11nExceptions=1,c.fileBufferSize=1024*64,c.sabS11nOffset=c.fileBufferSize,c.sabS11nSize=O.$mxPathname*2,c.sabIO=new SharedArrayBuffer(c.fileBufferSize+c.sabS11nSize),c.opIds=Object.create(null);let d=Object.create(null);{let S=0;c.opIds.whichOp=S++,c.opIds.rc=S++,c.opIds.xAccess=S++,c.opIds.xClose=S++,c.opIds.xDelete=S++,c.opIds.xDeleteNoWait=S++,c.opIds.xFileSize=S++,c.opIds.xLock=S++,c.opIds.xOpen=S++,c.opIds.xRead=S++,c.opIds.xSleep=S++,c.opIds.xSync=S++,c.opIds.xTruncate=S++,c.opIds.xUnlock=S++,c.opIds.xWrite=S++,c.opIds.mkdir=S++,c.opIds["opfs-async-metrics"]=S++,c.opIds["opfs-async-shutdown"]=S++,c.opIds.retry=S++,c.sabOP=new SharedArrayBuffer(S*4),I.metrics.reset()}c.sq3Codes=Object.create(null),["SQLITE_ACCESS_EXISTS","SQLITE_ACCESS_READWRITE","SQLITE_BUSY","SQLITE_ERROR","SQLITE_IOERR","SQLITE_IOERR_ACCESS","SQLITE_IOERR_CLOSE","SQLITE_IOERR_DELETE","SQLITE_IOERR_FSYNC","SQLITE_IOERR_LOCK","SQLITE_IOERR_READ","SQLITE_IOERR_SHORT_READ","SQLITE_IOERR_TRUNCATE","SQLITE_IOERR_UNLOCK","SQLITE_IOERR_WRITE","SQLITE_LOCK_EXCLUSIVE","SQLITE_LOCK_NONE","SQLITE_LOCK_PENDING","SQLITE_LOCK_RESERVED","SQLITE_LOCK_SHARED","SQLITE_LOCKED","SQLITE_MISUSE","SQLITE_NOTFOUND","SQLITE_OPEN_CREATE","SQLITE_OPEN_DELETEONCLOSE","SQLITE_OPEN_MAIN_DB","SQLITE_OPEN_READONLY"].forEach(S=>{(c.sq3Codes[S]=u[S])===void 0&&p("Maintenance required: not found:",S)}),c.opfsFlags=Object.assign(Object.create(null),{OPFS_UNLOCK_ASAP:1,defaultUnlockAsap:!1});let v=(S,...D)=>{let L=c.opIds[S]||p("Invalid op ID:",S);c.s11n.serialize(...D),Atomics.store(c.sabOPView,c.opIds.rc,-1),Atomics.store(c.sabOPView,c.opIds.whichOp,L),Atomics.notify(c.sabOPView,c.opIds.whichOp);let Q=performance.now();Atomics.wait(c.sabOPView,c.opIds.rc,-1);let M=Atomics.load(c.sabOPView,c.opIds.rc);if(d[S].wait+=performance.now()-Q,M&&c.asyncS11nExceptions){let ne=c.s11n.deserialize();ne&&g(S+"() async error:",...ne)}return M};I.debug={asyncShutdown:()=>{U("Shutting down OPFS async listener. The OPFS VFS will no longer work."),v("opfs-async-shutdown")},asyncRestart:()=>{U("Attempting to restart OPFS VFS async listener. Might work, might not."),k.postMessage({type:"opfs-async-restart"})}};let P=()=>{if(c.s11n)return c.s11n;let S=new TextDecoder,D=new TextEncoder("utf-8"),L=new Uint8Array(c.sabIO,c.sabS11nOffset,c.sabS11nSize),Q=new DataView(c.sabIO,c.sabS11nOffset,c.sabS11nSize);c.s11n=Object.create(null);let M=Object.create(null);M.number={id:1,size:8,getter:"getFloat64",setter:"setFloat64"},M.bigint={id:2,size:8,getter:"getBigInt64",setter:"setBigInt64"},M.boolean={id:3,size:4,getter:"getInt32",setter:"setInt32"},M.string={id:4};let ne=V=>M[typeof V]||p("Maintenance required: this value type cannot be serialized.",V),oe=V=>{switch(V){case M.number.id:return M.number;case M.bigint.id:return M.bigint;case M.boolean.id:return M.boolean;case M.string.id:return M.string;default:p("Invalid type ID:",V)}};return c.s11n.deserialize=function(V=!1){++d.s11n.deserialize.count;let pe=performance.now(),be=L[0],he=be?[]:null;if(be){let de=[],x=1,R,N,H;for(R=0;R<be;++R,++x)de.push(oe(L[x]));for(R=0;R<be;++R){let ie=de[R];ie.getter?(H=Q[ie.getter](x,c.littleEndian),x+=ie.size):(N=Q.getInt32(x,c.littleEndian),x+=4,H=S.decode(L.slice(x,x+N)),x+=N),he.push(H)}}return V&&(L[0]=0),d.s11n.deserialize.time+=performance.now()-pe,he},c.s11n.serialize=function(...V){let pe=performance.now();if(++d.s11n.serialize.count,V.length){let be=[],he=0,de=1;for(L[0]=V.length&255;he<V.length;++he,++de)be.push(ne(V[he])),L[de]=be[he].id;for(he=0;he<V.length;++he){let x=be[he];if(x.setter)Q[x.setter](de,V[he],c.littleEndian),de+=x.size;else{let R=D.encode(V[he]);Q.setInt32(de,R.byteLength,c.littleEndian),de+=4,L.set(R,de),de+=R.byteLength}}}else L[0]=0;d.s11n.serialize.time+=performance.now()-pe},c.s11n},B=function S(D=16){S._chars||(S._chars="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ012346789",S._n=S._chars.length);let L=[],Q=0;for(;Q<D;++Q){let M=Math.random()*(S._n*64)%S._n|0;L[Q]=S._chars[M]}return L.join("")},J=Object.create(null),G=Object.create(null);G.op=void 0,G.start=void 0;let K=S=>{G.start=performance.now(),G.op=S,++d[S].count},ee=()=>d[G.op].time+=performance.now()-G.start,te={xCheckReservedLock:function(S,D){let L=J[S];return q.poke(D,L.lockType?1:0,"i32"),0},xClose:function(S){K("xClose");let D=0,L=J[S];return L&&(delete J[S],D=v("xClose",S),L.sq3File&&L.sq3File.dispose()),ee(),D},xDeviceCharacteristics:function(S){return u.SQLITE_IOCAP_UNDELETABLE_WHEN_OPEN},xFileControl:function(S,D,L){return u.SQLITE_NOTFOUND},xFileSize:function(S,D){K("xFileSize");let L=v("xFileSize",S);if(L==0)try{let Q=c.s11n.deserialize()[0];q.poke(D,Q,"i64")}catch(Q){g("Unexpected error reading xFileSize() result:",Q),L=c.sq3Codes.SQLITE_IOERR}return ee(),L},xLock:function(S,D){K("xLock");let L=J[S],Q=0;return L.lockType?L.lockType=D:(Q=v("xLock",S,D),Q===0&&(L.lockType=D)),ee(),Q},xRead:function(S,D,L,Q){K("xRead");let M=J[S],ne;try{ne=v("xRead",S,L,Number(Q)),(ne===0||u.SQLITE_IOERR_SHORT_READ===ne)&&q.heap8u().set(M.sabView.subarray(0,L),D)}catch(oe){g("xRead(",arguments,") failed:",oe,M),ne=u.SQLITE_IOERR_READ}return ee(),ne},xSync:function(S,D){K("xSync"),++d.xSync.count;let L=v("xSync",S,D);return ee(),L},xTruncate:function(S,D){K("xTruncate");let L=v("xTruncate",S,Number(D));return ee(),L},xUnlock:function(S,D){K("xUnlock");let L=J[S],Q=0;return u.SQLITE_LOCK_NONE===D&&L.lockType&&(Q=v("xUnlock",S,D)),Q===0&&(L.lockType=D),ee(),Q},xWrite:function(S,D,L,Q){K("xWrite");let M=J[S],ne;try{M.sabView.set(q.heap8u().subarray(D,D+L)),ne=v("xWrite",S,L,Number(Q))}catch(oe){g("xWrite(",arguments,") failed:",oe,M),ne=u.SQLITE_IOERR_WRITE}return ee(),ne}},re={xAccess:function(S,D,L,Q){K("xAccess");let M=v("xAccess",q.cstrToJs(D));return q.poke(Q,M?0:1,"i32"),ee(),0},xCurrentTime:function(S,D){return q.poke(D,24405875e-1+new Date().getTime()/864e5,"double"),0},xCurrentTimeInt64:function(S,D){return q.poke(D,24405875e-1*864e5+new Date().getTime(),"i64"),0},xDelete:function(S,D,L){return K("xDelete"),v("xDelete",q.cstrToJs(D),L,!1),ee(),0},xFullPathname:function(S,D,L,Q){return q.cstrncpy(Q,D,L)<L?0:u.SQLITE_CANTOPEN},xGetLastError:function(S,D,L){return U("OPFS xGetLastError() has nothing sensible to return."),0},xOpen:function(D,L,Q,M,ne){K("xOpen");let oe=0;L===0?L=B():typeof L=="number"&&(u.sqlite3_uri_boolean(L,"opfs-unlock-asap",0)&&(oe|=c.opfsFlags.OPFS_UNLOCK_ASAP),L=q.cstrToJs(L));let V=Object.create(null);V.fid=Q,V.filename=L,V.sab=new SharedArrayBuffer(c.fileBufferSize),V.flags=M;let pe=v("xOpen",Q,L,M,oe);return pe||(V.readOnly&&q.poke(ne,u.SQLITE_OPEN_READONLY,"i32"),J[Q]=V,V.sabView=c.sabFileBufView,V.sq3File=new b(Q),V.sq3File.$pMethods=z.pointer,V.lockType=u.SQLITE_LOCK_NONE),ee(),pe}};if(a&&(O.$xRandomness=a.$xRandomness,O.$xSleep=a.$xSleep),O.$xRandomness||(re.xRandomness=function(S,D,L){let Q=q.heap8u(),M=0;for(;M<D;++M)Q[L+M]=Math.random()*255e3&255;return M}),O.$xSleep||(re.xSleep=function(S,D){return Atomics.wait(c.sabOPView,c.opIds.xSleep,0,D),0}),I.getResolvedPath=function(S,D){let L=new URL(S,"file://irrelevant").pathname;return D?L.split("/").filter(Q=>!!Q):L},I.getDirForFilename=async function(D,L=!1){let Q=I.getResolvedPath(D,!0),M=Q.pop(),ne=I.rootDirectory;for(let oe of Q)oe&&(ne=await ne.getDirectoryHandle(oe,{create:!!L}));return[ne,M]},I.mkdir=async function(S){try{return await I.getDirForFilename(S+"/filepart",!0),!0}catch{return!1}},I.entryExists=async function(S){try{let[D,L]=await I.getDirForFilename(S);return await D.getFileHandle(L),!0}catch{return!1}},I.randomFilename=B,I.registerVfs=(S=!1)=>q.exports.sqlite3_vfs_register(O.pointer,S?1:0),I.treeList=async function(){let S=async function L(Q,M){M.name=Q.name,M.dirs=[],M.files=[];for await(let ne of Q.values())if(ne.kind==="directory"){let oe=Object.create(null);M.dirs.push(oe),await L(ne,oe)}else M.files.push(ne.name)},D=Object.create(null);return await S(I.rootDirectory,D),D},I.rmfr=async function(){let S=I.rootDirectory,D={recurse:!0};for await(let L of S.values())S.removeEntry(L.name,D)},I.unlink=async function(S,D=!1,L=!1){try{let[Q,M]=await I.getDirForFilename(S,!1);return await Q.removeEntry(M,{recursive:D}),!0}catch(Q){if(L)throw new Error("unlink(",arguments[0],") failed: "+Q.message,{cause:Q});return!1}},I.traverse=async function(S){let D={recursive:!0,directory:I.rootDirectory};typeof S=="function"&&(S={callback:S}),S=Object.assign(D,S||{}),async function Q(M,ne){for await(let oe of M.values()){if(S.callback(oe,M,ne)===!1)return!1;if(S.recursive&&oe.kind==="directory"&&await Q(oe,ne+1)===!1)break}}(S.directory,0)},e.oo1){let S=function(...D){let L=e.oo1.DB.dbCtorHelper.normalizeArgs(...D);L.vfs=O.$zName,e.oo1.DB.dbCtorHelper.call(this,L)};S.prototype=Object.create(e.oo1.DB.prototype),e.oo1.OpfsDb=S,e.oo1.DB.dbCtorHelper.setVfsPostOpenSql(O.pointer,function(D,L){L.capi.sqlite3_busy_timeout(D,1e4),L.capi.sqlite3_exec(D,["pragma journal_mode=persist;","pragma cache_size=-16384;"],0,0,0)})}let ge=function(){let S=q.scopedAllocPush(),D=new b;try{let L=D.pointer,Q=u.SQLITE_OPEN_CREATE|u.SQLITE_OPEN_READWRITE|u.SQLITE_OPEN_MAIN_DB,M=q.scopedAlloc(8),ne="/sanity/check/file"+B(8),oe=q.scopedAllocCString(ne),V;if(c.s11n.serialize("This is \xE4 string."),V=c.s11n.deserialize(),W("deserialize() says:",V),V[0]!=="This is \xE4 string."&&p("String d13n error."),re.xAccess(O.pointer,oe,0,M),V=q.peek(M,"i32"),W("xAccess(",ne,") exists ?=",V),V=re.xOpen(O.pointer,oe,L,Q,M),W("open rc =",V,"state.sabOPView[xOpen] =",c.sabOPView[c.opIds.xOpen]),V!==0){g("open failed with code",V);return}re.xAccess(O.pointer,oe,0,M),V=q.peek(M,"i32"),V||p("xAccess() failed to detect file."),V=te.xSync(D.pointer,0),V&&p("sync failed w/ rc",V),V=te.xTruncate(D.pointer,1024),V&&p("truncate failed w/ rc",V),q.poke(M,0,"i64"),V=te.xFileSize(D.pointer,M),V&&p("xFileSize failed w/ rc",V),W("xFileSize says:",q.peek(M,"i64")),V=te.xWrite(D.pointer,oe,10,1),V&&p("xWrite() failed!");let pe=q.scopedAlloc(16);V=te.xRead(D.pointer,pe,6,2),q.poke(pe+6,0);let be=q.cstrToJs(pe);W("xRead() got:",be),be!=="sanity"&&p("Unexpected xRead() value."),re.xSleep&&(W("xSleep()ing before close()ing..."),re.xSleep(O.pointer,2e3),W("waking up from xSleep()")),V=te.xClose(L),W("xClose rc =",V,"sabOPView =",c.sabOPView),W("Deleting file:",ne),re.xDelete(O.pointer,oe,4660),re.xAccess(O.pointer,oe,0,M),V=q.peek(M,"i32"),V&&p("Expecting 0 from xAccess(",ne,") after xDelete()."),U("End of OPFS sanity checks.")}finally{D.dispose(),q.scopedAllocPop(S)}};k.onmessage=function({data:S}){switch(S.type){case"opfs-unavailable":h(new Error(S.payload.join(" ")));break;case"opfs-async-loaded":k.postMessage({type:"opfs-async-init",args:c});break;case"opfs-async-inited":{if(f===!0)break;try{e.vfs.installVfs({io:{struct:z,methods:te},vfs:{struct:O,methods:re}}),c.sabOPView=new Int32Array(c.sabOP),c.sabFileBufView=new Uint8Array(c.sabIO,0,c.fileBufferSize),c.sabS11nView=new Uint8Array(c.sabIO,c.sabS11nOffset,c.sabS11nSize),P(),r.sanityChecks&&(U("Running sanity checks because of opfs-sanity-check URL arg..."),ge()),F()?navigator.storage.getDirectory().then(D=>{k.onerror=k._originalOnError,delete k._originalOnError,e.opfs=I,I.rootDirectory=D,W("End of OPFS sqlite3_vfs setup.",O),E(e)}).catch(h):E(e)}catch(D){g(D),h(D)}break}default:{let D="Unexpected message from the OPFS async worker: "+JSON.stringify(S);g(D),h(new Error(D));break}}}})};s.defaultProxyUri="sqlite3-opfs-async-proxy.js",globalThis.sqlite3ApiBootstrap.initializersAsync.push(async o=>{try{let r=s.defaultProxyUri;return o.scriptInfo.sqlite3Dir&&(s.defaultProxyUri=o.scriptInfo.sqlite3Dir+r),s().catch(i=>{o.config.warn("Ignoring inability to install OPFS sqlite3_vfs:",i.message)})}catch(r){throw o.config.error("installOpfsVfs() exception:",r),r}})}),typeof n<"u"){let e=Object.assign(Object.create(null),{exports:n.asm,memory:n.wasmMemory},globalThis.sqlite3ApiConfig||{});globalThis.sqlite3ApiConfig=e;let s;try{s=globalThis.sqlite3ApiBootstrap()}catch(o){throw console.error("sqlite3ApiBootstrap() error:",o),o}finally{delete globalThis.sqlite3ApiBootstrap,delete globalThis.sqlite3ApiConfig}n.sqlite3=s}else console.warn("This is not running in an Emscripten module context, so","globalThis.sqlite3ApiBootstrap() is _not_ being called due to lack","of config info for the WASM environment.","It must be called manually.")}),le.ready}})();typeof Pe=="object"&&typeof Qe=="object"?Qe.exports=Ne:typeof define=="function"&&define.amd?define([],function(){return Ne}):typeof Pe=="object"&&(Pe.sqlite3InitModule=Ne);(function(){let ye=Ne;if(!ye)throw new Error("Expecting globalThis.sqlite3InitModule to be defined by the Emscripten build.");let le=globalThis.sqlite3InitModuleState=Object.assign(Object.create(null),{moduleScript:globalThis?.document?.currentScript,isWorker:typeof WorkerGlobalScope<"u",location:globalThis.location,urlParams:globalThis?.location?.href?new URL(globalThis.location.href).searchParams:new URLSearchParams});if(le.debugModule=le.urlParams.has("sqlite3.debugModule")?(...t)=>console.warn("sqlite3.debugModule:",...t):()=>{},le.urlParams.has("sqlite3.dir"))le.sqlite3Dir=le.urlParams.get("sqlite3.dir")+"/";else if(le.moduleScript){let t=le.moduleScript.src.split("/");t.pop(),le.sqlite3Dir=t.join("/")+"/"}if(globalThis.sqlite3InitModule=function t(...Fe){return ye(...Fe).then(ve=>{if(typeof WorkerGlobalScope<"u"&&(ve.ENVIRONMENT_IS_PTHREAD||ve._pthread_self||typeof threadAlert=="function"||globalThis?.location?.pathname?.endsWith?.(".worker.js")))return ve;let Se=ve.sqlite3;Se.scriptInfo=le,t.__isUnderTest&&(Se.__isUnderTest=!0);let He=Se.asyncPostInit;return delete Se.asyncPostInit,He()}).catch(ve=>{throw console.error("Exception loading sqlite3 module:",ve),ve})},globalThis.sqlite3InitModule.ready=ye.ready,globalThis.sqlite3InitModuleState.moduleScript){let t=globalThis.sqlite3InitModuleState,Fe=t.moduleScript.src.split("/");Fe.pop(),t.scriptDir=Fe.join("/")+"/"}return le.debugModule("sqlite3InitModuleState =",le),typeof Pe=="object"&&typeof Qe=="object"?Qe.exports=Ne:typeof Pe=="object"&&(Pe.sqlite3InitModule=Ne),globalThis.sqlite3InitModule})()});Tl();})();
